<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Kent Tessman">
<title>HUGO, manuale del programmatore</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/* Windows CMD */
div.literalblock.cmd pre {
  background-color: #0C0C0C;
  color: #F2F2F2;
}
div.literalblock.cmd pre .conum {
  background: #FFF945 !important;
  color: #0C0C0C !important;
}

/* Game Transcripts */
.exampleblock.gametranscript > .content {
  background: #F7FDFF;
  color: #0089B6;
  border-color: #CCF2FF;
}

/* Highlight theme for Hugo syntax */
.listingblock code[data-lang=hugo]::before {
  color: #a09f93;
}

.listingblock pre[class=highlight][lang=hugo] {
  background-color: #2d2d2d;
  border-radius: 4px;
  border: 1px solid #a09f93;
}
.listingblock pre[class=highlight][lang=hugo] > code {
  color: #d3d0c8;
  font-family: Consolas, Monaco, "Courier New", Courier, monospace;
  font-size: 1em;
}
.listingblock pre[class=highlight][lang=hugo] .hl {
  color: #d3d0c8;
}
.listingblock pre[class=highlight][lang=hugo] .hl.num {
  color: #ffcc66;
}
.listingblock pre[class=highlight][lang=hugo] .hl.esc {
  color: #f99157;
}
.listingblock pre[class=highlight][lang=hugo] .hl.ipl {
  color: #ffcc66;
}
.listingblock pre[class=highlight][lang=hugo] .hl.str {
  color: #99cc99;
}
.listingblock pre[class=highlight][lang=hugo] .hl.ppc {
  color: #cc99cc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.pps {
  color: #66cccc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.com {
  color: #a09f93;
  font-style: italic;
}
.listingblock pre[class=highlight][lang=hugo] .hl.slc {
  color: #a09f93;
  font-style: italic;
}
.listingblock pre[class=highlight][lang=hugo] .hl.lin {
  color: #747369;
}
.listingblock pre[class=highlight][lang=hugo] .hl.opt {
  color: #6699cc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwa {
  color: #f2777a;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwb {
  color: #ffcc66;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwc {
  color: #cc99cc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwd {
  color: #cc99cc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwde {
  color: #66cccc;
}
.listingblock pre[class=highlight][lang=hugo] .hl.kwf {
  color: #d27b53;
}

/*# sourceMappingURL=manuale-hugo.css.map */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>HUGO, manuale del programmatore</h1>
<div class="details">
<span id="author" class="author">Kent Tessman</span><br>
<span id="revnumber">version 1,</span>
<span id="revdate">25 Febbraio 1999</span>
<br><span id="revremark">Alpha 6 (revisione documento)</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Contenuti</div>
<ul class="sectlevel1">
<li><a href="#_introduzione">1. INTRODUZIONE</a>
<ul class="sectlevel2">
<li><a href="#_note_legali">1.1. Note legali</a></li>
<li><a href="#_note_meno_legali">1.2. (Note meno legali)</a></li>
<li><a href="#_nomi_e_ringraziamenti">1.3. Nomi e ringraziamenti</a></li>
<li><a href="#_contenuto_della_distribuzione">1.4. Contenuto della distribuzione</a></li>
<li><a href="#_convenzioni_adottate_nel_manuale">1.5. Convenzioni adottate nel manuale</a></li>
<li><a href="#_per_cominciare">1.6. Per cominciare</a></li>
<li><a href="#_opzioni_del_compilatore">1.7. Opzioni del compilatore</a></li>
<li><a href="#_impostazione_dei_limiti">1.8. Impostazione dei limiti</a></li>
<li><a href="#_directory">1.9. Directory</a></li>
<li><a href="#_hugo_engine">1.10. Hugo Engine</a></li>
</ul>
</li>
<li><a href="#_una_prima_occhiata_a_hugo">2. UNA PRIMA OCCHIATA A HUGO</a>
<ul class="sectlevel2">
<li><a href="#_hello_sailor">2.1. Hello, Sailor!</a></li>
<li><a href="#_tipi_di_dati">2.2. Tipi di dati</a></li>
<li><a href="#_righe_multiple">2.3. Righe multiple</a></li>
<li><a href="#_commenti">2.4. Commenti</a></li>
<li><a href="#_errori_del_compilatore">2.5. Errori del compilatore</a></li>
<li><a href="#_direttive_di_compilazione">2.6. Direttive di compilazione</a>
<ul class="sectlevel3">
<li><a href="#_esempio_compilazione_dalla_linea_di_comando">Esempio: Compilazione dalla linea di comando</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_oggetti">3. OGGETTI</a>
<ul class="sectlevel2">
<li><a href="#_lalbero_degli_oggetti">3.1. L&#8217;albero degli oggetti</a></li>
<li><a href="#_attributi">3.2. Attributi</a></li>
<li><a href="#_proprietà">3.3. Proprietà</a></li>
<li><a href="#_classi">3.4. Classi</a></li>
</ul>
</li>
<li><a href="#_la_programmazione_di_hugo">4. LA PROGRAMMAZIONE DI HUGO</a>
<ul class="sectlevel2">
<li><a href="#_variabili">4.1. Variabili</a></li>
<li><a href="#_costanti">4.2. Costanti</a></li>
<li><a href="#_scrivere_il_testo">4.3. Scrivere il testo</a></li>
<li><a href="#_altri_caratteri_di_controllo">4.4. Altri caratteri di controllo</a>
<ul class="sectlevel3">
<li><a href="#_esempio_mischiare_gli_stili_del_testo">Esempio: Mischiare gli stili del testo</a></li>
</ul>
</li>
<li><a href="#_operatori_ed_assegnazioni">4.5. Operatori ed assegnazioni</a></li>
<li><a href="#_operatori_efficienti">4.6. Operatori efficienti</a></li>
<li><a href="#_array_e_stringhe">4.7. Array e stringhe</a>
<ul class="sectlevel3">
<li><a href="#_esempio_usare_le_stringhe">Esempio: Usare le stringhe</a></li>
</ul>
</li>
<li><a href="#_compilazione_condizionale_e_flusso_del_programma">4.8. Compilazione condizionale e flusso del programma</a></li>
</ul>
</li>
<li><a href="#_routine_ed_eventi">5. ROUTINE ED EVENTI</a>
<ul class="sectlevel2">
<li><a href="#_routine">5.1. Routine</a></li>
<li><a href="#_routine_proprietà">5.2. Routine proprietà</a>
<ul class="sectlevel3">
<li><a href="#_esempio_prendere_a_prestito_le_routine_proprietà">Esempio: &#8220;Prendere a prestito&#8221; le Routine Proprietà</a></li>
</ul>
</li>
<li><a href="#_le_routine_before_e_after">5.3. Le routine Before e After</a>
<ul class="sectlevel3">
<li><a href="#_esempio_costruzione_di_un_oggetto_complesso">Esempio: Costruzione di un oggetto complesso</a></li>
</ul>
</li>
<li><a href="#_init_e_main">5.4. Init e Main</a></li>
<li><a href="#_eventi">5.5. Eventi</a>
<ul class="sectlevel3">
<li><a href="#_esempio_costruzione_di_un_evento_orologio">Esempio: Costruzione di un evento orologio</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_micce_demoni_e_script">6. MICCE, DEMONI E SCRIPT</a>
<ul class="sectlevel2">
<li><a href="#_micce_e_demoni">6.1. Micce e Demoni</a>
<ul class="sectlevel3">
<li><a href="#_esempio_un_semplice_daemon_ed_un_ancor_più_semplice_fuse">Esempio: Un semplice Daemon ed un ancor più semplice Fuse</a></li>
</ul>
</li>
<li><a href="#_script">6.2. Script</a></li>
<li><a href="#_una_nota_sulla_globale_event_flag">6.3. Una nota sulla globale event_flag</a></li>
</ul>
</li>
<li><a href="#_grammatica_e_parsing">7. GRAMMATICA E PARSING</a>
<ul class="sectlevel2">
<li><a href="#_definizione_della_grammatica">7.1. Definizione della grammatica</a></li>
<li><a href="#_il_parser">7.2. Il parser</a></li>
</ul>
</li>
<li><a href="#_routine_di_congiunzione">8. ROUTINE DI CONGIUNZIONE</a>
<ul class="sectlevel2">
<li><a href="#_parse">8.1. Parse</a></li>
<li><a href="#_parseerror">8.2. ParseError</a></li>
<li><a href="#_endgame">8.3. EndGame</a></li>
<li><a href="#_findobject">8.4. FindObject</a></li>
<li><a href="#_speakto">8.5. SpeakTo</a></li>
<li><a href="#_perform">8.6. Perform</a></li>
</ul>
</li>
<li><a href="#_il_ciclo_del_gioco">9. IL CICLO DEL GIOCO</a></li>
<li><a href="#_funzionalità_avanzate">10. FUNZIONALITÀ AVANZATE</a>
<ul class="sectlevel2">
<li><a href="#_loggetto_display">10.1. L&#8217;oggetto Display</a></li>
<li><a href="#_finestre">10.2. Finestre</a></li>
<li><a href="#_leggere_e_scrivere_i_file">10.3. Leggere e scrivere i file</a></li>
</ul>
</li>
<li><a href="#_risorse">11. RISORSE</a>
<ul class="sectlevel2">
<li><a href="#_immagini">11.1. Immagini</a></li>
<li><a href="#_suono_e_musica">11.2. Suono e musica</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Hugo Compiler, Engine, Debugger, Library, and the Hugo Manual<br>
Copyright (c) 1995-1998 by Kent Tessman</p>
</div>
<div class="paragraph">
<p><a href="mailto:generalcoffee@geocities.com">mailto:generalcoffee@geocities.com</a></p>
</div>
<div class="paragraph">
<p><a href="http://www.geocities.com/hollywood/academy/5976/hugo.html" class="bare">http://www.geocities.com/hollywood/academy/5976/hugo.html</a></p>
</div>
<hr>
</div>
</div>
<div class="sect1">
<h2 id="_introduzione"><a class="anchor" href="#_introduzione"></a>1. INTRODUZIONE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Hugo è un sistema per la progettazione, la programmazione e l&#8217;esecuzione di interactive fiction sofisticati, o avventure testuali.
È il risultato di un tentativo di espandere ulteriormente i concetti sviluppati nei precedenti sistemi in modo da rendere la programmazione di interactive fiction meno criptica e più accessibile ai progettisti.
Hugo deve molto al formato originale della Infocom (particolarmente per quel che riguarda le sue tabelle interne) così come al compilatore Inform distribuito pubblicamente da Graham Nelson (e la sua interpretazione sintattica del formato Infocom e la lineare definizione della grammatica).</p>
</div>
<div class="paragraph">
<p>Il miglior consiglio che si possa dare per imparare Hugo è probabilmente quello di stampare o avere sottomano in qualche modo il listato del sorgente di <code>SAMPLE.HUG</code>, e di riferirsi completamente a quello; esempi di tutte le funzionalità di Hugo posso essere trovati nel codice sorgente del gioco di esempio.</p>
</div>
<div class="paragraph">
<p>L&#8217;e-mail dell&#8217;autore (The General Coffee Company Film Productions):<br>
<a href="mailto:general@generalcoffee.com" title="Contatta Kent Tessman tramite il suo attuale indirizzo e-mail: &lt;general@generalcoffee.com&gt;">&lt;generalcoffe@geocities.com&gt;</a></p>
</div>
<div class="paragraph">
<p>Home page di Hugo:<br>
<a href="http://www.generalcoffee.com/hugo/gethugo.html" title="Visita il nuovo sito di Hugo su www.generalcoffee.com" target="_blank" rel="noopener">http://www.geocities.com/hollywood/academy/5976/hugo.html</a></p>
</div>
<div class="paragraph">
<p>(Al momento di questa revisione)</p>
</div>
<div class="sect2">
<h3 id="_note_legali"><a class="anchor" href="#_note_legali"></a>1.1. Note legali</h3>
<div class="paragraph">
<p>I programmi creati usando il compilatore di Hugo (Hugo Compiler) sono di proprietà dei rispettivi autori.
Fate attenzione al fatto, comunque, che i file della libreria sono copyright by Kent Tessman, il creatore di Hugo, così come l&#8217;interprete (Hugo Engine).</p>
</div>
<div class="paragraph">
<p>L&#8217;uso dei file della libreria di Hugo e la distribuzione dell&#8217;interprete sono autorizzati fino a quando le transazioni sono non commerciali e gratuite (tranne il caso in cui il prezzo richiesto serva a coprire i costi di distribuzione), e che i file della libreria e l&#8217;interprete non siano distribuiti in forma modificata.</p>
</div>
<div class="paragraph">
<p>Coloro i quali siano interessati ad una distribuzione commerciale di un prodotto creato con il compilatore di Hugo sono pregati di contattare Kent Tessman per le autorizzazioni.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>poiché il compilatore di Hugo e l&#8217;interprete vengono forniti gratuitamente, non esiste nessuna garanzia riguardo al loro uso.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_note_meno_legali"><a class="anchor" href="#_note_meno_legali"></a>1.2. (Note meno legali)</h3>
<div class="paragraph">
<p>Questa sezione aggiuntiva, meno ufficiale, vuole chiarire quali sono le mie intenzioni riguardo all&#8217;uso legale di Hugo, e cosa comporta agli utenti voler distribuire i loro giochi.
Prima di tutto, lasciatemi dire che, sì, voglio continuare a mantenere una certa discrezione su cosa viene fatto con il mio lavoro, e il paragrafo precedente è lì con l&#8217;intenzione di lasciarmi questa capacità.
Hugo è più di un semplice compilatore&#8201;&#8212;&#8201;è un completo sistema di progettazione ed un ambiente di esecuzione, così la distribuzione può coinvolgere altro oltre ad un semplice file <code>.HEX</code> (che, sebbene possa essere stato creato con la libreria di Hugo (Hugo Library) scritta da me, non è in realtà qualcosa che mi riguarda).</p>
</div>
<div class="paragraph">
<p>Quella che segue è una rapida carrellata su come la vedo io riguardo i varii tipi di distribuzione:</p>
</div>
<div class="paragraph">
<p>1. <em>Freeware</em>.
Non ho nessun problema in questo senso, anche se l&#8217;interprete (Hugo Engine) viene distribuito come parte della distribuzione gratuita.<br>
(Sarebbe comunque gentile farmi venire a conoscenza di questo fatto, solo per fare in modo che possa fornire aiuto assicurando che istruzioni corrette, informazioni aggiornate, ecc. siano incluse).
Riguardo all&#8217;utilizzo della Hugo Library: l&#8217;ho scritta proprio per questo scopo, per fare in modo che la gente la usi per scrivere i propri giochi.
La distribuzione Freeware è qualcosa che certamente incoraggio.
Il codice sorgente della Hugo Library, naturalmente, non può essere distribuito in forma modificata a meno che sia esplicitamente indicato che (<strong>a.</strong>) è stata scritta da Kent Tessman, e (<strong>b.</strong>) che è stata successivamente modificata e distribuita da qualcun&#8217;altro.</p>
</div>
<div class="paragraph">
<p>2. <em>Shareware</em>.
Ancora, non credo che questo mi disturbi. (Sebbene, ancora, vorrei essere tenuto aggiornato sulla distribuzione.
L&#8217;unica mia obiezione potrebbe essere nei confronti di qualcuno che è moralmente riprovevole&#8201;&#8212;&#8201;credo di non aver bisogno di scendere in dettagli.
In questo caso, gli direi di scriversi da solo i propri dannati interprete e libreria).
Il mercato Shareware per l&#8217;IF è tristemente depresso, ma la scrittura di un buon gioco richiede un sacco di talento e duro lavoro&#8201;&#8212;&#8201;e se gli autori Hugo vogliono provare a guadagnare un po' dalle quote shareware, auguro loro la miglior fortuna.</p>
</div>
<div class="paragraph">
<p>3. <em>Software commerciale</em>.
Questo è l&#8217;unico punto critico che mi viene in mente.
Sfortunatamente è piuttosto difficile che qualcuno riesca a produrre una pezzo di Interactive Fiction di grande successo commerciale.
D&#8217;altro canto, credo fermamente che Hugo sia in grado di creare alcuni giochi di grande impatto visivo (e sonoro).
E d&#8217;altra parte, specialmente con il software commerciale, quello che avete intenzione di distribuire potrebbe essere stato scritto per più della metà da qualcun altro (ad esempio, io, chi contribuisce alla libreria, i porter, poiché sarei impressionato nel vedere qualcuno che scriva un gioco che, per numero di righe del sorgente, possa rivaleggiare con le più di 35.000 righe di codice dell&#8217;interprete e della libreria).
Ma anche in un caso come questo, mi aspetterei che ogni licenza individuale dia all&#8217;autore la libertà di vendere <em>n</em> copie del gioco senza coinvolgere me o qualunque altro in qualche (anche minore) partecipazione.</p>
</div>
</div>
<div class="sect2">
<h3 id="_nomi_e_ringraziamenti"><a class="anchor" href="#_nomi_e_ringraziamenti"></a>1.3. Nomi e ringraziamenti</h3>
<div class="paragraph">
<p>Coloro i quali si sono presi il compito (qualche volta difficile, sono sicuro) di portare Hugo su varie piattaforme&#8201;&#8212;&#8201;oltre ai porting per DOS 16 bit, DOS 32 bit e Windows fatti dall&#8217;autore&#8201;&#8212;&#8201;sono:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
David Kinder    
</td>
<td class="hdlist2">
<p>Amiga</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Colin Turnbull  
</td>
<td class="hdlist2">
<p>Acorn Archimedes</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Bill Lash       
</td>
<td class="hdlist2">
<p>Linux (più Solaris OS, ecc.)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Gerald Bostock  
</td>
<td class="hdlist2">
<p>OS/2</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>L&#8217;autore ha un forte debito nei loro confronti, per tutto il loro lavoro e per i loro suggerimenti su come migliorare il compilatore e l&#8217;interprete per mezzo di critiche generose e dirette.</p>
</div>
<div class="paragraph">
<p>Più di qualche parola di apprezzamento è dovuta a Volker Blasius che (ora con l&#8217;aiuto di David Kinder) ha la responsabilità sostanziale del mantenimento dell&#8217;Interactive Fiction Archive a
<a href="http://ifarchive.org/" title="Visita il nuovo portale dello IF Archive" target="_blank" rel="noopener">ftp://ftp.gmd.de/if-archive</a>&#8201;&#8212;&#8201;una delle risorse chiave per i programmatori Hugo e raccoglitore primario del materiale dei collaboratori (e lettori) dei newsgroup
<a href="https://groups.google.com/forum/#!forum/rec.arts.int-fiction" title="Visita rec.arts.int-fiction su Google Groups" target="_blank" rel="noopener">rec.arts.int-fiction</a>
e
<a href="https://groups.google.com/forum/#!forum/rec.games.int-fiction" title="Visita rec.games.int-fiction su Google Groups" target="_blank" rel="noopener">rec.games.int-fiction</a>.</p>
</div>
<div class="paragraph">
<p>Grazie anche a chi con i suoi commenti e suggerimenti ha contribuito a rendere Hugo così utile ed usabile come è ora: Dr. Jeff Jenness, Vikram Ravindran, Jesse McGrew, Paolo Vece, Daniel Cardenas, Cam Bowes, Mark Bijster, Jose Luis Cebrian, John Menichelli, Jerome Nichols, Jason Dyer, e Jason Brown.<br>
Riconoscimenti e ringraziamenti vanno anche a Graham Nelson, il cui linguaggio Inform ha contribuito a dare forma alla sintassi iniziale ed alla struttura di Hugo.</p>
</div>
<div class="paragraph">
<p>Ringraziamenti speciali a Julian Arnold e Jim Newland, soci del Comitato Hugo Cosa-Se?.
Entrambi hanno fornito numerosi contributi a Hugo sia in temini di suggerimenti per il linguaggio stesso che per miglioramenti ed estensioni alla libreria&#8201;&#8212;&#8201;per entrare nello specifico sarebbe qualcosa di sicuramente inestimabile.</p>
</div>
<div class="paragraph">
<p>Infine, mio fratello Dean Tessman è stata una risorsa ben sfruttata per la sua volontà a provare attachments multipli di e-mail da 100K di eseguibile e per iniziare discussioni su minuzie programmatorie.</p>
</div>
</div>
<div class="sect2">
<h3 id="_contenuto_della_distribuzione"><a class="anchor" href="#_contenuto_della_distribuzione"></a>1.4. Contenuto della distribuzione</h3>
<div class="paragraph">
<p>Una serie di file fa parte della distribuzione di Hugo:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nel corso di questo manuale, la convenzione dei nomi riguarda il mondo MS-DOS/Windows.
Dal momento che Hugo è disponibile per altri sistemi, il modo di indicare il nome dei file può variare, e la documentazione specifica per le macchine dovrebbe indicare queste variazioni.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>HC.EXE</code>     
</td>
<td class="hdlist2">
<p>Hugo Compiler (il compilatore)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>HE.EXE</code>     
</td>
<td class="hdlist2">
<p>Hugo Engine (l&#8217;interprete)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>HD.EXE</code>     
</td>
<td class="hdlist2">
<p>Hugo Debugger (il debugger)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>HDHELP.HLP</code> 
</td>
<td class="hdlist2">
<p>Debugger help file (l&#8217;help del debugger)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
      
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>HUGOLIB.H</code>  
</td>
<td class="hdlist2">
<p>Routine e definizioni della libreria</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>VERBLIB.H</code>  
</td>
<td class="hdlist2">
<p>Routine standard per i verbi</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>VERBLIB.G</code>  
</td>
<td class="hdlist2">
<p>Definizioni standard per la grammatica</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>OBJLIB.H</code>   
</td>
<td class="hdlist2">
<p>Una libreria con la definizione di una serie di oggetti utili (inclusa da <code>HUGOLIB.H</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
      
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>SAMPLE.HUG</code> 
</td>
<td class="hdlist2">
<p>Codice sorgente del gioco di esempio</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>SHELL.HUG</code>  
</td>
<td class="hdlist2">
<p>Un codice sorgente da riempire</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>E due serie di file che, a seconda delle impostazioni scelte da ciascun utente, sono incluse opzionalmente da <code>HUGOLIB.H</code>, <code>VERBLIB.H</code> e <code>VERBLIB.G</code>:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>HUGOFIX.H</code>  
</td>
<td class="hdlist2">
<p>Routine per il debug</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>HUGOFIX.G</code>  
</td>
<td class="hdlist2">
<p>Grammatica per il debug</p>
</td>
</tr>
<tr>
<td class="hdlist1">
      
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>VERBSTUB.H</code> 
</td>
<td class="hdlist2">
<p>Routine per i verbi addizionali</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>VERBSTUB.G</code> 
</td>
<td class="hdlist2">
<p>Grammatica per i verbi addizionali</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Un file sorgente Hugo addizionale dimostra la capacità di creare header precompilati:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>HUGOLIB.HUG</code> 
</td>
<td class="hdlist2">
<p>Per creare una versione linkabile di <code>HUGOLIB.H</code></p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>L&#8217;ultima versione di Hugo è disponibile tramite FTP anonimo a
<a href="https://www.ifarchive.org/indexes/if-archive/programming/hugo/" title="Visita la sezione Hugo sul nuovo portale dello IF Archive" target="_blank" rel="noopener">ftp://ftp.gmd.de/if-archive/programming/hugo</a>
nella directory if-archive/programming/hugo.
La distribuzione di ciascuno dei file di Hugo è autorizzata solo con il permesso dell&#8217;autore come indicato nelle <a href="#_note_legali">Note Legali</a> più sopra.</p>
</div>
<div class="paragraph">
<p>I file <code>.HUG</code>, <code>.H</code> e <code>.G</code> sono file di testo e come tali vanno scaricati; gli eseguibili sono file binari.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>NOTA SULLA FORMATTAZIONE</strong>: i file indicati sopra sono formattati con una dimensione di tabulazione di 8 spazi; se la formattazione appare incorretta, è necessario sistemare la dimensione della tabulazione nel proprio editor.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_convenzioni_adottate_nel_manuale"><a class="anchor" href="#_convenzioni_adottate_nel_manuale"></a>1.5. Convenzioni adottate nel manuale</h3>
<div class="paragraph">
<p>Le seguenti convenzioni vengono adottate in questo manuale:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>&lt;parametro&gt;</code>   
</td>
<td class="hdlist2">
<p>per i parametri obbligatori</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>[parametro]</code>   
</td>
<td class="hdlist2">
<p>per i parametri opzionali</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>FILE</code>          
</td>
<td class="hdlist2">
<p>per i nomi di file</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>NomeFunzione</code>  
</td>
<td class="hdlist2">
<p>funzioni, ecc.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>'istruzione'</code>  
</td>
<td class="hdlist2">
<p>istruzioni, parole chiave</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&#8230;&#8203;</code>           
</td>
<td class="hdlist2">
<p>per le omissioni</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_per_cominciare"><a class="anchor" href="#_per_cominciare"></a>1.6. Per cominciare</h3>
<div class="paragraph">
<p>Digitate</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc</pre>
</div>
</div>
<div class="paragraph">
<p>senza alcun parametro per avere una lista completa delle opzioni e delle direttive del compilatore.</p>
</div>
<div class="paragraph">
<p>La sintassi MS-DOS per eseguire il compilatore è</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc [-opzioni] &lt;filesorgente[.HUG]&gt;      &lt;fileoggetto&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Non è necessario specificare alcuna opzione, il nome del file oggetto, o l&#8217;esensione del file sorgente.
Il modo più semplice di eseguire il compilatore è</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc &lt;filesorgente&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Senza alcun parametro indicato esplicitamente, il compilatore assume che l&#8217;estensione sia <code>.HUG</code>.
Il file oggetto di default è <code>&lt;filesorgente&gt;.HEX</code>.</p>
</div>
<div class="paragraph">
<p>Ecco come compilare il gioco di esempio.
Con l&#8217;eseguibile del compilatore, i file della libreria, ed il codice sorgente del gioco di esempio tutti nella directory corrente, scrivete</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc -ls sample.hug</pre>
</div>
</div>
<div class="paragraph">
<p>o, più semplicemente,</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc -ls sample</pre>
</div>
</div>
<div class="paragraph">
<p>e dopo qualche secondo (in più, o in meno, a seconda del vostro processore e della vostra configurazione) una schermata di informazioni statistiche verrà visualizzata dopo aver completato la compilazione (grazie all&#8217;opzione <code>-s</code>).</p>
</div>
<div class="paragraph">
<p>Il nuovo file <code>SAMPLE.HEX</code> dovrebbe essere comparso nella directory corrente.
Inoltre, l&#8217;opzione <code>-l</code> ha fatto in modo che tutti i messaggi di compilazione (che avrebbero incluso anche gli errori, se ce ne fossero stati) siano stati scritti nel file <code>SAMPLE.LST</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_opzioni_del_compilatore"><a class="anchor" href="#_opzioni_del_compilatore"></a>1.7. Opzioni del compilatore</h3>
<div class="paragraph">
<p>Una serie di opzioni può essere selezionata attraverso la riga di comando.<br>
Le opzioni disponibili sono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-a</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">termina la compilazione ad ogni errore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-d</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compila come eseguibile <code>.HDX</code> per il debug</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-e</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">formato degli errori esteso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-f</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riepilogo di tutti gli oggetti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-h</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compila come file <code>.HLB</code> per gli header precompilati</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-i</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">visualizza le informazioni di debug</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-l</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">salva i messaggi su disco come <code>&lt;filesorgente&gt;.LST</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-o</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">visualizza l&#8217;albero degli oggetti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-p</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invia l&#8217;output alla stampante</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-s</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">visualizza le statistiche di compilazione</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-t</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">scrive il testo nel file list per la correzione ortografica</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-u</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">visualizza l&#8217;utilizzo della memoria del file oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-v</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compilazione con indicazioni estese</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong><code>-x</code></strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ignora le opzioni nel codice sorgente</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La maggior parte dei programmatori Hugo userà probabilmente l&#8217;opzione <code>-l</code> in modo da memorizzare gli errori di compilazione.</p>
</div>
<div class="paragraph">
<p>L&#8217;opzione <code>-z</code> può, in alcune configurazioni, incrementare la velocità di compilazione inibendo la normale messaggistica (&#8220;Compiling&#8230;&#8203;lines of&#8230;&#8203;&#8221; e &#8220;&#8230;&#8203;percente complete&#8221;).</p>
</div>
</div>
<div class="sect2">
<h3 id="_impostazione_dei_limiti"><a class="anchor" href="#_impostazione_dei_limiti"></a>1.8. Impostazione dei limiti</h3>
<div class="paragraph">
<p>Sulla riga di comando è possibile indicare, dopo le opzioni e prima del file sorgente, una serie di impostazioni dei limiti.<br>
Queste impostazioni riguardano la gestione della memoria, la limitazione del numero di certi tipi di elementi di programma, come oggetti e voci di dizionario.</p>
</div>
<div class="paragraph">
<p>Per elencare le impostazioni, digitare:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc $list</pre>
</div>
</div>
<div class="paragraph">
<p>Per cambiare un limite non statico, digitare:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc $&lt;impostazione&gt;=&lt;nuovo limite&gt;      &lt;filesorgente&gt;...</pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio, per compilare il gioco di esempio con il numero massimo di voci di dizionario raddioppiato rispetto al limite di default di 1024, e con le opzioni <code>-l</code> e -<code>s</code> si usa,</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc -ls $MAXDICT=2048 sample</pre>
</div>
</div>
<div class="paragraph">
<p>Se viene generato un errore di compilazione indicante che troppi simboli di un particolare tipo sono stati dichiarati, è probabilmente possibile scavalcare l&#8217;errore semplicemente ricompilando con un limite più alto per quell&#8217;impostazione dalla riga di comando.</p>
</div>
<div class="paragraph">
<p>Consultate l&#8217;Appendice C per un elenco completo delle impostazioni valide dei limiti.</p>
</div>
</div>
<div class="sect2">
<h3 id="_directory"><a class="anchor" href="#_directory"></a>1.9. Directory</h3>
<div class="paragraph">
<p>È possibile specificare dove il compilatore andrà a cercare i differenti tipo di file.
Questo può essere fatto tramite la riga di comando:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc @&lt;directory&gt;=&lt;directory  reale&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio, per specificare che i file sorgenti vanno presi nella directory <code>C:\HUGO\SOURCE</code>, attivate il compilatore con:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc @source=c:\hugo\source &lt;nomefile&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Le directory valide sono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File sorgenti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dove vengono creati i nuovi file <code>.HEX</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lib</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File della libreria</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File <code>.LST</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>resource</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Risorse per una lista di risorse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>temp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File temporanei di compilazione</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Gli utenti evoluti possono avvantaggiarsi del fatto che è possibile impostare le directory di default attraverso le variabili ambiente. (Il metodo di impostare le variabili ambiente può variare da sistema operativo a sistema operativo).</p>
</div>
<div class="paragraph">
<p>La variabile <code>HUGO_&lt;NOME&gt;</code> può essere impostata con la directory <code>&lt;nome&gt;</code>.
Ad esempio, la directory dei sorgenti può essere impostata con la variabile ambiente <code>HUGO_SOURCE</code>.</p>
</div>
<div class="paragraph">
<p>Le directory indicate sulla riga di comando hanno la precedenza rispetto a quelle indicate nelle variabili ambiente.
In ogni caso, se il file non viene trovato nella directory specificata, viene cercato nella directory corrente.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hugo_engine"><a class="anchor" href="#_hugo_engine"></a>1.10. Hugo Engine</h3>
<div class="paragraph">
<p>Avendo compilato il gioco di esempio, eseguitelo lanciando</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>he sample</pre>
</div>
</div>
<div class="paragraph">
<p>dalla riga di comando.
Ancora, non è necessario specificare l&#8217;estensione.
L&#8217;interpete assume <code>.HEX</code> se non viene indicato nulla.</p>
</div>
<div class="paragraph">
<p><em>(NOTA: la variabile ambiente <code>HUGO_OBJECT</code> o <code>HUGO_GAMES</code> può contenere la directory nella quale l&#8217;interprete cercherà il file <code>.HEX</code> specificato.
La destinazione per il file di salvataggio può essere specificata con <code>HUGO_SAVE</code>.
Queste impostazioni sono tutte opzionali).</em></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_una_prima_occhiata_a_hugo"><a class="anchor" href="#_una_prima_occhiata_a_hugo"></a>2. UNA PRIMA OCCHIATA A HUGO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ci sono un paio di concetti base da capire prima di poter cominciare a lavorare con Hugo.</p>
</div>
<div class="paragraph">
<p>Prima di tutto, la maggior parte del lavoro di programmazione in Hugo riguarderà la creazione di quelli che chiamiamo &#8220;oggetti&#8221;.
Letteralmente questi rappresentano gli &#8220;oggetti&#8221; o elementi dell&#8217;universo del gioco: persone, luoghi e cose.</p>
</div>
<div class="paragraph">
<p>Il grosso del rimanente di un programma Hugo è composto dalle &#8220;routine&#8221;.
Queste sono le sezioni di codice fatte di comandi o istruzioni che guidano il reale comportamento del programma a punti differenti nella storia.
Le routine vengono chiamate meno frequentemente (o più frequentemente in altri linguaggi) &#8220;funzioni&#8221;&#8201;&#8212;&#8201;vanno pensate come l&#8217;esecuzione di un&#8217;operazione o una serie di operazioni, per poi restituire qualche tipo di valore come risultato.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il concetto dei valori di ritorno è importante e, sebbene sembri complicato ai meno esperti, è in realtà piuttosto semplice.
Spesso una particolare funzione verrà indicata come &#8220;restituisce vero&#8221; o &#8220;restituisce falso&#8221;&#8201;&#8212;&#8201;il che significa che restituirà un valore non a zero (di solito 1) o un valore a zero, la maggior parte delle volte indicanti un successo od un fallimento.
Un programma controllerà constantemente i valori di ritorno di un insieme di routine e comandi per determinare se una particolare operazione ha avuto successo, in maniera da decidere che cosa fare dopo.<br>
Naturalmente un valore di ritorno può essere qualunque valore intero; una routine che somma tra loro i due valori indicati, <em>a</em> e <em>b</em>, potrebbe restituire la somma di <em>a</em>+<em>b</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per quelli che hanno familiarità con i più comuni linguaggi di programmazione C e BASIC, Hugo somiglia fortemente ad un ibrido tra i due.<br>
Oggetti individuali e routine&#8201;&#8212;&#8201;così come i blocchi condizionali&#8201;&#8212;&#8201;sono racchiusi tra parentesi graffe come in C, ma a differenza del C (e come il BASIC), un punto e virgola non è richiesto alla fine di ogni riga, ed il linguaggio stesso è considerevolmente meno criptitco.<br>
Istruzioni, varibili, routine e nomi di oggetti, e altre parole chiave non sono case-sensitive (possono essere scritte indifferentemente in maiuscolo e minuscolo.</p>
</div>
<div class="paragraph">
<p>L&#8217;obiettivo nella progettazione di Hugo è stato quello di fare in modo che la programmazione fosse il più intuitiva possibile per facilitare sia lo sviluppo iniziale che il debug seguente.</p>
</div>
<div class="sect2">
<h3 id="_hello_sailor"><a class="anchor" href="#_hello_sailor"></a>2.1. Hello, Sailor!</h3>
<div class="paragraph">
<p>La grandiosa tradizione dei testi di programmazione ha un&#8217;introduzione al nuovo linguaggio di programmazione che dettaglia il modo di stampare l&#8217;ottimistica frase &#8220;Salve, mondo&#8221; come esempio della forma e sostanza particolare del linguaggio.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;ugualmente grandiosa tradizione dell&#8217;interactive fiction, cominceremo con il richiamo &#8220;Hello, Sailor!&#8221;.
Non vi preoccupate troppo della sintassi che segue; serve solo per familiarizzare con l&#8217;aspetto di Hugo.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine main&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Hello, Sailor!&quot;</span>&#x000A;    <span class="hl kwa">return</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tutto il programma è composto da una sola routine. (Normalmente sono necessarie due routine per ogni programma Hugo, l&#8217;altra è la routine <code>Init</code>, che è stata omessa in questo esempio visto che non è richiesto nulla in fase di inizializzazione).</p>
</div>
<div class="paragraph">
<p>La routine <code>Main</code> viene chiamata automaticamente dall&#8217;interprete.
È da qui che il comportamento centrale di ogni programma Hugo viene controllato.
In questo caso il compito è quello di stampare &#8220;Hello, Sailor!&#8221;, seguito da un ordine di ritornare (<code>return</code>) dalla routine (uscire dalla stessa) così da non bloccare il programma per attendere un input, che è il compito normale di Hugo.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tipi_di_dati"><a class="anchor" href="#_tipi_di_dati"></a>2.2. Tipi di dati</h3>
<div class="paragraph">
<p>Tutti i dati in Hugo sono rappresentati in termini di interi a 16 bit, sia con segno (-32768 a 32767) che senza segno (0 a 65535) come richiesto.
Il nome di ciascun tipo di dato può contenere fino a 32 caratteri alfanumerici (così come il carattere di sottolineato &#8216;&lowbar;&#8217;).
Quelli che seguono sono tipi di dato validi:</p>
</div>
<table class="tableblock frame-all grid-rows stripes-odd stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Valori interi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0,</code> <code>-10</code>, <code>16800</code>, <code>-25005</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(valori costanti che compaiono nel codice sorgente di Hugo come numeri)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caratteri ASCII</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>'A'</code>, <code>'z'</code>, <code>'7'</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(valori costanti corrispondenti al valore ASCII di ciascun carattere, ad es. 65 per &#8216;A&#8217;)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Oggetti</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>borsa</code>, <code>stanzavuota</code>, <code>giocatore</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(valori costanti rappresentanti il numero dell&#8217;oggetto indicato)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variabili</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code>, <code>b</code>, <code>score</code>, <code>TEXTCOLOR</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(contenitori di valori modificabili che posso essere impostati uguali ad un&#8217;altra variabile o ad un valore costante)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Costanti</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code>, <code>false</code>, <code>BANNER</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(valori costanti che hanno un nome simile ad una variabile, ma che non sono modificabili)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Voci di dizionario</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"a"</code>, <code>"the"</code>, <code>"basketball"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(l&#8217;indicazione di &#8220;the&#8221; in una riga di codice in realtà si riferisce alla posizione nella tabella del dizionario in cui &#8220;the&#8221; è memorizzata).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Elementi di matrici</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>posizione[1]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(una serie di uno o più valori modificabili che possono essere indicati a partire da un punto iniziale comune)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Indirizzi di matrici</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>posizione</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(il punto iniziale&#8201;&#8212;&#8201;vedi sopra)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Proprietà</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nouns</code>, <code>short_desc</code>, <code>found_in</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(allegati varibili di dati relativi ad oggetti specifici)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Attributi</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>open</code>, <code>light</code>, <code>transparent</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">(allegati meno complessi di dati che descrivono un oggetto, con i quali si può specificare se un oggetto ha o meno l&#8217;attributo indicato)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La maggior parte di questi tipi sono relativamente semplici, rappresentando in molti casi un valore singolo.
Le voci di dizionario indirizzano la tabella del dizionario, con la stringa nulla <code>""</code> avente il valore 0.
Gli indirizzi di matrici (al contrario degli elementi di matrici) rappresentano l&#8217;indirizzo a cui inizia la matrice nella tabella delle matrici.
Le proprietà e gli attributi considerati come valori discreti rappresentano il numero di quella proprietà o quell&#8217;attributo, assegnato in maniera sequenziale quando la singola proprietà o il singolo attributo vengono definiti.</p>
</div>
<div class="paragraph">
<p>Come indicato, le routine possono anche restituire dei valori, come le funzioni dell&#8217;interprete, così che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">FindLight(room)</code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">parent</span>(<span class="hl kwa">object</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>rappresentanto dei valori interi validi.</p>
</div>
<div class="paragraph">
<p>Anche gli indirizzi delle routine sono memorizzati come interi a 16 bit.<br>
Comunque, quelli portati a questi calcoli possono notare che un valore simile, trattato come un indirizzo assoluto possa indicare un limite di indirizzamento di 64k di dimensioni.
Comunque non è questo il caso, visto che l&#8217;indirizzo della routine è in realtà una rappresentazione indicizzata dell&#8217;indirizzo assoluto.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>L&#8217;indirizzo in formato a 16 bit di una routine (o l&#8217;indirizzo di una routine proprietà, come verrà indicato più sotto), può essere ottenuto tramite l&#8217;operatore indirizzo <code>&amp;</code>, come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">= &amp;</span>Routine&#x000A;x <span class="hl opt">= &amp;</span><span class="hl kwa">object</span>.property</code></pre>
</div>
</div>
<div class="paragraph">
<p>(dove <code>x</code> è una variabile).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_righe_multiple"><a class="anchor" href="#_righe_multiple"></a>2.3. Righe multiple</h3>
<div class="paragraph">
<p>Se un singolo comando è troppo lungo per entrare in una riga, può essere suddiviso su diverse righe terminando ciascuna di esse tranne l&#8217;ultima con il carattere di controllo <code>\</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;Questa è una stringa di esempio.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl num">5</span> <span class="hl opt">+</span> <span class="hl num">6</span> <span class="hl opt">*</span> higher(a, b)</code></pre>
</div>
</div>
<div class="paragraph">
<p>hanno lo stesso significato di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;Questa è una riga \</span>&#x000A;<span class="hl str">    di esempio.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl num">5</span> <span class="hl opt">+</span> <span class="hl num">6</span> <span class="hl opt">*</span> \&#x000A;    higher(a, b)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lo spazio vuoto alla fine della prima riga è necessario perché il compilatore elimina automaticamente gli spazi iniziali dalla seconda riga.</p>
</div>
<div class="paragraph">
<p>Le costanti stringa, come nell&#8217;esempio di stampa precedente, sono un&#8217;eccezione in quanto non richiedono il carattere <code>\</code> alla fine di ogni riga.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;L&#39;interprete stamperà correttamente</span>&#x000A;<span class="hl str">       questo testo, aggiungendo uno spazio</span>&#x000A;<span class="hl str">       singolo alla fine di ogni</span>&#x000A;<span class="hl str">       riga.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>verrà visualizzato come:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>L&#8217;interprete stamperà correttamente questo testo, aggiungendo uno spazio singolo alla fine di ogni riga.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Bisogna fare attenzione al fatto, comunque, che le virgolette di chiusura non vengano dimenticate nella costante stringa.
Dimenticandosene, il compilatore potrebbe generare un errore &#8220;Closing brace missing&#8221; quando oltrepassa i limiti dell&#8217;oggetto/routine/evento cercando una soluzione al numero errato di virgolette.</p>
</div>
<div class="paragraph">
<p>Inoltre, molte delle righe che terminano con una virgola, <code>and</code>, o <code>or</code> continuano automaticamente alla riga successiva (se capitano in una riga di codice).
In altre parole,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x[<span class="hl num">0</span>] <span class="hl opt">=</span> <span class="hl num">1</span>, <span class="hl num">2</span>, <span class="hl num">3</span>, <span class="hl slc">! assegnazione array da x[0] a x[4]</span>&#x000A;       <span class="hl num">4</span>, <span class="hl num">5</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> a <span class="hl opt">=</span> <span class="hl num">5</span> <span class="hl kwa">and</span>&#x000A;   b <span class="hl opt">=</span> <span class="hl str">&quot;alto&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>vengono convertite in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x[<span class="hl num">0</span>] <span class="hl opt">=</span> <span class="hl num">1</span>, <span class="hl num">2</span>, <span class="hl num">3</span>, <span class="hl num">4</span>, <span class="hl num">5</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> a <span class="hl opt">=</span> <span class="hl num">5</span> <span class="hl kwa">and</span> b <span class="hl opt">=</span> <span class="hl str">&quot;alto&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Questa funzionalità è presente principalmente perché le righe lunghe e le espressioni complesse non eccedano dal limite destro dello schermo durante l&#8217;editing, e che non sia continuamente necessario estendere le righe usano <code>\</code> alla fine di ogni riga.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le righe multiple che non sono esplicitamente codice, come le assegnazioni alle proprietà nelle definizioni degli oggetti&#8201;&#8212;&#8201;che verranno illustrate&#8201;&#8212;&#8201;devono ancora essere unite usando <code>\</code>, come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nouns <span class="hl str">&quot;pianta&quot;</span>, <span class="hl str">&quot;fiore&quot;</span>, <span class="hl str">&quot;calendola&quot;</span>, \&#x000A;      <span class="hl str">&quot;fauna&quot;</span>,  <span class="hl str">&quot;fogliame&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e casi simili, anche se terminano con una virgola.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Esiste un carattere di controllo complementare a <code>\</code>: il carattere <code>:</code> consente di mettere le righe multiple su una riga singola, ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl num">5</span> : Y <span class="hl opt">=</span> <span class="hl num">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> i <span class="hl opt">=</span> <span class="hl num">1</span> : <span class="hl kwa">print</span> <span class="hl str">&quot;Inferiore a tre.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>che il compilatore trasforma in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl num">5</span>&#x000A;y <span class="hl opt">=</span> <span class="hl num">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> i <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;    {<span class="hl kwa">print</span> <span class="hl str">&quot;Inferiore a tre.&quot;</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>(Consultate le sezioni che seguono sulla formattazione del codice per capire esattamente che cosa rappresentano questi costrutti)</p>
</div>
</div>
<div class="sect2">
<h3 id="_commenti"><a class="anchor" href="#_commenti"></a>2.4. Commenti</h3>
<div class="paragraph">
<p>Ci sono due tipi di commenti.
I commenti su una singola riga cominciano con <code>!</code>.
Tutto quello che segue sulla riga viene ignorato.
I commenti a riga multipla iniziano con <code>!\</code> e terminano con <code>\!</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl slc">! Un commento su una singola riga</span>&#x000A;<span class="hl com">!\ Un commento a</span>&#x000A;<span class="hl com">   riga multipla \!</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La combinazione <code>!\</code> deve cominciare all&#8217;inizio di una riga per essere significativa; non può essere preceduta da nessun&#8217;altra istruzione o commento.
Allo stesso modo la combinazione <code>\!</code> deve trovarsi alla fine di una riga.</p>
</div>
</div>
<div class="sect2">
<h3 id="_errori_del_compilatore"><a class="anchor" href="#_errori_del_compilatore"></a>2.5. Errori del compilatore</h3>
<div class="paragraph">
<p>Un errore del compilatore è generalmente di due tipi.
Un errore fatale (grave) somiglia a:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>Fatal error: &lt;messaggio&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>e termina l&#8217;esecuzione del compilatore.</p>
</div>
<div class="paragraph">
<p>Un errore non fatale di solito appare come:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>&lt;nomefile&gt;(&lt;riga&gt;): Error: &lt;messaggio&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Inoltre, il compilatore può produrre avvertimenti nella forma:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>&lt;nomefile&gt;(&lt;riga&gt;): Warning: &lt;messaggio&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>La compilazione continua, ma questa è un&#8217;indicazione che il compilatore sospetta esista un problema a tempo di compilazione.</p>
</div>
<div class="paragraph">
<p>Se l&#8217;opzione <code>-e</code> è stata impostata durante l&#8217;esecuzione per generare gli errori in formato esteso, gli errori verranno visualizzati come:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>&lt;NOMEFILE&gt;: &lt;POSIZIONE&gt;
(Riga che ha causato l'errore)
"ERROR: &lt;messaggio di errore&gt;"</pre>
</div>
</div>
<div class="paragraph">
<p>Stampa la sezione di codice che ha causato l&#8217;errore, seguita da una spiegazione del problema.
Generalmente la compilazione continua a meno che sia stata selezionata l&#8217;opzione <code>-a</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La sezione di codice errato potrebbe non essere stampata esattamente come compare nel sorgente, visto che il compilatore spesso risistema e ricostruisce il codice sorgente in un formato più rigido prima di costruire la riga.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_direttive_di_compilazione"><a class="anchor" href="#_direttive_di_compilazione"></a>2.6. Direttive di compilazione</h3>
<div class="paragraph">
<p>Una serie di comandi speciali può essere usata per determinare (<strong>a.</strong>) come il codice sorgente viene letto dal compilatore, o (<strong>b.</strong>) quale output speciale verrà generato a tempo di compilazione.</p>
</div>
<div class="paragraph">
<p>Per impostare le opzioni all&#8217;interno del codice sorgente così che non sia necessario specificarle tutte le volte che viene eseguito il compilatore per quel particolare programma, la riga</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#switches -&lt;sequenza&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>imposterà le opzioni specificate da <code>&lt;sequenza&gt;</code>, dove <code>&lt;sequenza&gt;</code> è una stringa di caratteri rappresentante delle opzioni valide, senza nessun separatore tra i caratteri.</p>
</div>
<div class="paragraph">
<p>Molti programmatori possono trovare utile fare di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#switches -ils</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>la prima riga di ogni nuovo programma, che automaticamente stamperà le informazioni di debug, un elenco di statistiche, e tutti gli errori nel file list <code>.LST</code>.</p>
</div>
<div class="paragraph">
<p>Usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#version  &lt;versione&gt;[.&lt;revisione&gt;]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>è possibile specificare che il file deve essere usato con la versione <code>&lt;versione&gt;.&lt;revisione&gt;</code> del compilatore.
Se le versioni del file e del compilatore non coincidono, viene generato un avvertimento.</p>
</div>
<div class="paragraph">
<p>Per inserire il contenuto di un altro file al punto specificato nella riga corrente, usate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#include</span> <span class="hl pps">&quot;&lt;nomefile&gt;&quot;</span><span class="hl ppc"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;nomefile&gt;</code> è il nome completo di percorso del file che deve essere letto.
Quando <code>&lt;nomefile&gt;</code> è stato letto completamente, il compilatore prosegue con l&#8217;istruzione immediatamente successiva al comando <code>#include</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Un file od un insieme di file può essere compilato in un header precompilato usando l&#8217;opzione <code>-h</code>, e poi linkato usando <code>#link</code> al posto di <code>#include</code>.
Consultate l'<em>Appendice D</em> sugli Header Precompilati.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Uno strumento molto utile per la gestione del codice sorgente Hugo è la capacità di usare i flag del compilatore per la compilazione condizionale.
Un flag del compilatore è semplicemente un segnale definito dall&#8217;utente che serve a controllare quali sezioni del codice sorgente vanno compilate.
In questo modo, un programmatore può sviluppare aggiunte ad un programma che possono essere incluse o escluse a volontà.
Ad esempio, i file della libreria <code>HUGOLIB.H</code>, <code>VERBLIB.H</code>, e <code>VERBLIB.G</code> verificano se un flag chiamato <code>DEBUG</code> è stato precedentemente impostato (come in <code>SAMPLE.HUG</code>).
In questo caso includono i file <code>HUGOFIX.H</code> e <code>HUGOFIX.G</code>.</p>
</div>
<div class="paragraph">
<p>Per impostare e pulire i flag usate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#set &lt;nomeflag&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#clear &lt;nomeflag&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Poi è possibile verificare se un flag è impostato o meno (e includere o escludere il blocco di codice sorgente specificato) usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#ifset &lt;nomeflag&gt;</span>&#x000A;    ...blocco di codice condizionale...&#x000A;<span class="hl ppc">#endif</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#ifclear &lt;nomeflag&gt;</span>&#x000A;    ...blocco di codice condizionale...&#x000A;<span class="hl ppc">#endif</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>I costrutti di compilazione condizionale possono essere nidificati fino ad una profondità di 32 livelli.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>È anche possibile specificare i flag del compilatore dalla riga di comando quando si esegue il compilatore con <code>#&lt;nomeflag&gt;</code>:</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc #&lt;nomeflag&gt; &lt;nomefile&gt;...</pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>#if set</code> e <code>#if clear</code> sono le forme estese di <code>#ifset</code> e <code>#ifclear</code>, che consentono l&#8217;uso di <code>#elseif</code> per il codice come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#set QUESTO_FLAG</span>&#x000A;<span class="hl ppc">#set QUEL_FLAG</span>&#x000A;<span class="hl ppc">#if clear QUESTO_FLAG</span>&#x000A;<span class="hl ppc">#messagge</span> <span class="hl pps">&quot;Questo non viene mai stampato.&quot;</span><span class="hl ppc"></span>&#x000A;<span class="hl ppc">#elseif set QUEL_FLAG</span>&#x000A;<span class="hl ppc">#message</span> <span class="hl pps">&quot;Questo viene sempre stampato.&quot;</span><span class="hl ppc"></span>&#x000A;<span class="hl ppc">#else</span>&#x000A;<span class="hl ppc">#message</span> <span class="hl pps">&quot;Questo no se QUEL_FLAG è impostato.&quot;</span><span class="hl ppc"></span>&#x000A;<span class="hl ppc">#endif</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Usate <code>#if defined &lt;flag&gt;</code> e <code>#if undefined    &lt;flag&gt;</code> per verificare se oggetti, proprietà, routine, ecc. sono state definite in precedenza.</p>
</div>
<div class="paragraph">
<p>Come si è visto più sopra la direttiva <code>#message</code> può essere usata come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#message</span> <span class="hl pps">&quot;&lt;testo&gt;&quot;</span><span class="hl ppc"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>per visualizzare <code>&lt;testo&gt;</code> quando (o se) quell&#8217;istruzione viene interpretata durante il primo passo della compilazione.</p>
</div>
<div class="paragraph">
<p>Includendo <code>error</code> o <code>warning</code> prima di <code>&lt;testo&gt;</code> come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#message error</span> <span class="hl pps">&quot;&lt;testo&gt;&quot;</span><span class="hl ppc"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#message warning</span> <span class="hl pps">&quot;&lt;testo&gt;&quot;</span><span class="hl ppc"></span></code></pre>
</div>
</div>
<div class="paragraph">
<p>si forzerà il compilatore a generare, rispettivamente, un errore od un avvertimento quando dovrà stampare <code>&lt;testo&gt;</code>.</p>
</div>
<div class="paragraph">
<p>È anche possibile includere l&#8217;impostazione dei limiti nel codice, come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">$<span class="hl opt">&lt;</span>impostazione<span class="hl opt">&gt;=&lt;</span>limite<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>allo stesso modo della riga di comando.
Comunque un errore verrà genenerato se, ad esempio, si tenta di reimpostare <code>MAXOBJECTS</code> quando uno o più oggetti sono stati definiti.</p>
</div>
<div class="sect3">
<h4 id="_esempio_compilazione_dalla_linea_di_comando"><a class="anchor" href="#_esempio_compilazione_dalla_linea_di_comando"></a>Esempio: Compilazione dalla linea di comando</h4>
<div class="paragraph">
<p>Sulla macchina dell&#8217;autore, che gira sotto MS-DOS, l&#8217;eseguibile del compilatore <code>HC.EXE</code> è in una directory chiamata <code>C:\HUGO</code>.
I file della libreria sono in <code>C:\HUGO\LIB</code>, ed il codice sorgente per il gioco <em>Spur</em> è in <code>C:\HUGO\SPUR</code>.</p>
</div>
<div class="paragraph">
<p>È possibile chiamare il compilatore per compilare <em>Spur</em> con una serie di opzioni differenti, inclusa l&#8217;impostazione dei flag del compilatore per includere la libreria di debug HugoFix e le routine dei verbi addizionali (che potrebbe essere ottenuto diversamente con <code>#set DEBUG</code> e <code>#set VERBSTUBS</code> nel sorgente), e stampare tutte le informazioni di debug, l&#8217;albero degli oggetti, e le statistiche in un file. (Assumendo che la directory corrente è <code>C:\HUGO</code> e che nessuna delle opzioni o flag del compilatore sono impostati nel sorgente.)</p>
</div>
<div class="literalblock cmd">
<div class="content">
<pre>hc -iols #debug #verbstubs @source=spur @lib=lib spur</pre>
</div>
</div>
<div class="paragraph">
<p>Questa riga mostra l&#8217;uso di tutti i tipi di opzione della riga di comando possibili, comprese le opzioni multiple, l&#8217;impostazione dei flag, e l&#8217;indicazione delle directory.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_oggetti"><a class="anchor" href="#_oggetti"></a>3. OGGETTI</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Gli oggetti sono i mattoni per la costruzione di ogni programma Hugo.
Qualunque cosa debba essere usata da un giocatore durante il gioco&#8201;&#8212;&#8201;comprese le stanze, gli oggetti, altri personaggi, ed anche le direzioni&#8201;&#8212;&#8201;debbono essere definiti come oggetti.</p>
</div>
<div class="paragraph">
<p>La definizione base di un oggetto appare come:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> <span class="hl opt">&lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome oggetto&quot;</span>&#x000A;{&#x000A;...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio un oggetto <code>valigia</code> potrebbe essere definito come segue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> valigia <span class="hl str">&quot;valigia&quot;</span>&#x000A;{}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le parentesi graffe sono necessarie anche se la definizione dell&#8217;oggetto non ha un corpo.
Gli unici dati assegnati all&#8217;oggetto <code>valigia</code> sono&#8201;&#8212;&#8201;da destra a sinistra&#8201;&#8212;&#8201;un nome, un identificatore, e l&#8217;appartenenza alla classe base <code>object</code>.</p>
</div>
<div class="paragraph">
<p>Il compilatore assegna all&#8217;oggetto identificato da <code>&lt;nomeoggetto&gt;</code> il prossimo numero sequenziale disponibile.
Cioè, se il primo oggetto definito è l&#8217;oggetto <code>nothing</code> [niente] (oggetto 0), allora al successivo oggetto che verrà definito, qualunque esso sia, viene assegnato il numero 1; quello che seguirà sarà il 2, ecc.
Tutto questo è accademia, comunque, visto che un programmatore non avrà mai bisogno di sapere che numero di oggetto ha un particolare oggetto&#8201;&#8212;&#8201;tranne che in alcune situazioni di debug&#8201;&#8212;&#8201;e si può sempre riferire ad un oggetto tramite la sua etichetta <code>&lt;nomeoggetto&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Se nessuno esplicito <code>name</code> (la proprietà nome) è fornito, il compilatore gli assegna automaticamente il nome <code>(&lt;nomeoggetto&gt;)</code>, cioè <code>&lt;nomeoggetto&gt;</code> tra parentesi.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il compilatore crea automaticamente un oggetto chiamato <code>display</code> [schermo] come ultimo oggetto definito.
L&#8217;oggetto display può essere usato per ottenere informazioni riguardanti la visualizzazione dell&#8217;interprete.
Consultate la sezione sull&#8217;oggetto display più avanti in &#8220;Funzionalità Avanzate&#8221;.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_lalbero_degli_oggetti"><a class="anchor" href="#_lalbero_degli_oggetti"></a>3.1. L&#8217;albero degli oggetti</h3>
<div class="paragraph">
<p>Gli oggetti per avere una posizione all&#8217;interno del gioco, ad esempio, essere in una stanza o contenuti in un altro oggetto o accanto ad un altro oggetto, devono occupare una posizione nell&#8217;albero degli oggetti.
L&#8217;albero degli oggetti è una mappa che rappresenta le relazioni che ci sono tra gli oggetti nel gioco.
Il numero totale di oggetti si trova nella variabile globale <code>objects</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;oggetto <code>nothing</code> [niente] viene definito dalla libreria come oggetto 0.
Questo è la radice dell&#8217;albero degli oggetti, sul quale tutti gli oggetti si basano.</p>
</div>
<div class="paragraph">
<p>Quando si riferisce ai numeri degli oggetti, questo manuale si riferisce generalmente al nome dato all&#8217;oggetto nel codice sorgente: ed esempio, <code>&lt;nomeoggetto&gt;</code>.
Il compilatore assegna automaticamente ad ogni oggetto un numero di oggetto, e si riferisce a quello ogni volta che uno specifico <code>&lt;nomeoggetto&gt;</code> viene incontrato.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Quando si usano le routine standard della libreria, assicuratevi che nessun oggetto (o classe, che verrà discussa in seguito) sia definito prima dell&#8217;inclusione di <code>HUGOLIB.H</code>.
Potrebbero sorgere dei problemi se il primo oggetto definito&#8201;&#8212;&#8201;l&#8217;oggetto 0&#8201;&#8212;&#8201;non è l&#8217;oggetto <code>nothing</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Questo è un esempio di albero degli oggetti:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Nothing
|
Room
|
Table ———— Chair ———— Book ———— Player
|                     |
Bowl                  Bookmark
|
Spoon</pre>
</div>
</div>
<div class="paragraph">
<p>Una serie di funzioni può essere usata per leggere l&#8217;albero degli oggetti.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>parent</code>    
</td>
<td class="hdlist2">
<p>[genitore]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>sibling</code>   
</td>
<td class="hdlist2">
<p>[fratello]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>child</code>     
</td>
<td class="hdlist2">
<p>[figlio]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>youngest</code>  
</td>
<td class="hdlist2">
<p>[minore]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>elder</code>     
</td>
<td class="hdlist2">
<p>[maggiore]</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>eldest</code>    
</td>
<td class="hdlist2">
<p>(uguale a <code>child</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>younger</code>   
</td>
<td class="hdlist2">
<p>(uguale a <code>sibling</code>)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>children</code>  
</td>
<td class="hdlist2">
<p>[figli]</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ogni funzione accetta un oggetto singolo come argomento, così che</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>parent(Table)</code>    
</td>
<td class="hdlist2">
<p>= <code>Room</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>parent(Bookmark)</code> 
</td>
<td class="hdlist2">
<p>= <code>Book</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>parent(Player)</code>   
</td>
<td class="hdlist2">
<p>= <code>Room</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>child(Bowl)</code>      
</td>
<td class="hdlist2">
<p>= <code>Spoon</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>child(Room)</code>      
</td>
<td class="hdlist2">
<p>= <code>Table</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>child(Chair)</code>     
</td>
<td class="hdlist2">
<p>= 0 (<code>nothing</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>sibling(Table)</code>   
</td>
<td class="hdlist2">
<p>= <code>Chair</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>sibling(Player)</code>  
</td>
<td class="hdlist2">
<p>= 0 (<code>nothing</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>youngest(Room)</code>   
</td>
<td class="hdlist2">
<p>= <code>Player</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>youngest(Spoon)</code>  
</td>
<td class="hdlist2">
<p>= 0 (<code>nothing</code>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>elder(Chair)</code>     
</td>
<td class="hdlist2">
<p>= <code>Table</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>elder(Table)</code>     
</td>
<td class="hdlist2">
<p>= 0 (<code>nothing</code>)</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>children(Room)</code>   
</td>
<td class="hdlist2">
<p>= 4</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>children(Table)</code>  
</td>
<td class="hdlist2">
<p>= 1</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>children(Chair)</code>  
</td>
<td class="hdlist2">
<p>= 0</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Ritornando alla spiegazione precedente riguardante i numeri degli oggetti e <code>&lt;nomeoggetto&gt;</code>, le funzioni del primo insieme in realtà restituiscono un numero intero che si riferisce ad un particolare <code>&lt;nomeoggetto&gt;</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per capire meglio come l&#8217;albero degli oggetti rappresenti il mondo fisico, il tavolo (<code>table</code>), la sedia (<code>chair</code>), il libro (<code>book</code>), ed il giocatore (<code>player</code>) sono tutti nella stanza (<code>room</code>).
Il segnalibro (<code>bookmark</code>) è nel libro (<code>book</code>).
La scodella (<code>bowl</code>) è sul tavolo (<code>table</code>), ed il cucchiaio (<code>spoon</code>) è sulla scodella (<code>bowl</code>).
La libreria di Hugo cosidererà l&#8217;oggetto giocatore dell&#8217;esempio come se stesse in piedi; se il giocatore fosse stato seduto, l&#8217;albero degli oggetti sarebbe apparso come:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Nothing
|
Room
|
Table ———— Chair ———— Book
|          |          |
Bowl       Player     Bookmark
|
Spoon</pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>child(Chair)</code>     
</td>
<td class="hdlist2">
<p>= <code>Player</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>parent(Player)</code>   
</td>
<td class="hdlist2">
<p>= <code>Chair</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>children(Chair)</code>  
</td>
<td class="hdlist2">
<p>= 1</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Provate a compilare <code>SAMPLE.HUG</code> con l&#8217;opzione <code>-o</code> per vedere l&#8217;albero degli oggetti per il gioco di esempio.
Oppure, se il flag <code>DEBUG</code> è stato impostato durante la compilazione, usate il comando HugoFix <code>$ot</code> o <code>$ot &lt;oggetto&gt;</code> durante il gioco per vedere lo stato attuale dell&#8217;albero degli oggetti e vedere come cambia nel corso del gioco.
Compilando con l&#8217;opzione <code>-d</code> viene generata una versione per il debug (<code>.HDX</code>) del file&#8201;&#8212;&#8201;l&#8217;albero degli oggetti può essere visto direttamente dal debugger.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I test logici possono essere valutati per quel che riguarda gli oggetti ed i figli.
La struttura</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span> [<span class="hl kwa">not</span>] <span class="hl kwa">in</span> <span class="hl opt">&lt;</span>genitore<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>restituirà <code>true</code> (vero) se <code>&lt;oggetto&gt;</code> si trova in <code>&lt;genitore&gt;</code> (o <code>false</code> (falso) se viene usato <code>not</code> (non)).</p>
</div>
<div class="paragraph">
<p>Per posizionare inizialmente un oggetto nell&#8217;albero degli oggetti si usa</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">in</span> <span class="hl opt">&lt;</span>genitore<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>nella definizione dell&#8217;oggetto, o, in alternativa</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nearby <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o, più semplicemente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nearby</code></pre>
</div>
</div>
<div class="paragraph">
<p>per dare all&#8217;oggetto lo stesso genitore di <code>&lt;oggetto&gt;</code> o, se <code>&lt;oggetto&gt;</code> non viene specificato, lo stesso genitore dell&#8217;ultimo oggetto definito.</p>
</div>
<div class="paragraph">
<p>Se questa indicazione non viene fornita, l&#8217;oggetto genitore assume automaticamente il valore 0&#8201;&#8212;&#8201;l&#8217;oggetto <code>nothing</code> così come definito nella libreria.
Tutti i normali oggetti <code>room</code> (stanza) hanno 0 definito come genitore.</p>
</div>
<div class="paragraph">
<p>Quindi la versione espansa della definizione di un oggetto è</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> <span class="hl opt">&lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome oggetto&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> <span class="hl opt">&lt;</span>oggetto genitore<span class="hl opt">&gt;</span>&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Assicuratevi che la parentesi graffa aperta <code>{</code> non si trovi sulla stessa riga dello speficificatore <code>object</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> <span class="hl opt">&lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome oggetto&quot;</span> {...</code></pre>
</div>
</div>
<div class="paragraph">
<p>non è permesso.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il tavolo (<code>table</code>) dell&#8217;esempio probabilmente aveva una definizione come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> table <span class="hl str">&quot;table&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> room&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Per mettere l&#8217;oggetto <code>suitcase</code> (valigia) definito prima nella stanza vuota (<code>emptyroom</code>) in <code>SHELL.HUG</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> suitcase <span class="hl str">&quot;suitcase&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> emptyroom&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Gli oggetti possono poi essere mossi all&#8217;interno dell&#8217;albero degli oggetti tramite il comando <code>move</code> (muovi) come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">move</span> <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span> <span class="hl kwa">to</span> <span class="hl opt">&lt;</span>nuovo genitore<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Che, praticamente, rimuove <code>&lt;oggetto&gt;</code> dal vecchio genitore, rende il fratello di <code>&lt;oggetto&gt;</code> il fratello del maggiore di <code>&lt;oggetto&gt;</code>, e sposta <code>&lt;oggetto&gt;</code> (con tutto quello che gli appartiene) dal nuovo genitore.</p>
</div>
<div class="paragraph">
<p>Perciò nell&#8217;esempio di prima, il comando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">move</span> bowl <span class="hl kwa">to</span> player</code></pre>
</div>
</div>
<div class="paragraph">
<p>avrebbe modificato l&#8217;albero degli oggetti come segue:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Nothing
|
Room
|
Table ———— Chair ———— Book ———— Player
                      |         |
                      Bookmark  Bowl
                                |
                                Spoon</pre>
</div>
</div>
<div class="paragraph">
<p>Esiste anche un comando per rimuovere un oggetto dalla sua posizione nell&#8217;albero:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">remove</span> <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>che è lo stesso di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">move</span> <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span> <span class="hl kwa">to</span> <span class="hl num">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;oggetto può, in seguito, essere spostato in qualsiasi posizione.</p>
</div>
</div>
<div class="sect2">
<h3 id="_attributi"><a class="anchor" href="#_attributi"></a>3.2. Attributi</h3>
<div class="paragraph">
<p>Gli attributi rappresentano sostanzialmente le qualità che un oggetto può o non può avere.
Sono utili per qualificare o meno gli oggetti da prendere in considerazione in ogni situazione.</p>
</div>
<div class="paragraph">
<p>Un attributo viene definito come segue</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">attribute <span class="hl opt">&lt;</span>nome attributo<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Possono essere definiti fino a 128 attributi.
Quelli definiti in <code>HUGOLIB.H</code> comprendono:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>known</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto è conosciuto dal giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>moved</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto è stato spostato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>visited</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se una stanza è stata visitata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>static</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto non può essere preso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>plural</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per oggetti al plurale (ad es., <code>some hats</code> [alcuni cappelli])</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>living</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto è un personaggio</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>female</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se il personaggio è femminile</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>unfriendly</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un personaggio non è amichevole</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>openable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto può essere aperto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>open</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se è aperto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lockable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto può essere chiuso a chiave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locked</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se è chiuso a chiave</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>light</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto fornisce luce</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>readable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto può essere letto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>switchable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto può essere acceso o spento</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>switchedon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se un oggetto è acceso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clothing</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per oggetti che possono essere indossati</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>worn</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto è indossato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mobile</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto può essere spinto, ecc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>enterable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se è possibile entrare nell&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>container</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto può contenere altri oggetti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>platform</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se si possono posare oggetti sull&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hidden</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto non deve essere indicato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>quiet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se il <code>container</code> o il <code>platform</code> sono quieti (cioè, se l&#8217;indicazione iniziale degli oggetti che contengono non deve essere prodotta)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transparent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto non è opaco</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>already_listed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto è già stato indicato (cioè, prima di un listato <code>WhatsIn</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>workflag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">usato dal sistema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>special</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per varii usi</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>container</code> e <code>platform</code> sono mutualmente esclusivi.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Alcuni di questi attributi sono in realtà lo stesso attributo con un nome differente.
Questo viene ottenuto tramite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">attribute <span class="hl opt">&lt;</span>attributo2<span class="hl opt">&gt;</span> alias <span class="hl opt">&lt;</span>attributo1<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;attributo1&gt;</code> è già stato definito.
Ad esempio, la libreria equipara <code>visited</code> (visitato) a <code>moved</code> (mosso) (visto che, probabilmente, non si applicheranno mai allo stesso oggetto), così:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">attribute visited alias moved</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo caso un oggetto che è stato visitato (<code>visited</code>) risulta anche mosso (<code>moved</code>).
Ci si aspetta che gli attributi che sono <em>alias</em> di altri non avranno mai bisogno di essere usati con gli originali nella stessa circostanza.</p>
</div>
<div class="paragraph">
<p>Gli attributi vengono assegnati ad un oggetto durante la sua definizione come segue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> <span class="hl opt">&lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome oggetto&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">is</span> [<span class="hl kwa">not</span>] <span class="hl opt">&lt;</span>attributo1<span class="hl opt">&gt;</span>, [<span class="hl kwa">not</span>] <span class="hl opt">&lt;</span>attributo2<span class="hl opt">&gt;</span>, ...&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>La parola chiave <code>not</code> (non) nella definizione di un oggetto è importante quando si usa una classe invece della definizione base di un oggetto (<code>object</code>), visto che la classe può avere alcuni attributi predefiniti che non sono utili all&#8217;oggetto corrente.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Anche se ad un oggetto non è stato dato un particolare attributo durante la definizione dello stesso, è possibile assegnargli l&#8217;attributo in qualunque punto seguente nel programma con il comando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span> <span class="hl kwa">is</span> [<span class="hl kwa">not</span>] <span class="hl opt">&lt;</span>attributo<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove la parola chiave <code>not</code> rimuove l&#8217;attributo invece di impostarlo.</p>
</div>
<div class="paragraph">
<p>Gli attributi possono anche essere letti usando le strutture <code>is</code> (è) e <code>is not</code> (non è).
Come una funzione,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span> <span class="hl kwa">is</span> [<span class="hl kwa">not</span>] <span class="hl opt">&lt;</span>attributo<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ritorna <code>true</code> (1) se l&#8217;<code>&lt;oggetto&gt;</code> è (o non è, se viene indicato <code>not</code>) <code>&lt;attributo&gt;</code>.
Altrimenti ritorna <code>false</code> (0).</p>
</div>
<div class="paragraph">
<p>Per fornire all&#8217;oggetto <code>suitcase</code> (valigia) gli attributi appropriati, si espande la definizione dell&#8217;oggetto per includere</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> suitcase <span class="hl str">&quot;suitcase&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> emptyroom&#x000A;    <span class="hl kwa">is</span> openable, <span class="hl kwa">not</span> open&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Adesso le equazioni che seguono restituiscono <code>true</code> (vero):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">suitcase <span class="hl kwa">is</span> openable <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;suitcase <span class="hl kwa">is</span> open <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;suitcase <span class="hl kwa">is</span> locked <span class="hl opt">=</span> <span class="hl num">0</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_proprietà"><a class="anchor" href="#_proprietà"></a>3.3. Proprietà</h3>
<div class="paragraph">
<p>Le proprietà sono decisamente più complesse degli attributi.
Prima di tutto, non tutti gli oggetti possono avere delle proprietà; per fare in modo che un oggetto abbia delle proprietà deve essere specificato nella definizione dello stesso.</p>
</div>
<div class="paragraph">
<p>In più le proprietà non sono dei semplici flag sì/no.
Sono un insieme di dati validi associati ad un oggetto, i cui valori possono rappresentare quasi ogni cosa, compresi i numeri degli oggetti, indirizzi del dizionario, valori interi, ed indirizzi di codice eseguibile.
Il numero massimo di valori associabili non è definito, ma manegevolezza ed efficienza suggeriscono un numero di otto o meno.</p>
</div>
<div class="paragraph">
<p>Queste sono alcune delle proprietà che potrebbero essere presenti nella definizione di un oggetto (usando i nomi di proprietà definiti in <code>HUGOLIB.H</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nouns <span class="hl str">&quot;albero&quot;</span>, <span class="hl str">&quot;cespuglio&quot;</span>, <span class="hl str">&quot;arbusto&quot;</span>, <span class="hl str">&quot;pianta&quot;</span>&#x000A;&#x000A;size <span class="hl num">20</span>&#x000A;&#x000A;found_in tinello, ingresso&#x000A;&#x000A;long_desc&#x000A;{&#x000A;    <span class="hl str">&quot;Ci sono delle uscite a nord ed ovest. Nel muro a</span>&#x000A;<span class="hl str">    sudest c&#39;è una porta.&quot;</span>&#x000A;}&#x000A;&#x000A;short_desc&#x000A;{&#x000A;    <span class="hl str">&quot;C&#39;è una scatola. Ed è &quot;</span>;&#x000A;    <span class="hl kwa">if</span> self <span class="hl kwa">is</span> open&#x000A;        <span class="hl kwa">print</span> <span class="hl str">&quot;aperta&quot;</span>;&#x000A;    <span class="hl kwa">else</span>&#x000A;        <span class="hl kwa">print</span> <span class="hl str">&quot;chiusa&quot;</span>;&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;.&quot;</span>&#x000A;}&#x000A;&#x000A;before&#x000A;{&#x000A;    <span class="hl kwa">object</span>  DoGet&#x000A;    {&#x000A;        <span class="hl kwa">if</span> Acquire(player, self)&#x000A;        {&#x000A;            <span class="hl str">&quot;Raccogli &quot;</span>;&#x000A;            <span class="hl kwa">print</span> Art(self); <span class="hl str">&quot;.&quot;</span>&#x000A;        }&#x000A;        <span class="hl kwa">else</span>&#x000A;            <span class="hl kwa">return false</span>&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La proprietà <code>nouns</code> (nomi) contiene 4 indirizzi del dizionario; la proprietà <code>size</code> (dimensione) è un valore intero; la proprietà <code>found_in</code> (trovato_in) contiene due numeri di oggetti; e le proprietà <code>long_desc</code> (descrizione_estesa) e <code>short_desc</code> (descrizione_corta) sono entrambi dei valori che rappresentano gli indirizzi delle routine associate.</p>
</div>
<div class="paragraph">
<p>La proprietà <code>before</code> (prima) è un caso speciale.
Questa proprietà complessa viene definita dal compilatore e viene trattata differentemente dall&#8217;interprete rispetto alle altre proprietà.
In questo caso, il valore della proprietà rappresentante l&#8217;indirizzo della routine viene restituito solo se le varabili globali <code>object</code> e <code>verbroutine</code> contengono, rispettivamente, l&#8217;oggetto in questione e l&#8217;indirizzo della routine <code>DoGet</code>. (C&#8217;è anche una routine <code>after</code> [dopo], che viene controllata dopo che la routine del verbo è stata chiamata).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>Nota per chiarificare</em>: la routine <code>Art</code> di <code>HUGOLIB.H</code> stampa l&#8217;articolo corretto, se presente, seguito dal nome dell&#8217;oggetto.
La routine <code>Acquire</code> restituisce <code>true</code> solo se la proprietà <code>holding</code> [quanto contiene] del primo oggetto più la proprietà <code>size</code> [dimensione] del secondo oggetto non eccedono la proprietà <code>capacity</code> [capacità] del primo oggetto.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Tutto questo può apparire poco chiaro per il momento.
Più avanti si parlerà ancora delle routine proprietà.
Per adesso pensate ad una proprietà come se contenesse semplicemente un valore (od un insieme di valori).</p>
</div>
<div class="paragraph">
<p>Una proprietà viene definita in maniera simile ad un attributo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property <span class="hl opt">&lt;</span>nome proprietà<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Un valore di default può essere definito per la proprietà usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property <span class="hl opt">&lt;</span>nome proprietà<span class="hl opt">&gt; &lt;</span>valore di default<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;valore di default&gt;</code> può essere una costante od una parola del dizionario.
Per gli oggetti senza una determinata proprietà, cercando di trovare quella proprietà di otterrà il valore di default.
Se il valore di default non viene dichiarato esplicitamente viene impostato a 0.</p>
</div>
<div class="paragraph">
<p>La lista delle proprietà definita in <code>HUGOLIB.H</code> è:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">il nome base dell&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">prima delle routine verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dopo le routine verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noun</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">il nome od i nomi con cui riferirsi all&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>adjective</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;aggettivo o gli aggettivi che descrivono l&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>article</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8220;a&#8221;, &#8220;an&#8221;, &#8220;the&#8221;, &#8220;some&#8221;, ecc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>preposition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8220;in&#8221;, &#8220;inside&#8221;, &#8220;outside of&#8221;, ecc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pronoun</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pronome appropriato per l&#8217;oggetto in questione</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>short_desc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">descrizione base tipo &#8220;X è qui&#8221;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>initial_desc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sostituisce <code>short_desc</code> (o <code>long_desc</code> per le locazioni)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>long_desc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">descrizione dettagliata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>found_in</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">in caso di locazioni multiple (oggetti genitore virtuali, <strong>NON</strong> fisici)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per identificare il tipo di un oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>n_to</code></p></td>
<td class="tableblock halign-left valign-middle" rowspan="12"><p class="tableblock">(solo per le stanze indicano dove conducono le uscite)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ne_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>e_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>se_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sw_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>w_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>nw_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>in_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>out_to</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cant_go</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">messaggio se una direzione non è valida</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dimensione per l&#8217;inventario o la capacità di oggetti contenitore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>capacity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">la capacità di un oggetto contenitore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>holding</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quanto un oggetto contenitore possiede</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reach</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per limitare l&#8217;accessibilità degli oggettti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>list_contents</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per sostituire il listato normale</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>door_to</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per consentire &#8220;Enter &lt;oggetto&gt;&#8221;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>key_object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se l&#8217;oggetto è <code>lockable</code> (chiudibile), la chiave giusta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>when_open</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quando aperto sostituisce <code>short_desc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>when_close</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quando chiuso sostituisce <code>short_desc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ignore_response</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per i personaggi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>order_response</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per i personaggi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contanins_desc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invece di &#8220;inside X are&#8230;&#8203;&#8221;</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inv_desc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per descrizioni speciali nell&#8217;inventario</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>desc_detail</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">descrizione dettagliata per il listing dell&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parse_rank</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per la differenziazion degli oggetti con nomi simili</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>exclude_from_all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per l&#8217;interpretazione di &#8220;all&#8221; (tutto) nell&#8217;input</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>misc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per usi diversi</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per una descrizione dettagliata di come ogni proprietà viene usata, consultate l&#8217;<em>Appendice B: La libreria</em>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le seguenti proprietà sono inoltre definite ed usate esclusivamente dall&#8217;oggetto <code>display</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>screenwidth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">larghezza dello schermo, in caratteri</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>screenheight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altezza dello schermo, in caratteri</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>linelength</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">larghezza della finestra di testo corrente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>windowlines</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altezza della finestra di testo corrente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cursor_column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">posizione orizzontale e verticale del</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cursor_row</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cursore nella finestra di testo corrente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hasgraphics</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code> (vero) se lo schermo è in grado di visualizzare la grafica</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title_caption</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">voce del dizionario che fornisce il nome esatto del programma (opzionale)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>statusline_height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altezza dell&#8217;ultima riga di stato visualizzata</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Notate che mentre alcune di queste, da <code>screenwidth</code> a <code>title_caption</code>, sono definite come costanti nella libreria, possono essere comunque usate come indicatori di proprietà, visto che sia i numeri di proprietà che le costanti sono semplici interi.</p>
</div>
<div class="paragraph">
<p>Anche i nomi di proprietà possono avere degli <em>alias</em> tramite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property <span class="hl opt">&lt;</span>proprietà<span class="hl num">2</span><span class="hl opt">&gt;</span> alias <span class="hl opt">&lt;</span>proprietà<span class="hl num">1</span><span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;proprietà1&gt;</code> è stata definita in precedenza.</p>
</div>
<div class="paragraph">
<p>La libreria definisce i seguenti <em>alias</em> (tra gli altri):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nouns alias noun&#x000A;adjectives alias adjective&#x000A;prep alias preposition&#x000A;pronouns alias pronoun</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una proprietà viene espressa tramite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Il numero di elementi che possiede una proprietà che ha più di un valore singolo possono essere trovati con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl ppc">#&lt;proprietà&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ed un singolo elemento viene espresso tramite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span> <span class="hl ppc">#&lt;numero elemento&gt;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>&lt;oggetto&gt;.&lt;proprietà&gt;</code> è semplicemente la versione ridotta di <code>&lt;oggetto&gt;.&lt;proprietà&gt; #1</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per aggiungere qualche proprietà all&#8217;oggetto <code>suitcase</code> (valigia) è necessario espandere la definizione dell&#8217;oggetto con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> suitcase <span class="hl str">&quot;big green suitcase&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> emptyroom            <span class="hl slc">! fatto prima</span>&#x000A;    <span class="hl kwa">is</span> openable, <span class="hl kwa">not</span> open   <span class="hl slc">!</span>&#x000A;&#x000A;    nouns <span class="hl str">&quot;suitcase&quot;</span>, <span class="hl str">&quot;case&quot;</span>, <span class="hl str">&quot;luggage&quot;</span>&#x000A;    adjective <span class="hl str">&quot;big&quot;</span>, <span class="hl str">&quot;green&quot;</span>, <span class="hl str">&quot;suit&quot;</span>&#x000A;    article <span class="hl str">&quot;a&quot;</span>&#x000A;    size <span class="hl num">25</span>&#x000A;    capacity <span class="hl num">100</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Basandosi sulle regole dell&#8217;interprete per l&#8217;identificazione degli oggetti, il giocatore si può riferire all&#8217;oggetto valigia come &#8220;big green suitcase&#8221; (grande valigia verde), &#8220;big case&#8221; (grande valigia), o &#8220;green suitcase&#8221; (valigia verde) tra le varie combinazioni.
Anche &#8220;big green&#8221; (grande verde) e &#8220;suit&#8221; possono essere valide, garantendo che queste espressioni non si riferiscano anche ad altri oggetti disponibili come &#8220;a big green apple&#8221; (una grande mela verde) o &#8220;your suit jacket&#8221; (la giacca del tuo vestito).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il formato base di identificazione del parser è</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;aggettivo 1&gt; &lt;agg. 2&gt; &lt;agg. 3&gt; ... &lt;agg.n&gt; &lt;nome&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>dove ogni sottoinsieme di questi elementi è consentito.
Comunque il nome deve apparire per ultimo e solo un nome viene riconosciuto, così che</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;nome&gt; &lt;nome&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;nome&gt; &lt;aggettivo&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>(come in &#8220;luggage case&#8221; e &#8220;suitcase green&#8221;) non vengono riconosciuti.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Una sorgente occasionale di codice stupido che non si comporta nel modo che il programmatore intendeva è quando non viene riservato abbastanza spazio per una proprietà di un determinato oggetto.
Cioè se l&#8217;oggetto è stato originariamente definito con la proprietà</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in kitchen</code></pre>
</div>
</div>
<div class="paragraph">
<p>e poi il programma cerca di impostare</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.found_in <span class="hl ppc">#2 = livingroom</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>non avrà nessun effetto evidente.
In pratica non ci sarà dello spazio nella tabella delle proprietà di <code>&lt;oggetto&gt;</code> per un secondo valore di <code>found_in</code>.
Cercando di leggere <code>&lt;oggetto&gt;.found_in    #2</code> si avrà un valore di ritorno pari a 0&#8201;&#8212;&#8201;una proprietà non esistente&#8201;&#8212;&#8201;non il numero dell&#8217;oggetto <code>livingroom</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Eseguendo il debugger con gli avvertimenti a runtime [<em>runtime warnings</em>] abilitati aiuta ad individuare situazioni come questa.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per ovviare a ciò, se si prevede che probabilmente un secondo (o terzo, o quarto, o nono) valore andrà impostato&#8201;&#8212;&#8201;anche se solo un valore viene definito&#8201;&#8212;&#8201;usate</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in kitchen, <span class="hl num">0</span>[, <span class="hl num">0</span>, <span class="hl num">0</span>,...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>nella definizione dell&#8217;oggetto.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Una scorciatoia utile per inizializzare una serie di valori a 0 è quella di usare</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in <span class="hl ppc">#4</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>invece di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in <span class="hl num">0</span>, <span class="hl num">0</span>, <span class="hl num">0</span>, <span class="hl num">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>nella definizione dell&#8217;oggetto.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Come ci si potrebbe aspettare le combinazioni di proprietà sono lette da sinistra a destra, così che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">location.n_to.name</code></pre>
</div>
</div>
<div class="paragraph">
<p>viene interpretata come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">(location.n_to).name</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classi"><a class="anchor" href="#_classi"></a>3.4. Classi</h3>
<div class="paragraph">
<p>Le classi sono sostanzialmente degli oggetti che servono come prototipi per uno o più oggetti simili.<br>
Una classe viene definita come segue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">class <span class="hl opt">&lt;</span>nomeclasse<span class="hl opt">&gt;</span> [<span class="hl str">&quot;&lt;nome opzionale&gt;&quot;</span>]&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>con il corpo della definizione che è simile a quello usato per la definizione di un oggetto, dove le proprietà e gli attributi definiti valgono per tutti i membri della classe.</p>
</div>
<div class="paragraph">
<p>Ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">class scatola&#x000A;{&#x000A;    noun <span class="hl str">&quot;scatola&quot;</span>&#x000A;    long_desc&#x000A;        <span class="hl str">&quot;Sembra una normale vecchia scatola.&quot;</span>&#x000A;    <span class="hl kwa">is</span> openable, <span class="hl kwa">not</span> open&#x000A;}&#x000A;&#x000A;scatola scatolagrande <span class="hl str">&quot;scatola grande&quot;</span>&#x000A;{&#x000A;    article <span class="hl str">&quot;una&quot;</span>&#x000A;    adjectives <span class="hl str">&quot;grande&quot;</span>, <span class="hl str">&quot;larga&quot;</span>&#x000A;    <span class="hl kwa">is</span> open&#x000A;}&#x000A;&#x000A;scatola scatolaverde <span class="hl str">&quot;scatola verde&quot;</span>&#x000A;{&#x000A;    article <span class="hl str">&quot;una&quot;</span>&#x000A;    adjective <span class="hl str">&quot;verde&quot;</span>&#x000A;    long_desc&#x000A;        <span class="hl str">&quot;Sembra una normale vecchia scatola, solo verde.&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Cominciando la routine della proprietà <code>long_desc</code> sulla riga sotto il nome della proprietà, questa viene interpretata dal compilatore come:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">long_desc&#x000A;{&#x000A;    <span class="hl str">&quot;Sembra una normale vecchia scatola, solo verde.&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Visto che la proprietà è lunga solo una riga&#8201;&#8212;&#8201;un comando di stampa&#8201;&#8212;&#8201;le parentesi graffe non sono necessarie.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La definizione di un oggetto di una certa classe comincia con il nome dell&#8217;oggetto prototipo invece di <code>object</code>.
Tutte le proprietà e gli attributi della classe vengono ereditati (tranne la posizione all&#8217;interno dell&#8217;albero degli oggetti), a meno che essi siano esplicitamente definiti nel nuovo oggetto.</p>
</div>
<div class="paragraph">
<p>In pratica, sebbene la classe <code>scatola</code> sia stata definita senza l&#8217;attributo <code>open</code> (aperto), l&#8217;oggetto <code>scatolagrande</code> comincierà il gioco aperta (<code>open</code>), visto che così è stata impostata nella definzione di <code>scatolagrande</code>.
Comincierà il gioco comunque apribile (<code>openable</code>) visto che questo attributo è stato ereditato dalla classe <code>scatola</code>.</p>
</div>
<div class="paragraph">
<p>Mentre l&#8217;oggetto <code>scatolagrande</code> avrà la proprietà <code>long_desc</code> della classe <code>scatola</code>, l&#8217;oggetto <code>scatolaverde</code> sostituisce la descrizione di default con una nuova descrizione. (Un&#8217;eccezione a questo è la proprietà <code>$additive</code>, spiegata in seguito, dove nuove proprietà vengono aggiunte a quelle delle classi precedenti).</p>
</div>
<div class="paragraph">
<p>Poiché una classe è fondamentalmente un oggetto, è possibile definire un oggetto usando un oggetto precedente come classe anche se l&#8217;oggetto precedente non è stato esplicitamente definito come classe.<br>
Perciò</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">scatolagrande scatolagranderossa <span class="hl str">&quot;scatola grande rossa&quot;</span>&#x000A;{&#x000A;    adjectives <span class="hl str">&quot;grande&quot;</span>, <span class="hl str">&quot;larga&quot;</span>, <span class="hl str">&quot;rossa&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>è perfettamente valido.</p>
</div>
<div class="paragraph">
<p>Occasionalmente può essere necessario avere un oggetto o una classe che ereditano da più di una classe definita in precedenza.
Questo può essere ottenuto usando l&#8217;istruzione <code>inherits</code> (eredita).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>classe1<span class="hl opt">&gt; &lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome&quot;</span>&#x000A;{&#x000A;    inherits <span class="hl opt">&lt;</span>classe2<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>classe3<span class="hl opt">&gt;</span>, ...]&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>o anche</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> <span class="hl opt">&lt;</span>nomeoggetto<span class="hl opt">&gt;</span> <span class="hl str">&quot;nome&quot;</span>&#x000A;{&#x000A;    inherits <span class="hl opt">&lt;</span>classe1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>classe2<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>classe3<span class="hl opt">&gt;</span>, ...]&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La precedenza dell&#8217;ereditarietà è in ordine di definizione.
Negli esempi precedenti, l&#8217;oggetto eredita prima da <code>&lt;classe1&gt;</code>, poi da <code>&lt;classe2&gt;</code>, e così via (o anche <code>&lt;oggetto1&gt;</code>, <code>&lt;oggetto2&gt;</code>, ecc.).</p>
</div>
<div class="paragraph">
<p>La libreria degli oggetti di Hugo (<code>OBJLIB.H</code>) contiene una serie di definizioni di classi utili per cose come stanze, personaggi, scenario, veicoli, ecc.
Alcune volte, comunque, può essere utile usare una definizione differente per, ad esempio, la classe <code>room</code> (stanza) mantenendo tutte le altre della libreria degli oggetti.</p>
</div>
<div class="paragraph">
<p>Invece di modificare il file <code>OBJLIB.H</code> si usa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">replace <span class="hl opt">&lt;</span>classe<span class="hl opt">&gt;</span> [<span class="hl str">&quot;&lt;nome opzionale&gt;&quot;</span>]&#x000A;{&#x000A;    (...nuova definizione dell&#39;oggetto...)&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;classe&gt;</code> è il nome di un oggetto o di una classe definiti in precedenza, come <code>room</code> (stanza).
Tutti i riferimenti seguenti a <code>&lt;classe&gt;</code> useranno questo oggetto invece di quello definito precedentemente.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Questo significa che la sostituzione [<code>replace</code>] deve avvenire <strong>PRIMA</strong> dell&#8217;uso della classe dagli altri oggetti.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_la_programmazione_di_hugo"><a class="anchor" href="#_la_programmazione_di_hugo"></a>4. LA PROGRAMMAZIONE DI HUGO</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_variabili"><a class="anchor" href="#_variabili"></a>4.1. Variabili</h3>
<div class="paragraph">
<p>Hugo supporta due tipi di variabili: globali e locali.
Entrambi i tipi contengono un intero a 16 bit, così una variabile può memorizzare un valore semplice, il numero di un oggetto, un indirizzo del dizionario, un indirizzo di una routine, o qualunque altro tipo di dati standard di Hugo tramite un&#8217;assegnazione come:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">a <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;nextobj <span class="hl opt">=</span> <span class="hl kwa">parent</span>(obj)&#x000A;temp_word <span class="hl opt">=</span> <span class="hl str">&quot;the&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Le variabili globali sono visibili per tutto il programma.
Debbono essere definite in maniera simile a quanto viene fatto per le proprietà e gli attributi come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">global <span class="hl opt">&lt;</span>nome variabile globale<span class="hl opt">&gt;</span>[ <span class="hl opt">= &lt;</span>valore iniziale<span class="hl opt">&gt;</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le variabili locali, d&#8217;altra parte, sono riconosciute solo all&#8217;interno della routine in cui sono state definite.
Vengono definite usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> <span class="hl opt">&lt;</span>nome variabile locale<span class="hl opt">&gt;</span>[ <span class="hl opt">= &lt;</span>valore iniziale<span class="hl opt">&gt;</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le variabili globali devono avere un nome univoco, diverso da quello usato per altri oggetti: le variabili locali, invece, possono usare lo stesso nome usato per altre variabili locali in altre routine.</p>
</div>
<div class="paragraph">
<p>In entrambi i casi, globali o locali, il valore iniziale di default è 0 se nessun valore viene fornito.
Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">global time_of_day <span class="hl opt">=</span> <span class="hl num">1100</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>è uguale a 1100 quando il programma viene eseguito, ed è visibile in ogni punto del programma ad ogni oggetto o routine.
D&#8217;altra parte le variabili</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> a, max <span class="hl opt">=</span> <span class="hl num">100</span>, t</code></pre>
</div>
</div>
<div class="paragraph">
<p>sono visibili solo nel blocco di codice in cui sono state definite, e sono inizializzate, rispettivamente, a 0, 100 e 0, ogni volta che quella sezione di codice (che sia una routine, una routine proprietà, un evento, ecc.) viene eseguita.</p>
</div>
<div class="paragraph">
<p>Il compilatore definisce una serie di globali dell&#8217;interprete (<em>engine globals</em>): varibili globali referenziate direttamente dall&#8217;interprete, ma che possono essere utilizzate come ogni altra variabile globale.
Sono:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>object</code>        
</td>
<td class="hdlist2">
<p>oggetto a cui si riferisce un&#8217;azione</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>xobject</code>       
</td>
<td class="hdlist2">
<p>l&#8217;oggetto indiretto</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>self</code>          
</td>
<td class="hdlist2">
<p>l&#8217;oggetto che punta a se stesso</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>words</code>         
</td>
<td class="hdlist2">
<p>numero di parole nel comando</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>player</code>        
</td>
<td class="hdlist2">
<p>l&#8217;oggetto giocatore</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>actor</code>         
</td>
<td class="hdlist2">
<p>il giocatore, od un personaggio (per gli script)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>verbroutine</code>   
</td>
<td class="hdlist2">
<p>la routine specificata dal comando</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>endflag</code>       
</td>
<td class="hdlist2">
<p>se non è falso (0), esegue la routine <code>EndGame</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>prompt</code>        
</td>
<td class="hdlist2">
<p>per l&#8217;input; il default è <code>&gt;</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>objects</code>       
</td>
<td class="hdlist2">
<p>il numero totale di oggetti</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>system_status</code> 
</td>
<td class="hdlist2">
<p>dopo certe operazioni</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le globali <code>object</code> e <code>xobject</code> vengono impostate dall&#8217;interprete in base al comando digitato dal giocatore.
La globale <code>self</code> è indefinita a meno che un oggetto sia stato referenziato (in una routine proprietà).
In questo caso viene impostata con il numero dell&#8217;oggetto.
La variabile <code>player</code> contiene il numero dell&#8217;oggetto che il giocatore sta controllando; la variabile <code>verbroutine</code> contiene l&#8217;indirizzo della routine specificata nella tavola della grammatica e corrispondente al comando inserito; la varibile <code>endflag</code> deve essere 0 a meno che non accada qualcosa che faccia terminare il gioco; e la variabile <code>prompt</code> contiene la parola del dizionario che appare all&#8217;inzio della riga di input.</p>
</div>
<div class="paragraph">
<p>La variabile <code>objects</code> può essere impostata dal giocatore, ma senza alcun effetto utile.
L&#8217;interprete la reimposterà al valore &#8220;vero&#8221; ogni volta che verrà referenziata. (Tutti i numeri di oggetto variano da 0 al valore di <code>objects</code>).
La variabile <code>system_status</code> può essere letta (dopo un&#8217;operazione riguardante una risorsa o una chiamata di &#8216;sistema&#8217;; controllate le sezioni corrispondenti per una spiegazione di queste funzioni) per controllare se si è verificato un errore.
Consultate la sezione riguardante le &#8220;Risorse&#8221; per i possibili valori di ritorno.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Impostando <code>endflag</code> ad un valore diverso da 0 forza un&#8217;interruzione <strong>IMMEDIATA</strong> del ciclo di gioco.
Le istruzioni che seguono l&#8217;assegnazione del valore ad <code>endflag</code>, anche se nella stessa funzione, non verranno eseguite; il controllo passa direttamente all&#8217;interprete che chiama la routine <code>EndGame</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_costanti"><a class="anchor" href="#_costanti"></a>4.2. Costanti</h3>
<div class="paragraph">
<p>Le costanti sono semplicemente delle etichette che identificano un valore non modificabile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">constant NOME <span class="hl str">&quot;John&quot;</span>&#x000A;constant COGNOME      <span class="hl str">&quot;Smith&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>(Fate caso alla mancanza di un segno di <code>=</code> tra, ad esempio, <code>NOME</code> e <code>"John"</code>)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> COGNOME; <span class="hl str">&quot;, &quot;</span>; NOME</code></pre>
</div>
</div>
<div class="paragraph">
<p>visualizza:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Smith, John</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Le costanti possono essere, come ogni altro tipo di dato in Hugo, interi, voci del dizionario, numeri di oggetti, ecc.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Non è necessario assegnare un valore definito ad una costante se le costanti devono essere usate come una specie di flag o indicatore.
Perciò,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">constant QUESTO_RISULTATO&#x000A;constant QUEL_RISULTATO</code></pre>
</div>
</div>
<div class="paragraph">
<p>avranno un valore differente tra di loro, così come da ogni altra costante definita senza uno specifico valore.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A volte può essere utile numerare una serie di costanti in sequenza.
Invece di definirle individualmente è possibile usare:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">enumerate start <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;{&#x000A;    LUNEDI, MARTEDI, MERCOLEDI, GIOVEDI, VENERDI&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>che assegna:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">LUNEDI <span class="hl opt">=</span> <span class="hl num">1</span>, MARTEDI <span class="hl opt">=</span> <span class="hl num">2</span>, MERCOLEDI <span class="hl opt">=</span> <span class="hl num">3</span>, GIOVEDI <span class="hl opt">=</span> <span class="hl num">4</span>, VENERDI <span class="hl opt">=</span> <span class="hl num">5</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Il valore <code>start</code> [inizio] è opzionale.
Se viene omesso si assume 0.
Inoltre è possible cambiare il valore corrente in ogni punto (questo riguarderà anche i valori seguenti).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">enumerate&#x000A;{&#x000A;    A, B, C <span class="hl opt">=</span> <span class="hl num">5</span>, D, E&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>imposta:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">A <span class="hl opt">=</span> <span class="hl num">0</span>, B <span class="hl opt">=</span> <span class="hl num">1</span>, C <span class="hl opt">=</span> <span class="hl num">5</span>, D <span class="hl opt">=</span> <span class="hl num">6</span>, E <span class="hl opt">=</span> <span class="hl num">7</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Infine è possibile modificare il passo della numerazione usando la parola chiave &#8220;step&#8221; seguita da <code>+x</code>, <code>-x</code>, <code>*x</code> o <code>/x</code>, dove <code>x</code> è un valore intero.
Per contare per due:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">enumerate step <span class="hl opt">*</span><span class="hl num">2</span>&#x000A;{&#x000A;    A <span class="hl opt">=</span> <span class="hl num">1</span>, B, C, D&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>imposta:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">A <span class="hl opt">=</span> <span class="hl num">1</span>, B <span class="hl opt">=</span> <span class="hl num">2</span>, C <span class="hl opt">=</span> <span class="hl num">4</span>, D <span class="hl opt">=</span> <span class="hl num">8</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>la numerazione delle variabili globali è possibile usando lo specificatore <code>globals</code>, come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">enumerate globals&#x000A;{&#x000A;    <span class="hl opt">&lt;</span>globale1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>globale2<span class="hl opt">&gt;</span>...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Altrimenti lo specificatore <code>constants</code> viene considerato di default.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_scrivere_il_testo"><a class="anchor" href="#_scrivere_il_testo"></a>4.3. Scrivere il testo</h3>
<div class="paragraph">
<p>Il testo può essere stampato usando due metodi differenti.
Il primo è l&#8217;utilizzo del comando <code>print</code>, la cui forma più semplice è</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;&lt;stringa&gt;&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;stringa&gt;</code> rappresenta una serie di caratteri alfanumerici e simboli di punteggiatura.</p>
</div>
<div class="paragraph">
<p>Il carattere di controllo barra inversa (<code>\</code>) viene gestito in maniera speciale.
Modifica il modo in cui il carattere che lo segue nella stringa viene trattato.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>\"</code> 
</td>
<td class="hdlist2">
<p>inserisce le doppie virgolette</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\\</code> 
</td>
<td class="hdlist2">
<p>inserisce il carattere di barra inversa</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\_</code> 
</td>
<td class="hdlist2">
<p>inserisce uno spazio, ignorando la giustificazione a sinistra per il resto della stringa</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\n</code> 
</td>
<td class="hdlist2">
<p>inserisce un carattere di nuova riga</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Come normale, un singolo <code>\</code> alla fine di una riga segnala che la riga continua sulla successiva.</p>
</div>
<div class="paragraph">
<p>Esempi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">Salve!</span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>"Salve!"</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Stampa una...</span><span class="hl esc">\n</span><span class="hl str">...riga nuova&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Stampa una&#8230;&#8203;<br>
&#8230;&#8203;riga nuova</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Uno</span><span class="hl esc">\\</span><span class="hl str">Due</span><span class="hl esc">\\</span><span class="hl str">Tre&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Uno\Due\Tre</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;      Giustificato a sinistra&quot;</span>&#x000A;<span class="hl kwa">print</span> <span class="hl str">&quot;</span><span class="hl esc">\_</span>    <span class="hl str">Non giustificato a sinistra&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Giustificato a sinistra<br>
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Non giustificato a sinistra</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Questa è una \</span>&#x000A;<span class="hl str">riga singola.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Questa è una riga singola.</p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sebbene</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Questa è una</span>&#x000A;<span class="hl str">    riga singola.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>produca lo stesso risultato, visto che l&#8217;interruzione di riga avviene tra doppi apici.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Queste combinazioni di caratteri di controllo sono valide solo in stampa; non vengono trattate in maniera letterale, come, ad esempio, le espressioni che coinvolgono le voci del dizionario.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Dopo ognuno dei comandi <code>print</code> indicati sopra, viene stampata una riga nuova.
Per evitarlo è necessario aggiungere un punto e virgola (<code>;</code>) alla fine dell&#8217;istruzione <code>print</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Questa è una &quot;</span>;&#x000A;<span class="hl kwa">print</span> <span class="hl str">&quot;singola riga.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Questa è una singola riga.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Le istruzioni <code>print</code> possono anche contenere dei tipi di dato, o una combinazione di tipi di dato e stringhe.
Il comando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;La &quot;</span>; <span class="hl kwa">object</span>.name; <span class="hl str">&quot; è chiusa.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>stamperà la parola che si trova all&#8217;indirizzo del dizionario specificato da <code>object.name</code>, così se <code>object.name</code> punta alla parola &#8220;scatola&#8221;, l&#8217;output risultante sarà:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>La scatola è chiusa.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Per rendere maiuscola la prima lettera della parola specificata, si usa il modificatore <code>capital</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;La &quot;</span>; <span class="hl kwa">capital object</span>.name; <span class="hl str">&quot; è chiusa.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>La Scatola è chiusa.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Per stampare il dato come un valore invece di indirizzare una voce di dizionario, si usa il modificatore <code>number</code>.
Ad esempio, se la variabile <code>tempo</code> contiene il numero 5,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Restano ancora &quot;</span>; <span class="hl kwa">number</span> tempo; <span class="hl str">&quot; secondi.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Restano ancora 5 secondi.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Se non fosse stato usato <code>number</code>, l&#8217;interprete avrebbe cercato di trovare una parola all&#8217;indirizzo 5 del dizionario, ed il risultato sarebbe stato una stampa errata.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Soprattutto per gli scopi del debug, il modificatore <code>hex</code> stampa il dato come un numero esadecimale invece di un numero decimale.
Se la variabile <code>val</code> contiene 127,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print number</span> val; <span class="hl str">&quot; è &quot;</span>; <span class="hl kwa">hex</span> val; <span class="hl str">&quot; in esadecimale.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>127 è 7F in esadecimale.</p>
</div>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Un secondo modo per stampare il testo è quello di prenderlo dalla memoria del testo (text bank), da dove&#8201;&#8212;&#8201;se non c&#8217;è abbastanza memoria&#8201;&#8212;&#8201;le sezioni di testo sono caricate dal disco solo quando è richiesto dal programma.
Questo metodo è stato adottato così che lunghi blocchi di testo&#8201;&#8212;&#8201;come le descrizioni e la narrazione&#8201;&#8212;&#8201;non consumano spazio prezioso se la memoria è limitata.
Il comando consiste semplicemente in una stringa tra doppi apici senza nessuna istruzione che la precede.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;Questa stringa verrà scritta sul disco.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Questa stringa verrà scritta sul disco.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;Così questa &quot;</span>;&#x000A;<span class="hl str">&quot;ed anche questa.&quot;</span></code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Così questa ed anche questa.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Fate caso al fatto che un punto e virgola alla fine dell&#8217;istruzione continua ad evitare la stampa su una nuova riga.
I caratteri di controllo nella stringa sono ancora utilizzabili con queste istruzioni di stampa, ma visto che ogni comando è una singola riga, i tipi di dato e gli altri modificatori non possono essere composti.
Per questo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">Salve,</span><span class="hl esc">\&quot;</span> <span class="hl str">disse.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>scriverà</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>"Salve," disse.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Nella memoria di testo del file <code>.HEX</code>, ma</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl str">&quot;Restano ancora &quot;</span>; <span class="hl kwa">number</span> tempo_rimasto; <span class="hl str">&quot; secondi.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>è illegale.</p>
</div>
<div class="paragraph">
<p>Il colore del testo può essere cambiato usando il comando <code>color</code> (usabile anche secondo la sintassi Inglese <code>colour</code>).
Il formato è</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">color</span> <span class="hl opt">&lt;</span>primopiano<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>sfondo<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>colore dell&#39;<span class="hl kwa">input</span><span class="hl opt">&gt;</span>]]</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove il colore di sfondo non è obbligatorio.
(Se nessun colore di sfondo viene specificato, verrà usato quello corrente).</p>
</div>
<div class="paragraph">
<p>Anche il colore dell&#8217;input non è obbligatorio&#8201;&#8212;&#8201;specifica il colore usato per stampare i comandi del giocatore.</p>
</div>
<div class="paragraph">
<p>Il set standard di colori con i valori corrispondenti ed i nomi delle costanti è:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">COLORE</th>
<th class="tableblock halign-right valign-top">VALORE</th>
<th class="tableblock halign-left valign-top">COSTANTE</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nero</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BLACK</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blu</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BLUE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verde</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GREEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ciano</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CYAN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rosso</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RED</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Magenta</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MAGENTA</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marrone</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BROWN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bianco</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHITE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Grigio scuro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DARK_GRAY</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Blu chiaro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LIGHT_BLUE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verde chiaro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LIGHT_GREEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ciano chiaro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LIGHT_CYAN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rosso chiaro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LIGHT_RED</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Magenta chiaro</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LIGHT_MAGENTA</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Giallo</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>YELLOW</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bianco brill.</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>BRIGHT_WHITE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primo piano default</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEF_FOREGROUND</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sfondo default</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEF_BACKGROUND</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primo piano statusline default</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEF_SL_FOREGROUND</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sfondo statusline default</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEF_SL_BACKGROUND</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Primo piano corr.</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MATCH_FOREGROUND</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le costanti sono definite in <code>HUGOLIB.H</code>; quando si usa la libreria non è necessario riferirsi ai colori usando il loro valore numerico.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ci si aspetta che, a parte il sistema, ogni colore venga stampato differentemente dagli altri.
Comunque la pratica suggerisce che il bianco (talvolta il bianco brillante) venga usato per la stampa del testo.
Blu e nero vengono di solito usati per lo sfondo.</p>
</div>
<div class="paragraph">
<p>Un testo magenta su uno sfondo ciano si ottiene con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">color</span> MAGENTA, CYAN</code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">color</span> <span class="hl num">5</span>, <span class="hl num">3</span> <span class="hl slc">! Se non si usa HUGOLIB.H</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Una riga corrente può essere riempita&#8201;&#8212;&#8201;con spazi bianchi del colore corrente&#8201;&#8212;&#8201;fino ad una specifica colonna (sostanzialmente un tabulatore) usando la struttura <code>print to&#8230;&#8203;</code> come segue:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Ora:&quot;</span>; <span class="hl kwa">to</span> <span class="hl num">40</span>; <span class="hl str">&quot;Data:&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove il valore che segue il <code>to</code> non deve essere superiore alla lunghezza massima della riga indicata dalla variabile globale dell&#8217;interprete <code>linelength</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;output risultante è qualcosa del tipo:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Ora:
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;
Data:</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Il testo può essere posizionato usando il comando <code>locate</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">locate</span> <span class="hl opt">&lt;</span>colonna<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>riga<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">locate</span> <span class="hl num">1</span>, <span class="hl num">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>posiziona il testo in output all&#8217;angolo in alto a sinistra della finestra di testo corrente.
Né <code>&lt;colonna&gt;</code> né <code>&lt;riga&gt;</code> devono superare i bordi della finestra corrente&#8201;&#8212;&#8201;l&#8217;interprete le riduce automaticamente se necessario.</p>
</div>
</div>
<div class="sect2">
<h3 id="_altri_caratteri_di_controllo"><a class="anchor" href="#_altri_caratteri_di_controllo"></a>4.4. Altri caratteri di controllo</h3>
<div class="paragraph">
<p>Come indicato prima, quelli che seguono sono dei caratteri di controllo validi che possono essere racchiusi in una stringa:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>\"</code> 
</td>
<td class="hdlist2">
<p>doppi apici</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\\</code> 
</td>
<td class="hdlist2">
<p>una barra inversa</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\_</code> 
</td>
<td class="hdlist2">
<p>uno spazio forzato, ignorando la giustificazione a sinistra per il resto della stringa</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\n</code> 
</td>
<td class="hdlist2">
<p>riga nuova</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il prossimo insieme di caratteri definisce l&#8217;aspetto del testo impostando il grassetto, il corsivo, il proporzionale ed il sottolineato.
Non tutti i computer e sistemi operativi sono in grado di fornire tutti i tipi di output; comunque l&#8217;interprete si occuperà di formattare in maniera corretta tutti i testi&#8201;&#8212;&#8201;ad esempio, il testo stampato in maniera proporzionale apparirà corretto anche su un sistema con solo caratteri a spaziatura fissa, come l&#8217;MS-DOS (sebbene non verrà stampato con la spaziatura porporzionale).</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>\B</code> 
</td>
<td class="hdlist2">
<p>attiva il grassetto (<strong>Bold</strong>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\b</code> 
</td>
<td class="hdlist2">
<p>disattiva il grassetto</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\I</code> 
</td>
<td class="hdlist2">
<p>attiva il corsivo (<em>Italic</em>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\i</code> 
</td>
<td class="hdlist2">
<p>disattiva il corsivo</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\P</code> 
</td>
<td class="hdlist2">
<p>attiva la stampa proporzionale</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\p</code> 
</td>
<td class="hdlist2">
<p>disattiva la stampa proporzionale</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\U</code> 
</td>
<td class="hdlist2">
<p>attiva il sottolineato (<span class="underline">Underline</span>)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\u</code> 
</td>
<td class="hdlist2">
<p>disattiva il sottolineato</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Lo stile della stampa può anche essere modificato usando la routine <code>Font</code> di <code>HUGOLIB.H</code>.
Le costanti di modifica dei caratteri possono essere combinate:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Font(BOLD_ON <span class="hl opt">|</span> ITALICS_ON <span class="hl opt">|</span> PROP_OFF)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove le costanti valide sono <code>BOLD_ON</code>, <code>BOLD_OFF</code>, <code>ITALICS_ON</code>, <code>ITALICS_OFF</code>, <code>UNDERLINE_ON</code>, <code>UNDERLINE_OFF</code>, <code>PROP_ON,</code> e <code>PROP_OFF</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I caratteri speciali possono essere stampati attraverso i caratteri di controllo.
Questi caratteri sono quelli compresi nel set di caratteri <em>Latin-1</em>; se un sistema non è in grado di visualizzarli, stamperà gli equivalenti ASCII.</p>
</div>
<div class="paragraph">
<p>(Gli esempi seguenti, tra parentesi, possono non essere visualizzati correttamente su tutti i computer e stampanti).</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>\\</code>  
</td>
<td class="hdlist2">
<p>accento grave seguito da una lettera<br>
es. <code>"\\`a"</code> stampa una &#8216;a&#8217; con accento grave (à)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\'</code>  
</td>
<td class="hdlist2">
<p>accento acuto seguito da una lettera<br>
es. <code>"\´E"</code> stampa una &#8216;E&#8217; con accento acuto (É)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\~</code>  
</td>
<td class="hdlist2">
<p>tilde seguita da una lettera<br>
es. <code>"\~n"</code> stampa una &#8216;n&#8217; con una tilde (ñ)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\^</code>  
</td>
<td class="hdlist2">
<p>accento circonflesso seguito da una lettera<br>
es. <code>"\^u"</code> stampa una &#8216;i&#8217; con accento circonflesso (î)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\:</code>  
</td>
<td class="hdlist2">
<p>umlaut seguito da una lettera<br>
es. <code>"\:u"</code> stampa una &#8216;u&#8217; con umlaut (ü)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\,</code>  
</td>
<td class="hdlist2">
<p>cedilla seguito da <code>c</code> o <code>C</code><br>
 es. <code>"\,c"</code> stampa una &#8216;c&#8217; con cedilla (ç)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\&lt;</code> o <code>\&gt;</code>  
</td>
<td class="hdlist2">
<p>virgolette (« »)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\!</code>   
</td>
<td class="hdlist2">
<p>punto esclamativo inverso (¡)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\?</code>   
</td>
<td class="hdlist2">
<p>punto interrogativo inverso (¿)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\ae</code>  
</td>
<td class="hdlist2">
<p>&#8216;ae&#8217; legate (æ)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\AE</code>  
</td>
<td class="hdlist2">
<p>&#8216;AE&#8217; legate (Æ)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\c</code>   
</td>
<td class="hdlist2">
<p>simbolo del centesimo (¢)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\L</code>   
</td>
<td class="hdlist2">
<p>simbolo della lira (£)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\Y</code>   
</td>
<td class="hdlist2">
<p>Yen Giapponese (¥)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\-</code>   
</td>
<td class="hdlist2">
<p>linea (-)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>\#xxx</code>  
</td>
<td class="hdlist2">
<p>un qualunque carattere ASCII dove xxx è il codice ASCII a tre cifre del carattere che deve essere stampato<br>
es. <code>"\#065"</code> stampa una &#8216;A&#8217; (ASCII 65).</p>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_esempio_mischiare_gli_stili_del_testo"><a class="anchor" href="#_esempio_mischiare_gli_stili_del_testo"></a>Esempio: Mischiare gli stili del testo</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl slc">! Routine di esempio che stampa diversi stili e colori</span>&#x000A;&#x000A;<span class="hl ppc">#include</span> <span class="hl pps">&quot;hugolib.h&quot;</span><span class="hl ppc"></span>&#x000A;&#x000A;routine PrintingSample&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Il testo pu</span><span class="hl ipl">\`o</span> <span class="hl str">essere stampato</span>&#x000A;<span class="hl str">        in</span> <span class="hl esc">\B</span><span class="hl str">grassetto</span><span class="hl esc">\b</span><span class="hl str">,</span>      <span class="hl esc">\I</span><span class="hl str">corsivo</span><span class="hl esc">\i</span><span class="hl str">,</span>&#x000A;<span class="hl str"></span>        <span class="hl esc">\U</span><span class="hl str">sottolineato</span><span class="hl esc">\u</span><span class="hl str">, o</span>&#x000A;<span class="hl str"></span>        <span class="hl esc">\P</span><span class="hl str">proporzionale</span><span class="hl esc">\p</span><span class="hl str">.&quot;</span>&#x000A;&#x000A;    <span class="hl kwa">color</span> RED <span class="hl slc">! o color 4</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;</span><span class="hl esc">\n</span><span class="hl str">Pronti. &quot;</span>;&#x000A;    <span class="hl kwa">color</span> YELLOW <span class="hl slc">! color 14</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Partenza. &quot;</span>;&#x000A;    <span class="hl kwa">color</span> GREEN <span class="hl slc">! color 2</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Via!&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;output sarà:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Il testo può essere stampato in <strong>grassetto</strong>, <em>corsivo</em>, <span class="underlined">sottolineato</span> o <code>proporzionale</code>.</p>
</div>
<div class="paragraph">
<p><span class="red">Pronti.</span> <span class="yellow">Partenza.</span> <span class="green">Via!</span></p>
</div>
</div>
</div>
<div class="paragraph">
<p>con &#8220;grassetto&#8221;, &#8220;corsivo&#8221;, &#8220;sottolineato&#8221; e &#8220;proporzionale&#8221; stampati nel rispettivo stile. &#8220;Pronti&#8221;, &#8220;Partenza&#8221; e &#8220;Via!&#8221; appariranno sulla stessa riga in tre colori differenti.</p>
</div>
<div class="paragraph">
<p>Non tutti i computer sono in grado di stampare tutti gli stili.
Le versioni base MS-DOS, ad esempio, usano i colori invece dei cambi di stile e non supportano la stampa proporzionale.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_operatori_ed_assegnazioni"><a class="anchor" href="#_operatori_ed_assegnazioni"></a>4.5. Operatori ed assegnazioni</h3>
<div class="paragraph">
<p>Hugo consente l&#8217;uso degli operatori matematici standard:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>+</code>  
</td>
<td class="hdlist2">
<p>addizione</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>-</code>  
</td>
<td class="hdlist2">
<p>sottrazione</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>*</code>  
</td>
<td class="hdlist2">
<p>moltiplicazione</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>/</code>  
</td>
<td class="hdlist2">
<p>divisione intera</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I confronti sono operatori validi, restituendo vero o falso booleano (1 o 0) così che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl num">2</span> <span class="hl opt">+</span> (x <span class="hl opt">=</span> <span class="hl num">1</span>)&#x000A;<span class="hl num">5</span> <span class="hl opt">-</span> (x <span class="hl opt">&gt;</span> <span class="hl num">1</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>valgono rispettivamente 3 e 5 se <em>x</em> è 1, e 2 e 4 se <em>x</em> è 2 o superiore.</p>
</div>
<div class="paragraph">
<p>Operatori relazionali validi sono</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>=</code>      
</td>
<td class="hdlist2">
<p>uguale a</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>~=</code>     
</td>
<td class="hdlist2">
<p>diverso</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&lt;</code>      
</td>
<td class="hdlist2">
<p>minore di</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&gt;</code>      
</td>
<td class="hdlist2">
<p>maggiore di</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&lt;&#8288;=</code> 
</td>
<td class="hdlist2">
<p>minore o uguale</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>&gt;&#8288;=</code> 
</td>
<td class="hdlist2">
<p>maggiore o uguale</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Sono consentiti anche gli operatori logici (<code>and</code>, <code>or</code> e <code>not</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">(x <span class="hl kwa">and</span> y) <span class="hl kwa">or</span> (a <span class="hl kwa">and</span> b)&#x000A;(j <span class="hl opt">+</span> <span class="hl num">5</span>) <span class="hl kwa">and not</span> ObjectIsLight(k)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Usando <code>and</code> si ha <em>true</em> (1) se entrambi i valori sono diversi da zero.<br>
Usando <code>or</code> si ha <em>true</em> se uno dei due non è zero. <code>not</code> vale <em>true</em> solo se il valore seguente è zero.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl num">1</span> <span class="hl kwa">and</span> <span class="hl num">1</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;<span class="hl num">1</span> <span class="hl kwa">and</span> <span class="hl num">0</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;<span class="hl num">5</span> <span class="hl kwa">and</span> <span class="hl num">3</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;<span class="hl num">0</span> <span class="hl kwa">and</span> <span class="hl num">9</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;<span class="hl num">0</span> <span class="hl kwa">and</span> <span class="hl num">169</span> <span class="hl kwa">and</span> <span class="hl num">1</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;<span class="hl num">1</span> <span class="hl kwa">and</span> <span class="hl num">12</span> <span class="hl kwa">and</span> <span class="hl num">1233</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;&#x000A;<span class="hl num">1</span> <span class="hl kwa">or</span> <span class="hl num">1</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;<span class="hl num">35</span> <span class="hl kwa">or</span> <span class="hl num">0</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;<span class="hl num">0</span> <span class="hl kwa">or</span> <span class="hl num">0</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;&#x000A;<span class="hl kwa">not</span> <span class="hl num">0</span> <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;<span class="hl kwa">not</span> <span class="hl num">1</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;<span class="hl kwa">not</span> <span class="hl num">8</span> <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;&#x000A;<span class="hl num">1</span> <span class="hl kwa">and</span> <span class="hl num">7</span> <span class="hl kwa">or</span> (<span class="hl num">14</span> <span class="hl kwa">and not</span> <span class="hl num">0</span>) <span class="hl opt">=</span> <span class="hl num">1</span>&#x000A;(<span class="hl num">0</span> <span class="hl kwa">or not</span> <span class="hl num">1</span>) <span class="hl kwa">and</span> <span class="hl num">3</span> <span class="hl opt">=</span> <span class="hl num">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inoltre sono forniti anche gli operatori binari:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<code>1 &amp; 1 = 1</code>   
</td>
<td class="hdlist2">
<p>(<code>and</code> binario)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>1 &amp; 0 = 0</code>   
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>1 | 0 = 1</code>   
</td>
<td class="hdlist2">
<p>(<code>or</code> binario)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>1 | 1 = 1</code>   
</td>
<td class="hdlist2">
<p></p>
</td>
</tr>
<tr>
<td class="hdlist1">
<code>~0 = -1</code>     
</td>
<td class="hdlist2">
<p>(<code>not</code>/inversione binaria)</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Una spiegazione dettagliata degli operatori binari è un po' oltre lo scopo di questo manuale; i programmatori potranno usare l&#8217;operatore <code>|</code> per combinare i parametri a mascheratura di bit per alcune funzioni della libreria come <code>font</code> e <code>list-formats</code>, ma solo gli utenti avanzati saranno in grado di usare gli operatori binari con ottimi risultati nella programmazione pratica.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Qualunque tipo di dato di Hugo può comparire in una espressione, comprese le routine, attributi, proprietà, costanti e variabili.
Nella valutazione delle espressioni vengono applicate le regole matematiche standard di precedenza negli operatori così che le espressioni tra parentesi vengono valutate prima, seguite da moltiplicazioni e divisioni, seguite da addizioni e sottrazioni.</p>
</div>
<div class="paragraph">
<p>Alcune combinazioni di esempio sono:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl num">10</span> <span class="hl opt">+</span> <span class="hl kwa">object</span>.size         <span class="hl slc">! costante intera e proprietà</span>&#x000A;<span class="hl kwa">object is</span> openable <span class="hl opt">+</span> <span class="hl num">1</span>   <span class="hl slc">! test su un attributo e costante</span>&#x000A;FindLight(location) <span class="hl opt">+</span>a   <span class="hl slc">! valore di ritorno e variabile</span>&#x000A;<span class="hl num">1</span> <span class="hl kwa">and object is</span> light    <span class="hl slc">! costante, test logico e attributo</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Le espressioni possono essere valutate e assegnate sia ad una variabile che ad una proprietà.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>variabile<span class="hl opt">&gt; = &lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;&#x000A;<span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span> [<span class="hl ppc">#&lt;elemento&gt;] = &lt;espressione&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In alcuni casi il compilatore può consentire l&#8217;uso di un&#8217;istruzione la cui parte sinistra dell&#8217;assegnazione non è modificabile.
Ad esempio</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Funzione() <span class="hl opt">= &lt;</span>espressione<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl ppc">#&lt;proprietà&gt; = &lt;espressione&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>possono essere compilate, ma queste istruzioni generanno un errore di run-time nell&#8217;interprete.</p>
</div>
</div>
<div class="sect2">
<h3 id="_operatori_efficienti"><a class="anchor" href="#_operatori_efficienti"></a>4.6. Operatori efficienti</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">numero_di_oggetti <span class="hl opt">=</span> numero_di_oggetti <span class="hl opt">+</span> <span class="hl num">1</span>&#x000A;<span class="hl kwa">if</span> numero_di_oggetti <span class="hl opt">&gt;</span> <span class="hl num">10</span>&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Troppi oggetti!&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>può essere codificato in maniera più semplice</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">++</span>numero_di_oggetti <span class="hl opt">&gt;</span> <span class="hl num">10</span>&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Troppi oggetti!&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;operatore <code>++</code> incrementa il valore della variabile seguente di uno prima di restituire il valore della stessa.
Allo stesso modo si può far precedere una variabile da <code>--</code> per decrementarne il valore di uno prima di resituire il valore.
Poiché questi operatori agiscono prima che il valore venga restituito vengono chiamati operatori di &#8220;pre incremento&#8221; e &#8220;pre decremento&#8221;.</p>
</div>
<div class="paragraph">
<p>Se <code>++</code> o <code>--</code> vengono DOPO una variabile, il valore della variabile viene restituito e poi il valore viene incrementato o decrementato.
In questo caso si parla di operatori di &#8220;post incremento&#8221; e &#8220;post decremento&#8221;.</p>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">while</span> <span class="hl opt">++</span>i <span class="hl opt">&lt;</span> <span class="hl num">5</span> <span class="hl slc">! pre incremento</span>&#x000A;{&#x000A;    <span class="hl kwa">print number</span> i; <span class="hl str">&quot; &quot;</span>;&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>stamperà:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>1 2 3 4</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Ma</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">while</span> i<span class="hl opt">++ &lt;</span> <span class="hl num">5</span> <span class="hl slc">! post incremento</span>&#x000A;{&#x000A;    <span class="hl kwa">print number</span> i; <span class="hl str">&quot; &quot;</span>;&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>stamperà:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>1 2 3 4 5</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Visto che nel primo esempio la variabile viene incrementata prima di leggerne il valore, mentre nel secondo è incrementata dopo la lettura.</p>
</div>
<div class="paragraph">
<p>È anche possibile usare gli operatori <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>&amp;=</code> e <code>|=</code>.
Possono essere usati anche per modificare una variabile mentre il suo valore viene controllato.
Questi operatori, comunque, agiscono prima che il valore venga restituito.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl num">5</span>&#x000A;y <span class="hl opt">=</span> <span class="hl num">10</span>&#x000A;<span class="hl kwa">print</span> <span class="hl str">&quot;x = &quot;</span>; <span class="hl kwa">number</span> x<span class="hl opt">*=</span>y; <span class="hl str">&quot;, y = &quot;</span>; <span class="hl kwa">number</span> y</code></pre>
</div>
</div>
<div class="paragraph">
<p>Risultato:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>x = 50, y = 10</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Quando il compilatore interpreta una delle righe più sopra gli operatori efficienti hanno la precedenza rispetto a quelli normali (quelli a carattere singolo).</p>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> y <span class="hl opt">+ ++</span>zz</code></pre>
</div>
</div>
<div class="paragraph">
<p>viene compilato in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> y<span class="hl opt">++ +</span> z</code></pre>
</div>
</div>
<div class="paragraph">
<p>visto che <code>++</code> viene interpretato prima.
Per codificare correttamente questa riga con un pre incremento della variabile <code>z</code> invece di un post incremento di <code>y</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> y <span class="hl opt">+</span> (<span class="hl opt">++</span>z)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_array_e_stringhe"><a class="anchor" href="#_array_e_stringhe"></a>4.7. Array e stringhe</h3>
<div class="paragraph">
<p>Prima di questo paragrafo non si è parlato molto degli array.<br>
Gli array sono un insieme di valori che condividono un nome comune, e dove gli elementi sono indicati tramite un numero.
Gli array si definiscono con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">array</span> <span class="hl opt">&lt;</span>nomearray<span class="hl opt">&gt;</span> [<span class="hl opt">&lt;</span>dimensione <span class="hl kwa">array</span><span class="hl opt">&gt;</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;dimensione array&gt;</code> deve essere una costante numerica.</p>
</div>
<div class="paragraph">
<p>Una definizione di array riserva un blocco di memoria di <code>&lt;dimensione array&gt;</code> parole a 16 bit, così che, ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">array</span> prova_array[<span class="hl num">10</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>inizializza dieci parole a 16 bit per l&#8217;array.</p>
</div>
<div class="paragraph">
<p>Bisogna tener presente che <code>&lt;dimensione array&gt;</code> determina la dimensione dell&#8217;array, <strong>NON</strong> il numero massimo di elementi.
Il conteggio degli elementi comincia da 0, perciò <code>array_prova</code>, con 10 elementi, ha i membri numerati da 0 a 9.
Cercando di accedere a <code>array_prova[10]</code> o superiore viene restituito un valore senza senso. (Cercando di assegnargli un valore si potrebbe avere la sovrascrittura di qualcosa di importante, come il successivo array).</p>
</div>
<div class="paragraph">
<p>Per prevenire queste letture/scritture fuori dai limiti dell&#8217;array è possibile leggere la lunghezza di un array con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">array</span>[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>senza nessun elemento specificato.
Usando l&#8217;esempio di prima,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print number</span> array_prova[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>ritorna &#8220;10&#8221;.</p>
</div>
<div class="paragraph">
<p>Gli elementi di un array possono essere assegnati più di uno alla volta, come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>nomearray<span class="hl opt">&gt; = &lt;</span>elemento1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>elemento2<span class="hl opt">&gt;</span>, ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;elemento1&gt;</code> e <code>&lt;elemento2&gt;</code> possono essere espressioni o valori singoli.</p>
</div>
<div class="paragraph">
<p>Gli elementi non devono essere tutti dello stesso tipo, così che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">array_prova[<span class="hl num">0</span>] <span class="hl opt">=</span> (<span class="hl num">19</span><span class="hl opt">+</span><span class="hl num">5</span>)<span class="hl opt">*</span>x, <span class="hl str">&quot;Salve!&quot;</span>, FindLight(location)</code></pre>
</div>
</div>
<div class="paragraph">
<p>è perfettamente legale (sebbene non sia, probabilmente, molto utile).<br>
Più comune è un uso del tipo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">nomi[<span class="hl num">0</span>] <span class="hl opt">=</span> <span class="hl str">&quot;Ned&quot;</span>, <span class="hl str">&quot;Sue&quot;</span>, <span class="hl str">&quot;Bob&quot;</span>, <span class="hl str">&quot;Maria&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">array_prova[<span class="hl num">2</span>] <span class="hl opt">=</span> <span class="hl num">5</span>, <span class="hl num">4</span>, <span class="hl num">3</span>, <span class="hl num">2</span>, <span class="hl num">1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;array può essere usato con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> nomi[<span class="hl num">0</span>]; <span class="hl str">&quot; e &quot;</span>; nomi[<span class="hl num">3</span>]</code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Ned e Maria</p>
</div>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">b <span class="hl opt">=</span> array_prova[<span class="hl num">3</span>] <span class="hl opt">+</span> array_prova[<span class="hl num">5</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>che imposta la variabile <code>b</code> a 4 + 2, o 6.</p>
</div>
<div class="paragraph">
<p>Visto che lo spazio degli array viene allocato staticamente dal compilatore, tutti gli array vanno dichiarati a livello globale.
Gli array locali sono illegali, così come lo sono array interi passati come paramentri.
Comunque gli elementi singoli di un array sono parametri validi.</p>
</div>
<div class="paragraph">
<p>È possibile passare l&#8217;indirizzo di un array come parametro, così che la routine possa accedere agli elementi dell&#8217;array tramire il modificatore <code>array</code>.
Ad esempio, se elementi è un array che contiene:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">elementi[<span class="hl num">0</span>] <span class="hl opt">=</span> <span class="hl str">&quot;mele&quot;</span>&#x000A;elementi[<span class="hl num">1</span>] <span class="hl opt">=</span> <span class="hl str">&quot;arance&quot;</span>&#x000A;elementi[<span class="hl num">2</span>] <span class="hl opt">=</span> <span class="hl str">&quot;calzini&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La routine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine Test(v)&#x000A;{&#x000A;    <span class="hl kwa">print array</span> v[<span class="hl num">2</span>]&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>può essere chiamata usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Test(elementi)</code></pre>
</div>
</div>
<div class="paragraph">
<p>per produrre in output &#8220;calzini&#8221;, sebbene <code>v</code> sia un parametro (cioè una variabile locale), e non un array.
La riga <code>print array v[2]</code> dice all&#8217;interprete di considerare <code>v</code> come un indirizzo di un array, non come un valore in sé.</p>
</div>
<div class="paragraph">
<p>È possibile usare anche gli array di stringhe, e Hugo prevede un modo per memorizzare una voce di dizionario in un array come una serie di caratteri usando il comando <code>string</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">string</span>(<span class="hl opt">&lt;</span>indirizzo <span class="hl kwa">array</span><span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>voce diz.<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>max lungh.<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>&lt;max lungh.&gt;</code> è necessario perché l&#8217;interprete non ha modo di sapere quali sono i limiti dell&#8217;array.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">string</span>(a, <span class="hl kwa">word</span>[<span class="hl num">1</span>], <span class="hl num">10</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>memorizzerà fino a 10 caratteri da <code>word[1]</code> in <code>a</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nell&#8217;esempio precedente ci si aspetta che <code>a</code> abbia almeno 11 elementi, visto che <code>string</code> memorizza un terminatore a 0 o carattere nullo dopo la stringa.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl kwa">string</span>(a, <span class="hl kwa">word</span>[<span class="hl num">1</span>], <span class="hl num">10</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>memorizza fino a 10 caratteri di <code>word[1]</code> nell&#8217;array <code>a</code>, e restituisce la lunghezza della stringa memorizzata nella variabile <code>x</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le variabili dell&#8217;interprete <code>parse$</code> e <code>serial$</code> possono essere usate al posto delle voci di dizionario; vedere la sezione più avanti sulle &#8220;ROUTINE DI CONGIUNZIONE: ParseError&#8221; per una descrizione.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Nella libreria sono definite le funzioni <code>StringCopy</code>, <code>StringEqual</code>, <code>StringLength</code> e <code>StringPrint</code>, che sono estremamente utili quando si usano gli array di stringhe.</p>
</div>
<div class="paragraph">
<p><code>StringCopy</code> copia un array di stringhe in un altro array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringCopy(<span class="hl opt">&lt;</span>nuovo <span class="hl kwa">array</span><span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>vecchio <span class="hl kwa">array</span><span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>lungh.<span class="hl opt">&gt;</span>])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringCopy(a, b)</code></pre>
</div>
</div>
<div class="paragraph">
<p>copia il contenuto di <code>b</code> in <code>a</code>, mentre</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringCopy(a, b, <span class="hl num">5</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>copia solo fino a 5 caratteri di <code>b</code> in <code>a</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> StringEqual(<span class="hl opt">&lt;</span>stringa1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>stringa2<span class="hl opt">&gt;</span>)&#x000A;x <span class="hl opt">=</span> StringCompare(<span class="hl opt">&lt;</span>stringa1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>stringa2<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>StringEqual</code> restituisce <em>true</em> solo se i due array di stringhe indicati sono identici. <code>StringCompare</code> restituisce 1 se <code>&lt;stringa1&gt;</code> è alfabeticamente più grande di <code>&lt;stringa2&gt;</code>, -1 se <code>&lt;stringa1&gt;</code> è inferiore di <code>&lt;stringa2&gt;</code>, e 0 se le due stringhe sono identiche.</p>
</div>
<div class="paragraph">
<p><code>StringLength</code> restituisce la lunghezza di un array di stringhe, come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">lungh <span class="hl opt">=</span> StringLength(a)</code></pre>
</div>
</div>
<div class="paragraph">
<p>e <code>StringPrint</code> stampa un array di stringhe (od una parte).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringPrint(<span class="hl opt">&lt;</span>ind. <span class="hl kwa">array</span><span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>inizio<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>fine<span class="hl opt">&gt;</span>])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio, se contiene &#8220;presto&#8221;,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringPrint(a)</code></pre>
</div>
</div>
<div class="paragraph">
<p>stampa &#8220;presto&#8221;, ma</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringPrint(a, <span class="hl num">1</span>, <span class="hl num">4</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>stampa &#8220;res&#8221;. (Il parametro <code>&lt;inizio&gt;</code> del primo esempio ha come valore predefinito 0, non 1&#8201;&#8212;&#8201;il primo elemento in un array è numerato 0).</p>
</div>
<div class="paragraph">
<p>Un effetto collaterale interessante della possibilità di passare gli indirizzi degli array come parametri è che è possibile barare con l&#8217;indirizzo, così che, ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringCopy(a, b<span class="hl opt">+</span><span class="hl num">2</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>copia <code>b</code> in <code>a</code>, cominciando dalla terza lettera di <code>b</code> (visto che la prima lettera di <code>b</code> è <code>b[0]</code>).</p>
</div>
<div class="paragraph">
<p>Bisogna tenere a mente che gli array di stringhe e le voci del dizionario sono due animali completamente separati, e che confrontarli direttamente con <code>StringCompare</code> non è possibile.
Cioè, mentre una voce di dizionario è un valore che rappresenta un indirizzo, un array di stringhe è una serie di valori ognuno dei quali rappresentante un carattere della stringa.</p>
</div>
<div class="paragraph">
<p>La libreria fornisce la funzione seguente per risolvere:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">StringDictCompare(<span class="hl opt">&lt;</span><span class="hl kwa">array</span><span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>voce dizionario<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>che restituisce gli stessi valori (1, -1, 0) di <code>StringCompare</code>, a seconda del fatto che l&#8217;array di stringhe sia alfabeticamente superiore, inferiore o uguale alla voce di dizionario.</p>
</div>
<div class="paragraph">
<p>C&#8217;è un comando complementare a <code>string</code>, la funzione <code>dict</code>, che crea dinamicamente a runtime una nuova voce di dizionario.
La sintassi è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl kwa">dict</span>(<span class="hl opt">&lt;</span><span class="hl kwa">array</span><span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>max lungh.<span class="hl opt">&gt;</span>)&#x000A;x <span class="hl opt">=</span> <span class="hl kwa">dict</span>(<span class="hl kwa">parse$</span>, <span class="hl opt">&lt;</span>max lungh.<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove i contenuti di <code>&lt;array&gt;</code> o <code>parse$</code> vengono scritti nel dizionario, per un massimo di <code>&lt;max lungh.&gt;</code> caratteri, e l&#8217;indirizzo della nuova parola viene restituito.</p>
</div>
<div class="paragraph">
<p>Comunque visto che questo richiede di estendere la lunghezza della tabella del dizionario nel file del gioco, è necessario prevederlo durante la compilazione.
Inserendo</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwc">$MAXDICTEXTEND</span><span class="hl opt">=&lt;</span>numero<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>all&#8217;inizio del codice sorgente scriverà un buffer di <code>&lt;numero&gt;</code> byte vuoti alla fine del dizionario. (<code>MAXDICTEXTEND</code> è 0 per default).</p>
</div>
<div class="paragraph">
<p>L&#8217;estensione dinamica del dizionario è usata, soprattutto, in situazioni dove il giocatore deve essere in grado di, ad esempio, dare un nome ad un oggetto, e poi riferirsi a quell&#8217;oggetto con il nuovo nome.
In questo caso, le nuove parole devono esistere nel dizionario, e devono essere scritte usando <code>dict</code>.
Comunque, una linea guida per i programmatori è che dovrebbe esserci un limite al numero di nuove parole che il giocatore può creare, in modo che la lunghezza totale delle nuove voci non superi mai <code>&lt;numero&gt;</code>, tenendo a mente che la lunghezza di una voce di dizionario è pari al numero di caratteri più uno (il byte che rappresenta la lunghezza).
In pratica la parola &#8220;test&#8221; richiede 5 byte.</p>
</div>
<div class="sect3">
<h4 id="_esempio_usare_le_stringhe"><a class="anchor" href="#_esempio_usare_le_stringhe"></a>Esempio: Usare le stringhe</h4>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl ppc">#include</span> <span class="hl pps">&quot;hugolib.h&quot;</span><span class="hl ppc"></span>&#x000A;<span class="hl kwa">array</span> s1[<span class="hl num">32</span>]&#x000A;<span class="hl kwa">array</span> s2[<span class="hl num">10</span>]&#x000A;<span class="hl kwa">array</span> s3[<span class="hl num">10</span>]&#x000A;&#x000A;routine ProvaStringhe&#x000A;{&#x000A;    <span class="hl kwa">local</span> a, lungh&#x000A;&#x000A;    a <span class="hl opt">=</span> <span class="hl str">&quot;Questa è una stringa di prova.&quot;</span>&#x000A;    lungh <span class="hl opt">=</span> <span class="hl kwa">string</span>(s1, a, <span class="hl num">35</span>)&#x000A;    <span class="hl kwa">string</span>(s2, <span class="hl str">&quot;Mela&quot;</span>, <span class="hl num">9</span>)&#x000A;    <span class="hl kwa">string</span>(s3, <span class="hl str">&quot;Pomodoro&quot;</span>, <span class="hl num">9</span>)&#x000A;&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;a =</span> <span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>; a; <span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;(Indirizzo dizionario: &quot;</span>; <span class="hl kwa">number</span> a; <span class="hl str">&quot;)&quot;</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;s1 contiene</span> <span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>; StringPrint(s1); <span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;(Indirizzo array: &quot;</span>; <span class="hl kwa">number</span> s1;&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;, lungh. = &quot;</span>; <span class="hl kwa">number</span> lungh; <span class="hl str">&quot;)&quot;</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;s2</span> <span class="hl ipl">\`e</span> <span class="hl str"></span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>; StringPrint(s2);&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">, s3</span> <span class="hl ipl">\`e</span> <span class="hl str"></span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>; StringPrint(s3); <span class="hl str">&quot;</span><span class="hl esc">\&quot;</span><span class="hl str">&quot;</span>&#x000A;&#x000A;    <span class="hl str">&quot;</span><span class="hl esc">\n</span><span class="hl str">StringCompare(s1, s2) = &quot;</span>;&#x000A;    <span class="hl kwa">print number</span> StringCompare(s1, s2)&#x000A;    <span class="hl str">&quot;StringCompare(s1, s3) = &quot;</span>;&#x000A;    <span class="hl kwa">print number</span> StringCompare(s1, s2)&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il cui output sarà:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>a = "Questa è una stringa di prova."<br>
(Indirizzo dizionario: 1005)<br>
s1 contiene "Questa è una stringa di prova."<br>
(Indirizzo array: 1637, lungh. = 30)<br>
s2 "Mela", s3 "Sedano"</p>
</div>
<div class="paragraph">
<p>StringCompare(s1, s2) = 1<br>
StringCompare(s1, s3) = -1<br></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Come è evidente una voce di dizionario non deve necessariamente essere una parola singola; qualunque parte di un testo che può essere trattata come valore può essere inserita nella tabella del dizionario.</p>
</div>
<div class="paragraph">
<p>L&#8217;argomento 35 nella prima chiamata alla funzione <code>string</code> consente di copiare fino a 35 caratteri di <code>a</code> in <code>s1</code>, ma visto che la lunghezza di <code>a</code> è di soli 30 caratteri, solo 31 valori (compreso lo 0 terminale) vengono copiati, e la lunghezza della stringa <code>s1</code> è restituita in <code>lungh</code>.</p>
</div>
<div class="paragraph">
<p>Visto che &#8220;M(ela)&#8221; è alfabeticamente inferiore di &#8220;Q(esta&#8230;&#8203;)&#8221;, confrontando le due si ottiene -1.
Come &#8220;S(edano)&#8221; è alfabeticamente superiore di &#8220;Q(esta&#8230;&#8203;)&#8221; e <code>StringCompare</code> restituisce 1.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_compilazione_condizionale_e_flusso_del_programma"><a class="anchor" href="#_compilazione_condizionale_e_flusso_del_programma"></a>4.8. Compilazione condizionale e flusso del programma</h3>
<div class="paragraph">
<p>Il flusso del programma può essere controllato usando una varietà di costrutti, ognuno dei quali è costruito attorno ad un&#8217;espressione che valuta il falso [<em>false</em>] (zero) ed il non-falso (<em>non-zero</em>).</p>
</div>
<div class="paragraph">
<p>La più semplice tra questi è l&#8217;istruzione <code>if</code> [se].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;    {...blocco di codice condizionale...}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le parentesi graffe non sono necessarie se il blocco di codice è una riga singola.
Inoltre il blocco di codice condizionale può cominciare (ed anche finire) sulla stessa riga dell&#8217;istruzione <code>if</code> a condizione che vengano usate le parentesi graffe.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;    ...riga singola...&#x000A;&#x000A;<span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span> {...blocco di codice condizionale...}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Se le parentesi non venogno usate per una riga singola, il compilatore le inserisce automaticamente, sebbene una cura speciale deve essere tenuta quando si costruiscono blocchi di codice che nidificano diverse condizioni su singola riga.</p>
</div>
<div class="paragraph">
<p>Mentre</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione1<span class="hl opt">&gt;</span>&#x000A;    <span class="hl kwa">if</span>  <span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>&#x000A;        ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="paragraph">
<p>può essere interpretata in maniera corretta,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione1<span class="hl opt">&gt;</span>&#x000A;    <span class="hl kwa">for</span> (...<span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>...)&#x000A;        <span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione3<span class="hl opt">&gt;</span>&#x000A;            ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="paragraph">
<p>non lo sarà.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tecnicamente parlando, il compilatore sbaglierà nell&#8217;individuazione della fine del ciclo del costrutto <code>for</code> visto che il blocco di codice condizionale al suo interno si aspetta di finire con l&#8217;espressione <code>for</code>.
Ad ogni ciclo l&#8217;espressione <code>for</code> non differenzia correttamente la fine del ciclo condizionale.
Il risultato potrebbe essere un overflow dello stack dell&#8217;interprete perché l&#8217;interprete nidificherà continuamente l&#8217;esecuzione di cicli <code>for</code> ricorsivi fino a che non finirà lo spazio sullo stack.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il modo corretto di strutturare la stessa sezione di codice dovrebbe essere:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione1<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    <span class="hl kwa">for</span> (...<span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>...)&#x000A;    {&#x000A;        <span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione3<span class="hl opt">&gt;</span>&#x000A;            ...blocco di codice condizionale...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Il consiglio è quello di usare le parentesi graffe per chiarificare la struttura del codice ogni volta che si usano costrutti così complessi.
Questo deve essere applicato in maniera particolare quando si mischiano espressioni <code>if</code>, <code>for</code>, <code>while</code> e <code>do</code>-<code>while</code>, specialmente quando sono coinvolte chiamate ricorsive a funzioni.
Sebbene il risultato possa apparire come voluto, il metodo per ottenerlo è scorretto, ed ogni esecuzione di tale costrutto potrebbe mandare in errore lo stack.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Usi più elaborati di <code>if</code> coinvolgono l&#8217;uso di <code>elseif</code> [altrimenti-se] ed <code>else</code> [altrimenti].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione1<span class="hl opt">&gt;</span>&#x000A;    ...primo blocco di codice condizionale...&#x000A;<span class="hl kwa">elseif</span> <span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>&#x000A;    ...secondo blocco di codice condizionale...&#x000A;<span class="hl kwa">elseif</span> <span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>&#x000A;    ...terzo blocco di codice condizionale...&#x000A;...&#x000A;<span class="hl kwa">else</span>&#x000A;    ...blocco di codice di default...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo caso l&#8217;interprete valuta ciascuna espressione fino a che trova quella vera ed allora la esegue.
Poi il controllo passa alla prossima istruzione non <code>if</code>/<code>elseif</code>/<code>else</code> che segue il costrutto condizionale.
Se nessuna espressione vera è stata trovata, il blocco di codice di default viene eseguito.
Se, ad esempio, <code>&lt;espressione1&gt;</code> genera un valore non falso, allora nessuna delle espressioni seguenti viene valutata.</p>
</div>
<div class="paragraph">
<p>Naturalmente, non tutte e tre (<code>if</code>, <code>elseif</code> e <code>else</code>) devono essere usate tutte le volte, e combinazioni semplici di <code>if</code>-<code>elseif</code> e <code>if</code>-<code>else</code> sono perfettamente valide.</p>
</div>
<div class="paragraph">
<p>In alcuni casi, l&#8217;istruzione <code>if</code> potrebbe non andar bene per la chiarezza, ed il costrutto <code>select</code>-<code>case</code> [seleziona-caso] potrebbe essere più appropriato.
La forma generale è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">select</span> <span class="hl opt">&lt;</span>var<span class="hl opt">&gt;</span>&#x000A;    <span class="hl kwa">case</span> <span class="hl opt">&lt;</span>valore1<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>valore2<span class="hl opt">&gt;</span>, ...]&#x000A;        ...primo blocco di codice condizionale...&#x000A;    <span class="hl kwa">case</span> <span class="hl opt">&lt;</span>valore3<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>valore4<span class="hl opt">&gt;</span>, ...]&#x000A;        ...secondo blocco di codice condizionale...&#x000A;    ...&#x000A;    <span class="hl kwa">case else</span>&#x000A;        ...blocco di codice di default...</code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo caso l&#8217;interprete esegue rapidamente una valutazione che è, essenzialmente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> <span class="hl opt">&lt;</span>var<span class="hl opt">&gt; = &lt;</span>valore1<span class="hl opt">&gt;</span> [<span class="hl kwa">or</span> <span class="hl opt">&lt;</span>var<span class="hl opt">&gt; = &lt;</span>valore2<span class="hl opt">&gt;</span> ...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Non ci sono limiti al numero di valori (separati da virgole) che possono apparire su una riga che segue il <code>case</code>.
Si applicano le stesse regole della <code>if</code> per racchiudere i blocchi di codice su più righe tra parentesi graffe (così per tutti gli altri tipi di blocchi condizionali).</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>I <code>case</code> non proseguono al successivo <code>case</code>.
Bisogna pensare ai <code>case</code> che seguono il primo come a delle <code>elseif</code> piuttosto che delle <code>if</code>; una volta che un <code>case</code> a vero viene trovato, i seguenti sono ignorati.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>I cicli possono essere codificati usando <code>while</code> [mentre] e <code>do</code>-<code>while</code> [fai-mentre].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">while</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;    ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">do</span>&#x000A;    ...blocco di codice condizionale...&#x000A;<span class="hl kwa">while</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Entrambi eseguono il blocco di codice condizionale mentre <code>&lt;espressione&gt;</code> è vera (<em>true</em>).
Si presume che in qualche modo il blocco di codice alteri l&#8217;<code>&lt;espressione&gt;</code> così che ad un certo punto diventa falsa (<em>false</em>); altrimenti il ciclo viene eseguito senza fine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">while</span> x <span class="hl opt">&lt;=</span> <span class="hl num">10</span>&#x000A;{&#x000A;    x <span class="hl opt">=</span> x <span class="hl opt">+</span> <span class="hl num">1</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;x vale &quot;</span>; <span class="hl kwa">number</span> x&#x000A;}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">do</span>&#x000A;{&#x000A;    x <span class="hl opt">=</span> x <span class="hl opt">+</span> <span class="hl num">1</span>&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;x vale &quot;</span>; <span class="hl kwa">number</span> x&#x000A;}&#x000A;<span class="hl kwa">while</span> x <span class="hl opt">&lt;=</span> <span class="hl num">10</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;unica differenza tra i due è che se <code>&lt;espressione&gt;</code> è falsa dall&#8217;esterno, il blocco di codice <code>while</code> non viene eseguito.
Il blocco di codice <code>do</code>-<code>while</code> viene eseguito almeno una volta anche se <code>&lt;espressione&gt;</code> è falsa dall&#8217;esterno.</p>
</div>
<div class="paragraph">
<p>Il ciclo più complesso usa l&#8217;istruzione <code>for</code> [per].</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> (<span class="hl opt">&lt;</span>assegnazione<span class="hl opt">&gt;</span>; <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>; <span class="hl opt">&lt;</span>modificatore<span class="hl opt">&gt;</span>)&#x000A;    ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> (i<span class="hl opt">=</span><span class="hl num">1</span>; i<span class="hl opt">&lt;=</span><span class="hl num">15</span>; i<span class="hl opt">=</span>i<span class="hl opt">+</span><span class="hl num">1</span>)&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;i vale&quot;</span>; <span class="hl kwa">number</span> i</code></pre>
</div>
</div>
<div class="paragraph">
<p>Prima di tutto l&#8217;interprete esegue l&#8217;assegnazione <code>i = 1</code>.<br>
Poi esegue l&#8217;istruzione <code>print</code>.
Successivamente controlla se l&#8217;espressione vale <em>true</em> [vero] (se <code>i</code> è minore od uguale a 15).
In questo caso esegue l&#8217;istruzione <code>print</code> e l&#8217;assegnazione del modificatore che incrementa <code>i</code>.
Continua il ciclo fino a quando l&#8217;espressione vale <em>false</em> [falso].</p>
</div>
<div class="paragraph">
<p>Non tutti gli elementi del costrutto <code>for</code> sono necessari.
Ad esempio l&#8217;assegnazione può essere omessa, come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> (; i<span class="hl opt">&lt;=</span><span class="hl num">15</span>; i<span class="hl opt">=</span>i<span class="hl opt">+</span><span class="hl num">1</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>e l&#8217;interprete userà il valore esistente di <code>i</code>.</p>
</div>
<div class="paragraph">
<p>Con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> (i<span class="hl opt">=</span><span class="hl num">1</span>;;i<span class="hl opt">=</span>i<span class="hl opt">+</span><span class="hl num">1</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il ciclo viene eseguito senza fine, a meno che qualche altro mezzo di uscita viene fornito.</p>
</div>
<div class="paragraph">
<p>L&#8217;espressione del modificatore non deve per forza essere un&#8217;espressione.<br>
Potrebbe essere, ad esempio, una routine che modifica una variabile globale, che viene controllata nel ciclo <code>for</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Un secondo formato del ciclo <code>for</code> è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> <span class="hl opt">&lt;</span>var<span class="hl opt">&gt;</span> <span class="hl kwa">in</span> <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>&#x000A;    ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="paragraph">
<p>che cicla attraverso tutti i figli di <code>&lt;oggetto&gt;</code> (se ne ha), impostando la variabile <code>&lt;var&gt;</code> con il numero dell&#8217;oggetto di ogni figlio in sequenza, così che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> i <span class="hl kwa">in</span> valigia&#x000A;    <span class="hl kwa">print</span> i.name</code></pre>
</div>
</div>
<div class="paragraph">
<p>stampa i nomi di tutti gli oggetti presenti nell&#8217;oggetto <code>valigia</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il modo più semplice di visualizzare la prima forma di un ciclo <code>for</code> di Hugo, è che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">for</span> (<span class="hl opt">&lt;</span>assegnazione<span class="hl opt">&gt;</span>; <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>; <span class="hl opt">&lt;</span>modificatore<span class="hl opt">&gt;</span>)&#x000A;    ...blocco di codice condizionale...</code></pre>
</div>
</div>
<div class="paragraph">
<p>si traduce nell&#8217;equivalente di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>assegnazione<span class="hl opt">&gt;</span>&#x000A;[<span class="hl kwa">while</span>] <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...blocco di codice condizionale...&#x000A;    <span class="hl opt">&lt;</span>modificatore<span class="hl opt">&gt;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>che a turno si traduce nell&#8217;equivalente di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>assegnazione<span class="hl opt">&gt;</span>&#x000A;:<span class="hl opt">&lt;</span>etichetta1<span class="hl opt">&gt;</span>&#x000A;[<span class="hl kwa">if</span>] <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...blocco di codice condizionale...&#x000A;    <span class="hl opt">&lt;</span>modificatore<span class="hl opt">&gt;</span>&#x000A;    <span class="hl kwa">jump</span> <span class="hl opt">&lt;</span>etichetta1<span class="hl opt">&gt;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>D&#8217;altra parte questo non è un modo particolarmente facile di visualizzare qualunque cosa, e nella sua debolezza, forse giustifica l&#8217;esistenza di cicli <code>while</code>, <code>do</code>-<code>while</code> e <code>for</code> non minacciosi.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La conoscenza di come Hugo spezzi in una serie di nodi <code>if</code> e <code>jump</code> le istruzioni di ciclo comporta una facilità nell&#8217;analisi del flusso del programma usando Hugo Debugger (si veda l&#8217;<em>Appendice E</em>).</p>
</div>
<div class="paragraph">
<p>Come risulta ovvio dall&#8217;illustrazione fatta sopra (forse confusamente), Hugo supporta i comandi <code>jump</code> [salta] e le etichette.
Un&#8217;etichetta è semplicemente un identificatore specificato dall&#8217;utente preceduto dai due punti (<code>:</code>) all&#8217;inizio di una riga.
Il nome dell&#8217;etichetta deve avere un identificatore univoco all&#8217;interno del programma.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Bisogna avere una certa cura nell&#8217;utilizzo dell&#8217;istruzione <code>jump</code>&#8201;&#8212;&#8201;generalmente è molto meglio usare delle alternative, visto che esiste la possibilità di sovraccaricare lo stack dell&#8217;interprete quando non si usano costruttori di clici standard.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>È anche importante riconoscere&#8201;&#8212;&#8201;particolarmente con le istruzioni <code>select</code> e <code>while</code> o <code>do</code>-<code>while</code>&#8201;&#8212;&#8201;che l&#8217;espressione viene valutata tutte le volte che il ciclo viene eseguito, o, nel caso dell&#8217;istruzione <code>select</code>, per ogni <code>case</code> corrispondente.
Il significato di questo è evidente nell&#8217;esempio seguente</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">select</span> test.prop_routine&#x000A;    <span class="hl kwa">case</span> <span class="hl num">1</span>&#x000A;        {...}&#x000A;    <span class="hl kwa">case</span> <span class="hl num">2</span>&#x000A;        {...}&#x000A;    <span class="hl kwa">case</span> <span class="hl num">3</span>&#x000A;        {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>prop_routine</code> restituisce un valore da 1 a 3.
La routine proprietà verrà eseguita per 3 volte distinte, una per ogni istruzione <code>case</code>.
Se <code>prop_routine</code> ha qualche altro effetto, come la modifica di una variabile globale o la stampa di un output, allora questo avverrà per 3 volte.</p>
</div>
<div class="paragraph">
<p>Se questo effetto non è accettabile si può provare con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> test_val <span class="hl slc">! imposta una variabile locale</span>&#x000A;test_val <span class="hl opt">=</span> test.prop_routine <span class="hl slc">! e le assegna un valore</span>&#x000A;<span class="hl kwa">select</span> test_val&#x000A;    <span class="hl kwa">case</span> <span class="hl num">1</span>&#x000A;        {...}&#x000A;    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>così che <code>test.prop_routine</code> viene chiamata una sola volta.</p>
</div>
<div class="paragraph">
<p>Un caso simile potrebbe essere</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">select random</span>(<span class="hl num">3</span>)&#x000A;    <span class="hl kwa">case</span> <span class="hl num">1</span>: {...}&#x000A;    <span class="hl kwa">case</span> <span class="hl num">2</span>: {...}&#x000A;    <span class="hl kwa">case</span> <span class="hl num">3</span>: {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>si potrebbe avere qualcosa tipo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if random</span>(<span class="hl num">3</span>) <span class="hl opt">=</span> <span class="hl num">1</span>: {...}&#x000A;<span class="hl kwa">elseif random</span>(<span class="hl num">3</span>) <span class="hl opt">=</span> <span class="hl num">2</span>: {...}&#x000A;<span class="hl kwa">elseif random</span>(<span class="hl num">3</span>) <span class="hl opt">=</span> <span class="hl num">3</span>: {...}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In altre parole un valore casuale differente potrebbe essere valutato tutte le volte.
Una scelta migliore sarebbe</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> b&#x000A;b <span class="hl opt">=</span> <span class="hl kwa">random</span>(<span class="hl num">3</span>)&#x000A;<span class="hl kwa">select</span> b&#x000A;    <span class="hl kwa">case</span> <span class="hl num">1</span>: {...}&#x000A;    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Una parola chiave finale è importante nel flusso di un programma, e questa è <code>break</code>.
In qualunque punto di un ciclo potrebbe essere necessario uscirne immediatamente (e forse prematuramente). <code>break</code> passa il controllo all&#8217;istruzione che segue il ciclo attuale.</p>
</div>
<div class="paragraph">
<p>Nell&#8217;esempio</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">do</span>&#x000A;{&#x000A;    <span class="hl kwa">while</span> <span class="hl opt">&lt;</span>espressione2<span class="hl opt">&gt;</span>&#x000A;    {&#x000A;        ...&#x000A;        <span class="hl kwa">if</span> <span class="hl opt">&lt;</span>espressione3<span class="hl opt">&gt;</span>&#x000A;            <span class="hl kwa">break</span>&#x000A;        ...&#x000A;    }&#x000A;    ...&#x000A;}&#x000A;<span class="hl kwa">while</span> <span class="hl opt">&lt;</span>espressione1<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>l&#8217;istruzione <code>break</code> causa la terminazione del ciclo <code>while &lt;espressione2&gt;</code>, anche se <code>&lt;espressione2&gt;</code> è vera.
Comunque il ciclo <code>do</code>-<code>while &lt;espressione1&gt;</code> continua ad essere eseguito.</p>
</div>
<div class="paragraph">
<p>È stato detto prima che le righe che terminano con <code>and</code> o <code>or</code> continuano alla riga successiva nel caso di lunghe espressioni condizionali.
Una seconda utile funzionalità è la capacità di usare una virgola per separare le opzioni in una espressione condizionale.
Con il risultato che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> parola[<span class="hl num">1</span>] <span class="hl opt">=</span> <span class="hl str">&quot;uno&quot;</span>, <span class="hl str">&quot;due&quot;</span>, <span class="hl str">&quot;tre&quot;</span>&#x000A;<span class="hl kwa">while</span> oggetto <span class="hl kwa">is</span> open, <span class="hl kwa">not</span> locked&#x000A;<span class="hl kwa">if</span> scatola <span class="hl kwa">not in</span> salotto, garage&#x000A;<span class="hl kwa">if</span> a<span class="hl opt">~=</span><span class="hl num">1</span>, <span class="hl num">2</span>, <span class="hl num">3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>sono tradotte in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if</span> parola[<span class="hl num">1</span>]<span class="hl opt">=</span><span class="hl str">&quot;uno&quot;</span> <span class="hl kwa">or</span> parola[<span class="hl num">1</span>]<span class="hl opt">=</span><span class="hl str">&quot;due&quot;</span> <span class="hl kwa">or</span> parola[<span class="hl num">1</span>]<span class="hl opt">=</span><span class="hl str">&quot;tre&quot;</span>&#x000A;<span class="hl kwa">while</span> oggetto <span class="hl kwa">is</span> open <span class="hl kwa">and</span> oggetto <span class="hl kwa">is not</span> locked&#x000A;<span class="hl kwa">if</span> scatola <span class="hl kwa">not in</span> salotto <span class="hl kwa">and</span> scatola non <span class="hl kwa">in</span> garage&#x000A;<span class="hl kwa">if</span> a <span class="hl opt">~=</span> <span class="hl num">1</span> <span class="hl kwa">and</span> a <span class="hl opt">~=</span> <span class="hl num">2</span> <span class="hl kwa">and</span> a <span class="hl opt">~=</span> <span class="hl num">3</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Fate caso al fatto che con confronto <code>=</code> o <code>in</code>, una virgola corrisponde ad un confronto in <code>or</code>.
Con <code>~=</code> od un confronto di un attributo, il risultato è un confronto in <code>and</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_routine_ed_eventi"><a class="anchor" href="#_routine_ed_eventi"></a>5. ROUTINE ED EVENTI</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_routine"><a class="anchor" href="#_routine"></a>5.1. Routine</h3>
<div class="paragraph">
<p>Le routine sono dei blocchi di codice che possono essere chiamati in ogni punto del programma.
Una routine può, o meno, restituire un valore, e può, o meno, richiedere una lista di parametri (o argomenti).<br>
(Un certo numero di routine è stato incontrato negli esempi precedenti, ma qui c&#8217;è la spiegazione formale).</p>
</div>
<div class="paragraph">
<p>Una routine viene definita come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine <span class="hl opt">&lt;</span>nomeroutine<span class="hl opt">&gt;</span> [(<span class="hl opt">&lt;</span>argomento1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>argomento2<span class="hl opt">&gt;</span>, ...)]&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ancora una volta è necessario assicurarsi del fatto che la parentesi graffa aperta (<code>{</code>) compaia su una riga nuova dopo l&#8217;istruzione <code>routine</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per sostituire una vecchia routine con una nuova con lo stesso nome (come in un file di libreria), si definisce la nuova usando <code>replace</code> invece di <code>routine</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">replace <span class="hl opt">&lt;</span>nomeroutine<span class="hl opt">&gt;</span> [(<span class="hl opt">&lt;</span>argomento1<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>argomento2<span class="hl opt">&gt;</span>, ...)]</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ad esempio</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine RoutineProva(ogg)&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;La &quot;</span>; ogg.name; <span class="hl str">&quot; ha una dimensione di &quot;</span>;&#x000A;    <span class="hl kwa">print</span> ogg.size; <span class="hl str">&quot;.&quot;</span>&#x000A;    <span class="hl kwa">return</span> ogg.size&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>prende un valore come argomento, lo assegna ad una variabile locale <code>ogg</code>, esegue una semplice sequenza di stampa e restituisce il valore della proprietà: <code>ogg.size</code>.
La parola chiave <code>return</code> esce dalla routine corrente, e restituisce un valore se specificato.</p>
</div>
<div class="paragraph">
<p>Sia</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">return</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">return</span> <span class="hl opt">&lt;</span>espressione<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>sono validi.
Se non viene fornita nessuna espressione, la routine restituisce 0.
Se nessuna istruzione <code>return</code> viene incontrata, la routine prosegue l&#8217;esecuzione fino alla parentesi graffa chiusa (<code>}</code>) e poi restituisce 0.</p>
</div>
<div class="paragraph">
<p><code>RoutineProva</code> può essere chiamata in diversi modi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">RoutineProva(valigia)</code></pre>
</div>
</div>
<div class="paragraph">
<p>stamperà (assumendo che l&#8217;oggetto <code>valigia</code> sia stato definito come in precedenza)</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>La grande valigia verde ha una dimensione di 25.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Il valore di ritorno verrà ignorato.
D&#8217;altra parte,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> RoutineProva(valigia)</code></pre>
</div>
</div>
<div class="paragraph">
<p>stamperà lo stesso output, ma assegnerà il valore di ritorno di <code>RoutineProva</code> alla variabile <code>x</code>.</p>
</div>
<div class="paragraph">
<p>Diversamente dal C e da linguaggi simili, Hugo non richiede che una routine segua un prototipo specifico.
Perciò sia</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">RoutineProva</code></pre>
</div>
</div>
<div class="paragraph">
<p>che</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">RoutineProva(valigia, <span class="hl num">5</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>sono chiamate valide per la routine.</p>
</div>
<div class="paragraph">
<p>Nel primo caso l&#8217;argomento <code>ogg</code> assume di default il valore 0, visto che nessun valore è stato passato.
Le parentesi non sono necessarie se non vengono passati dei parametri.
Nel secondo caso il valore 5 viene passato a <code>RoutineProva</code>, ma viene ignorato.</p>
</div>
<div class="paragraph">
<p>Gli argomenti sono sempre passati per valore, non per riferimento o indirizzo.
Una variabile locale in una routine non può essere modificata da un&#8217;altra routine.
Questo significa che, ad esempio, nelle routine seguenti:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine RoutineProva&#x000A;{&#x000A;    <span class="hl kwa">local</span> a&#x000A;    a <span class="hl opt">=</span> <span class="hl num">5</span>&#x000A;    Raddoppia(a)&#x000A;    <span class="hl kwa">print number</span> a&#x000A;}&#x000A;&#x000A;routine Raddoppia(a)&#x000A;{&#x000A;    a <span class="hl opt">=</span> a <span class="hl opt">*</span> <span class="hl num">2</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Chiamando <code>RoutineProva</code> verrà stampato &#8220;5&#8221; e non &#8220;10&#8221; perché la variabile locale <code>a</code> in <code>Raddoppia</code> è solo una copia della variabile che le è stata passata come argomento.</p>
</div>
<div class="paragraph">
<p>Queste due routine dovrebbero, d&#8217;altra parte, stampare &#8220;10&#8221;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">routine RoutineProva&#x000A;{&#x000A;    <span class="hl kwa">local</span> a&#x000A;    a <span class="hl opt">=</span> <span class="hl num">5</span>&#x000A;    a <span class="hl opt">=</span> Raddoppia(a)&#x000A;    <span class="hl kwa">print number</span> a&#x000A;}&#x000A;&#x000A;routine Raddoppia(a)&#x000A;{&#x000A;    <span class="hl kwa">return</span> a <span class="hl opt">*</span> <span class="hl num">2</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alla variabile locale <code>a</code> di <code>RoutineProva</code> viene assegnato il valore di ritorno di <code>Raddoppia</code>.</p>
</div>
<div class="paragraph">
<p>Un effetto collaterale interessante di un valore di ritorno nullo (0) può essere visto usando il comando <code>print</code>.
Considerando la routine <code>The</code> di <code>HUGOLIB.H</code>, che stampa l&#8217;articolo di un oggetto (ad es., &#8220;la&#8221; se appropriato), seguito dalla proprietà <code>name</code> [nome] dell&#8217;oggetto.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;Apri &quot;</span>; The(oggetto); <span class="hl str">&quot;.&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>potrebbe stampare</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Apri la valigia.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Notate che il comando <code>print</code> stampa solo</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"Apri "</pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"."</pre>
</div>
</div>
<div class="paragraph">
<p>È la routine <code>The</code> che stampa</p>
</div>
<div class="literalblock">
<div class="content">
<pre>la valigia</pre>
</div>
</div>
<div class="paragraph">
<p>Visto che <code>The</code> restituisce 0 (la stringa nulla, o <code>""</code>), il comando <code>print</code> in realtà visualizza</p>
</div>
<div class="literalblock">
<div class="content">
<pre>"Apri ", "", e "."</pre>
</div>
</div>
<div class="paragraph">
<p>dove la stringa nulla (<code>""</code>) è preceduta sulla riga di output dalla stampa di <code>"la    "</code> e del nome dell&#8217;oggetto da parte di <code>The</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_routine_proprietà"><a class="anchor" href="#_routine_proprietà"></a>5.2. Routine proprietà</h3>
<div class="paragraph">
<p>Le routine proprietà sono decisamente più complicate di quelle descritte fino ad ora, ma seguono le stesse regole base.
Normalmente una routine proprietà viene eseguita quando il programma cerca di leggere il valore di una proprietà che contiene una routine.</p>
</div>
<div class="paragraph">
<p>Cioè, invece di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">size <span class="hl num">10</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>un oggetto può contenere la proprietà</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">size&#x000A;{&#x000A;    <span class="hl kwa">return</span> x <span class="hl opt">+</span> <span class="hl num">5</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cercando di leggere <code>oggetto.size</code> in entrambi i casi restituirà un valore intero.</p>
</div>
<div class="paragraph">
<p>Ecco un altro esempio.
Normalmente se <code>&lt;oggetto&gt;</code> è la stanza corrente, allora <code>&lt;oggetto&gt;.n_to</code> dovrebbe contenere il numero della stanza a nord.
La libreria controlla <code>&lt;oggetto&gt;.n_to</code> per vedere se esiste un valore; se non ce ne sono, allora lo spostamento non è valido.</p>
</div>
<div class="paragraph">
<p>Considerate questo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">n_to ufficio</code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">n_to&#x000A;{&#x000A;    <span class="hl str">&quot;La porta dell&#39;ufficio è chiusa.&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">n_to&#x000A;{&#x000A;    <span class="hl str">&quot;La porta dell&#39;ufficio è chiusa. &quot;</span>;&#x000A;    <span class="hl kwa">return false</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nel primo caso se il giocatore (<code>player</code>) cerca di andare a nord si avrà che <code>parent(player)</code> verrà cambiato con l&#8217;oggetto <code>ufficio</code>.
Nel secondo caso un messaggio personalizzato di mossa non valida verrà visualizzato.
Nel terzo caso, il messaggio personalizzato di mossa non valida verrà visualizzato, ma poi la libreria continuerà come se non avesse trovato una proprietà <code>n_to</code> per <code>&lt;oggetto&gt;</code>, e stamperà il messaggio standard di mossa non valida (senza andare a riga nuova, grazie al punto e virgola):</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>La porta dell&#8217;ufficio è chiusa. You can&#8217;t go that way.</p>
</div>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Mentre le routine normali resituiscono <em>false</em> (o 0) per default, le routine proprietà restituiscono <em>true</em> (o 1) per default.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per quelli che si stanno domandando come mai il valore di ritorno <em>true</em> nel secondo caso non cerchi di effettuare uno spostamento all&#8217;oggetto numero 1, la routine <code>DoGo</code> della libreria assume che non ci sarà mai un oggetto stanza col numero uno.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le routine proprietà possono essere eseguite direttamente usando il comando <code>run</code> [esegui]:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">run</span> <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Se <code>&lt;oggetto&gt;</code> non ha <code>&lt;proprietà&gt;</code>, o se <code>&lt;oggetto&gt;.&lt;proprietà&gt;</code> non è una routine, allora non accade nulla.<br>
Altrimenti la routine proprietà viene eseguita.
Le routine proprietà non accettano argomenti.</p>
</div>
<div class="paragraph">
<p>Ricordate che in qualunque punto del programma, una proprietà può essere modificata usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt; = &lt;</span>valore<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Una routine proprietà può essere cambiata usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>.<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt; =</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove la nuova routine deve essere racchiusa tra parentesi graffe.</p>
</div>
<div class="paragraph">
<p>È anche possibile cambiare quella che prima era una routine proprietà in un valore semplice, o vice versa, facendo in modo che lo spazio per la routine (ed il numero di elementi richiesti) venga fornito nella definizione originale dell&#8217;oggetto.
Anche se una routine proprietà deve essere assegnata più tardi nel programma, la proprietà in senso stretto deve essere definita per l&#8217;esterno nella definizione originale dell&#8217;oggetto.
Un semplice</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span> <span class="hl num">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span> { <span class="hl kwa">return false</span> }</code></pre>
</div>
</div>
<div class="paragraph">
<p>è sufficiente.</p>
</div>
<div class="paragraph">
<p>C&#8217;è, comunque, un problema in queste riassegnazioni di valori di proprietà a routine e vice versa.
Ad una routine proprietà viene data una &#8220;<em>lunghezza</em>&#8221; di una parola a 16 bit, che è l&#8217;indirizzo della proprietà.
Quando si assegna un valore, od un insieme di valori, ad una routine proprietà, l&#8217;interprete si comporta come se la proprietà fosse stata originariamente definita per questo oggetto con solo una parola di dati, visto che non ha modo di sapere la lunghezza originale dei dati della proprietà.</p>
</div>
<div class="paragraph">
<p>Ad esempio, se la specificazione originale della proprietà nella definizione dell&#8217;oggetto era:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in cameradaletto, salotto, garage</code></pre>
</div>
</div>
<div class="paragraph">
<p>e ad un certo punto venisse eseguito:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in <span class="hl opt">=</span> { <span class="hl kwa">return</span> scantinato }</code></pre>
</div>
</div>
<div class="paragraph">
<p>allora l&#8217;istruzione seguente non potrebbe funzionare:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">found_in <span class="hl ppc">#3 = attico</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>visto che l&#8217;interprete ora crede che <code>&lt;oggetto&gt;.found_in</code> abbia solo una parola a 16 bit di dati&#8201;&#8212;&#8201;un indirizzo di routine&#8201;&#8212;&#8201;assegnata.</p>
</div>
<div class="paragraph">
<p>Infine tenete a mente che ogni volta che viene chiamata una routine proprietà, la variabile globale <code>self</code> viene normalmente impostata con il numero dell&#8217;oggetto.
Per evitarlo, come quando si &#8220;<em>prende</em>&#8221; una proprietà da un altro oggetto dall&#8217;interno di un oggetto differente, bisogna referenziare la proprietà tramite</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>..<span class="hl opt">&lt;</span>proprietà<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>usando <code>..</code> invece del normale operatore.</p>
</div>
<div class="sect3">
<h4 id="_esempio_prendere_a_prestito_le_routine_proprietà"><a class="anchor" href="#_esempio_prendere_a_prestito_le_routine_proprietà"></a>Esempio: &#8220;Prendere a prestito&#8221; le Routine Proprietà</h4>
<div class="paragraph">
<p>Consideriamo una situazione nella quale una classe fornisce una particolare routine proprietà.
Normalmente quella routine viene ereditata da tutti gli oggetti definiti usando quella classe.
Ma potrebbe presentarsi una situazione in cui uno di questi oggetti deve avere una variazione od un&#8217;espansione della routine originale.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">class cibo&#x000A;{&#x000A;    morsi_rimasti <span class="hl num">5</span>&#x000A;    mangiare&#x000A;    {&#x000A;        self.morsi_rimasti <span class="hl opt">=</span> self.morsi_rimasti <span class="hl opt">-</span> <span class="hl num">1</span>&#x000A;        <span class="hl kwa">if</span> self.morsi_rimasti <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;            <span class="hl kwa">remove</span> self <span class="hl slc">! tutto mangiato</span>&#x000A;    }&#x000A;}&#x000A;&#x000A;cibo alimento_naturale&#x000A;{&#x000A;    mangiare&#x000A;    {&#x000A;        actor.salute <span class="hl opt">=</span> actor.salute <span class="hl opt">+</span> <span class="hl num">1</span>&#x000A;        <span class="hl kwa">run</span> cibo..mangiare&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>(Presupponendo che <code>morsi_rimasti</code>, <code>mangiare</code>, e <code>salute</code> siano definiti come proprietà, con <code>mangiare</code> che viene chiamata tutte le volte che un oggetto <code>cibo</code> viene mangiato).</p>
</div>
<div class="paragraph">
<p>In questo caso sarebbe stato scomodo dover riscrivere la routine <code>cibo.mangiare</code> per l&#8217;oggetto <code>alimento_naturale</code> solo perché quest&#8217;ultimo deve anche incrementare <code>actor.salute</code>.
Usando <code>..</code> si chiama <code>cibo.mangiare</code> con <code>self</code> impostata a <code>alimento_naturale</code>, non la classe <code>cibo</code>, così che <code>cibo.mangiare</code> riguarda <code>alimento_naturale</code>.
Questo consente di apportare delle modifiche ad ogni proprietà, attributo, o routine proprietà in una classe, e quella modifica verrà ripetuta in tutti gli oggetti costruiti da quella classe.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_le_routine_before_e_after"><a class="anchor" href="#_le_routine_before_e_after"></a>5.3. Le routine Before e After</h3>
<div class="paragraph">
<p>Il compilatore di Hugo ha due proprietà predefinite: <code>before</code> [prima] e <code>after</code> [dopo].
Sono uniche nel senso che non solo sono sempre routine, ma sono anche molto più complesse (e versatili) di una routine proprietà standard.</p>
</div>
<div class="paragraph">
<p>Proprietà complesse come <code>before</code> e <code>after</code> vengono definite con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property <span class="hl opt">&lt;</span>nome proprietà<span class="hl opt">&gt;</span> $complex <span class="hl opt">&lt;</span>valore default<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property before $complex&#x000A;property after $complex</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questa è la sintassi della proprietà <code>before</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    <span class="hl opt">&lt;</span>uso1<span class="hl opt">&gt; &lt;</span>routineverbo1<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>routineverbo2<span class="hl opt">&gt;</span>, ...]&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;    <span class="hl opt">&lt;</span>uso2<span class="hl opt">&gt; &lt;</span>routineverbo3<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>routineverbo4<span class="hl opt">&gt;</span>, ...]&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>(La routine <code>after</code> è uguale, basta sostituire <code>after</code> a <code>before</code>).</p>
</div>
<div class="paragraph">
<p>Lo specificatore <code>&lt;uso&gt;</code> è il valore con il quale l&#8217;oggetto specificato viene comparato.
Più comunemente, è <code>object</code>, <code>xobject</code>, <code>location</code>, <code>actor</code>, <code>parent(object)</code>, ecc.
La <code>&lt;routineverbo&gt;</code> è il nome della routine verbo a cui l&#8217;uso in questione viene applicato.</p>
</div>
<div class="paragraph">
<p>Se <code>&lt;oggetto&gt;.before</code> viene controllata, con la variabile globale <code>verbroutine</code> impostata con una delle routine verbo specificate nella proprietà <code>before</code>, e <code>&lt;uso&gt;</code> in quell&#8217;instanza è <code>object</code>, allora il blocco di codice seguente viene eseguito.
Se non viene trovata nessuna corrispondenza, <code>&lt;oggetto&gt;.before</code> restituisce <em>false</em> [falso].</p>
</div>
<div class="paragraph">
<p>Questo è un esempio più chiaro che usa l&#8217;oggetto <code>valigia</code> che stiamo sviluppando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    <span class="hl kwa">object</span> DoEat&#x000A;    {&#x000A;        <span class="hl str">&quot;Non puoi mangiare la valigia!&quot;</span>&#x000A;    }&#x000A;}&#x000A;&#x000A;after&#x000A;{&#x000A;    <span class="hl kwa">object</span> DoGet&#x000A;    {&#x000A;        <span class="hl str">&quot;Con grande sforzo raccogli la valigia.&quot;</span>&#x000A;    }&#x000A;    <span class="hl kwa">xobject</span> DoPutIn&#x000A;    {&#x000A;        <span class="hl str">&quot;Hai messo &quot;</span>;&#x000A;        The(<span class="hl kwa">object</span>)&#x000A;        <span class="hl str">&quot; nella valigia.&quot;</span>&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ognuno di questi esempi restituisce <em>true</em>, scavalcando quindi l&#8217;operazione di default dell&#8217;interprete (controllate la sezione sul &#8220;Ciclo del gioco&#8221;).
Il modo di ingannare l&#8217;interprete per farlo continuare normalmente, come se non fossero state trovate proprietà <code>before</code> o <code>after</code>, è quello di restituire <em>false</em> dalla routine proprietà.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">after&#x000A;{&#x000A;    <span class="hl kwa">object</span> DoGet&#x000A;    {&#x000A;        <span class="hl str">&quot;Bene. &quot;</span>;&#x000A;        <span class="hl kwa">return false</span>&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>avrà come risultato:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt; <em>get valigia</em><br>
Bene. Taken.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Visto che la routine <code>after</code> restituisce <em>false</em>, e che la risposta predefinita della libreria per una chiamata a <code>DoGet</code> che ha avuto successo è &#8220;Taken.&#8221; [Preso].</p>
</div>
<div class="paragraph">
<p>È importante ricordare che, a differenza delle altre routine, <code>before</code> e <code>after</code> sono routine &#8220;<em>aggiuntive</em>&#8221;; cioè, una routine <code>before</code> (o <code>after</code>) definita in una classe ereditata o un oggetto non viene sovrascritta da una nuova routine proprietà nel nuovo oggetto.
Invece la definizione della nuova routine viene&#8201;&#8212;&#8201;in sostanza&#8201;&#8212;&#8201;aggiunta.
Una proprietà aggiuntiva viene definita usando il qualificatore <code>$additive</code>, come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">property <span class="hl opt">&lt;</span>nome proprietà<span class="hl opt">&gt;</span> $additive <span class="hl opt">&lt;</span>valore default<span class="hl opt">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Tutte le subroutine <code>before</code>/<code>after</code> precedenti vengono sovrapposte.
Il processo di esame di una proprietà <code>before</code>/<code>after</code> comincia con l&#8217;oggetto presente, andando indietro attraverso i parenti dell&#8217;oggetto fino a che viene trovata una combinazione <code>uso</code>/<code>routineverbo</code> valida; una volta che la corrispondenza è stata trovata, nessun&#8217;altra classe precedente nell&#8217;ereditarietà viene processata (a meno che la routine proprietà in questione restituisca <em>false</em>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per fare in modo che una routine proprietà <code>before</code> o <code>after</code> venga applicata ad <strong>OGNI</strong> routine verbo, non bisogna specificare una routine verbo.</p>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    <span class="hl kwa">xobject</span>&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La routine specificata viene eseguita ogni volta che l&#8217;oggetto in questione è l&#8217;<code>xobject</code> per <strong>OGNI</strong> input valido.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Se questo blocco non specifico capita prima di qualunque blocco che specifica routine verbo, allora i blocchi seguenti, se corrispondenti, verranno eseguiti a condizione che il blocco non restituisca <em>true</em>.
Se il blocco non specifico viene dopo gli altri blocchi, allora verrà eseguito solo se nessuna altra combinazione <code>object</code>/<code>routineverbo</code> viene trovata.</p>
</div>
<div class="paragraph">
<p>Un difetto di questa non specificazione è che tutte le routine verbo vengono controllate&#8201;&#8212;&#8201;sia <code>verbs</code> che <code>xverbs</code>.
Questo può essere particolarmente sgradevole nel caso delle proprietà <code>before</code>/<code>after</code> per le locazioni, dove una risposta non specifica viene eseguita anche per &#8216;save&#8217;, &#8216;restore&#8217;, ecc.</p>
</div>
<div class="paragraph">
<p>Per evitarlo la libreria fornisce la funzione <code>AnyVerb</code> che come argomento accetta un oggetto e restituisce il numero di quell&#8217;oggetto se la routine <code>verbroutine</code> attuale non è nel gruppo degli <code>xverb</code>; altrimenti restituisce <em>false</em>.
Perciò può essere usata tramite:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    AnyVerb(location)&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>al posto di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    location&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La prima esegue il blocco di codice condizionale tutte le volte che la variabile globale <code>location</code> corrisponde all&#8217;oggetto corrente e la <code>verbroutine</code> attuale non è un <code>xverb</code>.
La seconda (che non usa <code>AnyVerb</code>), viene eseguita per <code>verb</code> e <code>xverb</code>. (La ragione di questa cosa, per dirla in modo semplice, è che la variabile globale <code>location</code> è sempre uguale alla variabile globale <code>location</code> (!).
Ma <code>AnyVerb(location)</code> sarà uguale alla variabile globale <code>location</code> solo se <code>verbroutine</code> non è un <code>xverb</code>).</p>
</div>
<div class="sect3">
<h4 id="_esempio_costruzione_di_un_oggetto_complesso"><a class="anchor" href="#_esempio_costruzione_di_un_oggetto_complesso"></a>Esempio: Costruzione di un oggetto complesso</h4>
<div class="paragraph">
<p>A questo punto è stato coperto abbastanza materiale per sviluppare un esempio comprensivo di un oggetto funzionale che servirà da riepilogo dei concetti introdotti fino adesso, così come a fornire esempi di una serie di proprietà comuni di <code>HUGOLIB.H</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> mobiledilegno <span class="hl str">&quot;mobiletto di legno&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">in</span> emptyroom&#x000A;    article <span class="hl str">&quot;un&quot;</span>&#x000A;    nouns <span class="hl str">&quot;mobiletto&quot;</span>, <span class="hl str">&quot;scaffale&quot;</span>, <span class="hl str">&quot;mensole&quot;</span>, \&#x000A;        <span class="hl str">&quot;mobilio&quot;</span>, <span class="hl str">&quot;sportelli&quot;</span>, <span class="hl str">&quot;sportello&quot;</span>&#x000A;    adjectives <span class="hl str">&quot;legno&quot;</span>, <span class="hl str">&quot;fine&quot;</span>, <span class="hl str">&quot;mogano&quot;</span>&#x000A;    short_desc <span class="hl slc">! descrizione sintetica</span>&#x000A;        <span class="hl str">&quot;Un mobiletto di legno è posto lungo una parete.&quot;</span>&#x000A;    when_open <span class="hl slc">! quando aperto</span>&#x000A;        <span class="hl str">&quot;Un mobiletto di legno aperto è posto lungo una parete.&quot;</span>&#x000A;    long_desc <span class="hl slc">! descrizione estesa</span>&#x000A;    {&#x000A;        <span class="hl str">&quot;Il mobiletto è fatto di fine legno di mogano,</span>&#x000A;<span class="hl str">        costruito a mano da un falegname esperto. Nella parte</span>&#x000A;<span class="hl str">        anteriore ci sono due sportelli (al momento &quot;</span>;&#x000A;        <span class="hl kwa">if</span> self <span class="hl kwa">is</span> open&#x000A;            <span class="hl kwa">print</span> <span class="hl str">&quot;aperti&quot;</span>;&#x000A;        <span class="hl kwa">else</span>: <span class="hl kwa">print</span> <span class="hl str">&quot;chiusi&quot;</span>;&#x000A;        <span class="hl kwa">print</span> <span class="hl str">&quot;).&quot;</span>&#x000A;    }&#x000A;contains_desc <span class="hl slc">! descrizione del contenuto</span>&#x000A;    <span class="hl str">&quot;Dietro gli sportelli aperti del mobiletto</span>&#x000A;<span class="hl str">        puoi vedere&quot;</span>; <span class="hl slc">! punto e virgola - niente riga nuova</span>&#x000A;&#x000A;key_object chiave_mobiletto <span class="hl slc">! un oggetto chiave_mobiletto</span>&#x000A;                            <span class="hl slc">! deve essere creato</span>&#x000A;&#x000A;holding <span class="hl num">0</span> <span class="hl slc">! comincia vuoto</span>&#x000A;capacity <span class="hl num">100</span>&#x000A;&#x000A;before&#x000A;{&#x000A;    <span class="hl kwa">object</span> DoLookUnder <span class="hl slc">! guarda sotto l&#39;oggetto</span>&#x000A;        {<span class="hl str">&quot;Niente tranne la polvere.&quot;</span>}&#x000A;    <span class="hl kwa">object</span> DoGet <span class="hl slc">! prendi l&#39;oggetto</span>&#x000A;        {<span class="hl str">&quot;L&#39;armadietto è troppo pesante per</span>&#x000A;<span class="hl str">            essere spostato!&quot;</span>}&#x000A;}&#x000A;after&#x000A;{&#x000A;    <span class="hl kwa">object</span> DoLock <span class="hl slc">! chiudi a chiave</span>&#x000A;        {<span class="hl str">&quot;Con una girata di chiavi chiudi l&#39;armadietto</span>&#x000A;<span class="hl str">            per bene.&quot;</span>}&#x000A;}&#x000A;&#x000A;<span class="hl slc">! contenitore, apribile, non aperto</span>&#x000A;<span class="hl kwa">is</span> container, openable, <span class="hl kwa">not</span> open&#x000A;&#x000A;<span class="hl slc">! chiudibile a chiave, non spostabile</span>&#x000A;<span class="hl kwa">is</span> lockable, static&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Per esercizio: come può un armadietto essere convertito in un passaggio segreto per un&#8217;altra stanza?</p>
</div>
<div class="paragraph">
<p><em>RISPOSTA</em>: basta aggiungere una proprietà <code>door_to</code>, come in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">door_to secondroom <span class="hl slc">! un nuovo oggetto stanza</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ora si può entrare nell&#8217;armadietto con: &#8220;go armadietto&#8221;, &#8220;get into armadietto&#8221;, &#8220;enter armadietto&#8221;, ecc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_init_e_main"><a class="anchor" href="#_init_e_main"></a>5.4. Init e Main</h3>
<div class="paragraph">
<p>Almeno due routine fanno tipicamente parte di un programma Hugo: <code>Init</code> e <code>Main</code>. (La seconda è obbligatoria.
Il compilatore genererà un errore se non trova nessuna routine <code>Main</code>).</p>
</div>
<div class="paragraph">
<p><code>Init</code>, se esiste, viene chiamata una sola volta all&#8217;inizio del programma (così come durante un comando &#8216;restart&#8217;).
La routine dovrebbe configurare tutte le variabili, gli oggetti e gli array necessari a cominciare il gioco.</p>
</div>
<div class="paragraph">
<p><code>Main</code> viene chiamata ad ogni turno.
Dovrebbe prendersi cura delle faccende generali del gioco come l&#8217;incremento del contatore, così come l&#8217;esecuzione di eventi e script.</p>
</div>
</div>
<div class="sect2">
<h3 id="_eventi"><a class="anchor" href="#_eventi"></a>5.5. Eventi</h3>
<div class="paragraph">
<p>Gli eventi sono utili per rendere vivo un gioco, così che piccoli sotterfugi, comportamenti, e avvenimenti possono essere forniti con piccolo sforzo.</p>
</div>
<div class="paragraph">
<p>Gli eventi sono anche routine, ma la loro caratteristica speciale è che possono essere attaccati ad un particolare oggetto, e che sono eseguiti in gruppo dal comando <code>runevents</code>.</p>
</div>
<div class="paragraph">
<p>Gli eventi vengono definiti con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">event&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>per gli eventi globali e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">event [<span class="hl kwa">in</span>] <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>per gli eventi <em>allegati</em> ad un particolare oggetto. (La parola <code>in</code> è opzionale, ma è utile per favorire la leggibilità).
Se un evento è allegato ad un oggetto viene eseguito solo quando quell&#8217;oggetto ha lo stesso '<em>nonno</em>' dell&#8217;oggetto giocatore (dove con &#8216;nonno&#8217; ci si riferisce all&#8217;ultimo oggetto prima di 0, l&#8217;oggetto <code>nothing</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Se l&#8217;evento non è un evento globale, la variabile globale <code>self</code> è impostata con il numero dell&#8217;oggetto a cui l&#8217;evento è allegato.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_esempio_costruzione_di_un_evento_orologio"><a class="anchor" href="#_esempio_costruzione_di_un_evento_orologio"></a>Esempio: Costruzione di un evento orologio</h4>
<div class="paragraph">
<p>Supponiamo che ci sia un oggetto <code>orologio</code> in una stanza.
Questa è una possibile routine:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">event <span class="hl kwa">in</span> orologio&#x000A;{&#x000A;    <span class="hl kwa">local</span> minuti, ore&#x000A;    ore <span class="hl opt">=</span> counter <span class="hl opt">/</span> <span class="hl num">60</span>&#x000A;    minuti <span class="hl opt">=</span> counter <span class="hl opt">-</span> (ore <span class="hl opt">*</span> <span class="hl num">60</span>)&#x000A;&#x000A;    <span class="hl kwa">if</span> minuti <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;    {&#x000A;        <span class="hl kwa">print</span> <span class="hl str">&quot;L&#39;orologio suona &quot;</span>;&#x000A;        <span class="hl kwa">select</span> ore&#x000A;            <span class="hl kwa">case</span> <span class="hl num">1</span>: <span class="hl kwa">print</span> <span class="hl str">&quot;l&#39;una&quot;</span>;&#x000A;            <span class="hl kwa">case</span> <span class="hl num">2</span>: <span class="hl kwa">print</span> <span class="hl str">&quot;le due&quot;</span>;&#x000A;            <span class="hl kwa">case</span> <span class="hl num">3</span>: <span class="hl kwa">print</span> <span class="hl str">&quot;le tre&quot;</span>;&#x000A;            .&#x000A;            .&#x000A;            .&#x000A;            <span class="hl kwa">case</span> <span class="hl num">12</span>: <span class="hl kwa">print</span> <span class="hl str">&quot;le dodici&quot;</span>;&#x000A;        <span class="hl kwa">print</span> <span class="hl str">&quot; in punto.&quot;</span>&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ogni volta che il giocatore e l&#8217;orologio sono nella stessa stanza (quando un comando <code>runevents</code> viene eseguito), l&#8217;evento viene eseguito.</p>
</div>
<div class="paragraph">
<p>Ora, supponiamo che l&#8217;orologio debba essere udito in tutta la casa&#8201;&#8212;&#8201;cioè in ogni parte della mappa del gioco.
Basta cambiare la definizione dell&#8217;evento in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">event <span class="hl slc">! nessun oggetto specificato</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>renderà l&#8217;evento globale. (In questo caso la variabile globale <code>self</code> non viene modificata).</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_micce_demoni_e_script"><a class="anchor" href="#_micce_demoni_e_script"></a>6. MICCE, DEMONI E SCRIPT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mentre tutti gli elementi menzionati in precedenza sono programmati all&#8217;interno del codice dell&#8217;interprete, i mezzi per l&#8217;esecuzione delle micce [fuse], dei demoni e degli script sono scritti completamente in Hugo e si trovano nella libreria (<code>HUGOLIB.H</code>).</p>
</div>
<div class="sect2">
<h3 id="_micce_e_demoni"><a class="anchor" href="#_micce_e_demoni"></a>6.1. Micce e Demoni</h3>
<div class="paragraph">
<p>Daemon [demone] è un termine tradizionale che serve a definire un&#8217;attività ricorrente.
Hugo gestisce i daemon come eventi speciali allegati ad oggetti che possono essere attivati o disattivati (cioè inseriti od estratti dall&#8217;area di visibilità di <code>runevents</code>).</p>
</div>
<div class="paragraph">
<p>Visto che la classe <code>daemon</code> è definita nella libreria, per definire un daemon si usa</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">daemon <span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>&#x000A;{}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il corpo della definizione del daemon è vuoto.
È necessaria solo per associare l&#8217;evento daemon, così che la definizione del daemon deve essere seguita da</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">event [<span class="hl kwa">in</span>] <span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attivato da</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Activate(<span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>che muove l&#8217;oggetto daemon specificato nell&#8217;area di visibilità del giocatore.
In questo modo tutte le volte che un comando <code>runevents</code> viene eseguito (come dovrebbe essere nella routine <code>Main</code>), l&#8217;evento associato a <code>&lt;nome&gt;</code> viene eseguito.</p>
</div>
<div class="paragraph">
<p>Il daemon viene disattivato usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Deactivate(<span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>che rimuove l&#8217;oggetto daemon dalla visibilità.</p>
</div>
<div class="paragraph">
<p>Si può vedere come un daemon sia in realtà uno speciale tipo di oggetto che che posto o meno nell&#8217;area di visibilità di <code>runevents</code>, e che è l&#8217;evento associato al daemon che contiene veramente il codice.</p>
</div>
<div class="paragraph">
<p>Un fuse [miccia] è il nome con il quale si indica un timer&#8201;&#8212;&#8201;cioè qualunque evento che debba accadere dopo uno specifico periodo di tempo.
Il fuse è una versione un po' più complessa di un oggetto daemon, contenendo due proprietà addizionali in aggiunta a <code>in_scope</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timer</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">il numero di turni prima che l&#8217;evento del fuse venga eseguito</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tick</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">una routine che decrementa il <code>timer</code> e restituisce il numerodi turni che restano (cioè il valore di <code>timer</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Come per i daemon la definizione di un fuse viene fatta in due passi</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">fuse <span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>&#x000A;{}&#x000A;&#x000A;event [<span class="hl kwa">in</span>] <span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...&#x000A;    <span class="hl kwa">if not</span>      self.tick&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>e si accende e spegne con</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Activate(<span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>,    <span class="hl opt">&lt;</span>impostazioni<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>o</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Deactivate(<span class="hl opt">&lt;</span>nome<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;impostazioni&gt;</code> è il valore iniziale della proprietà <code>timer</code>.</p>
</div>
<div class="paragraph">
<p>Notare che è compito dell&#8217;evento eseguire il timer e verificare la sua scadenza.
La riga</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">if not</span> self.tick</code></pre>
</div>
</div>
<div class="paragraph">
<p>esegue la proprietà <code>tick</code>&#8201;&#8212;&#8201;che decrementa il timer&#8201;&#8212;&#8201;ed esegue il blocco di codice condizionale seguente se <code>self.timer</code> è 0.</p>
</div>
<div class="sect3">
<h4 id="_esempio_un_semplice_daemon_ed_un_ancor_più_semplice_fuse"><a class="anchor" href="#_esempio_un_semplice_daemon_ed_un_ancor_più_semplice_fuse"></a>Esempio: Un semplice Daemon ed un ancor più semplice Fuse</h4>
<div class="paragraph">
<p>Il daemon più semplice è qualcosa tipo un contatore di sonno, che misura quanto un giocatore può continuare a cominciare da un determinato momento di riposo.</p>
</div>
<div class="paragraph">
<p>Assumiamo che la quantità di riposo del giocatore sia contenuta in una proprietà chiamata <code>riposo</code>, che si decrementa di 2 ad ogni turno.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">daemon affaticamento&#x000A;{}&#x000A;&#x000A;event <span class="hl kwa">in</span> affaticamento&#x000A;{&#x000A;         player.riposo <span class="hl opt">=</span> player.riposo <span class="hl opt">-</span> <span class="hl num">2</span>&#x000A;    <span class="hl kwa">if</span>      player.riposo <span class="hl opt">&lt;</span> <span class="hl num">0</span>&#x000A;             player.riposo <span class="hl opt">=</span> <span class="hl num">0</span>&#x000A;&#x000A;    <span class="hl kwa">select</span> player.riposo&#x000A;        <span class="hl kwa">case</span> <span class="hl num">20</span>&#x000A;                 <span class="hl str">&quot;Ti stai affaticando.&quot;</span>&#x000A;        <span class="hl kwa">case</span> <span class="hl num">10</span>&#x000A;                 <span class="hl str">&quot;Stai diventando</span> <span class="hl esc">\I</span><span class="hl str">molto</span><span class="hl esc">\i</span> <span class="hl str">stanco.&quot;</span>&#x000A;        <span class="hl kwa">case</span> <span class="hl num">0</span>&#x000A;                 <span class="hl str">&quot;Ti sei addormentato!&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si avvia e si ferma il daemon con <code>Activate(affaticamento)</code> e <code>Deactivate(affaticamento)</code>.</p>
</div>
<div class="paragraph">
<p>Ora, per il fuse [miccia], perché non costruire l&#8217;esempio più ovvio: quello di una bomba ad orologeria? (Assumendo che esista un altro oggetto fisico <code>bomba</code>; <code>bombaorologeria</code> è solo il fuse per il conto alla rovescia).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">fuse bombaorologeria&#x000A;{}&#x000A;&#x000A;event <span class="hl kwa">in</span> bombaorologeria&#x000A;{&#x000A;    <span class="hl kwa">if not</span> self.tick&#x000A;         {&#x000A;        <span class="hl kwa">if</span>      Contains(location, bomba)&#x000A;                 <span class="hl str">&quot;Scompari in un elegante KABOOM!&quot;</span>&#x000A;        <span class="hl kwa">else</span>&#x000A;                 <span class="hl str">&quot;Senti un KABOOM da qualche parte!&quot;</span>&#x000A;        <span class="hl kwa">remove</span> bomba&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si attiva (con un conto alla rovescia di 25 turni) e si ferma con <code>Activate(bombaorologeria, 25)</code> e <code>Deactivate(bombaorologeria)</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_script"><a class="anchor" href="#_script"></a>6.2. Script</h3>
<div class="paragraph">
<p>Gli script sono decisamente più complessi dei fuse e dei daemon.
Lo scopo di uno script (chiamato anche script del personaggio) è quello di consentire ad un oggetto&#8201;&#8212;&#8201;di solito un personaggio&#8201;&#8212;&#8201;di eseguire una sequenza di azioni in base ai turni del gioco e indipendentente dal giocatore.</p>
</div>
<div class="paragraph">
<p>Fino a 16 script possono essere eseguiti insieme.
È compito del programmatore preoccuparsi di non superare tale limite.</p>
</div>
<div class="paragraph">
<p>Uno script è rappresentato da due array: <code>scriptdata</code> e <code>setscript</code>.
Il secondo è stato nominato per la chiarezza della programmazione piuttosto che per il suo contenuto.
Ecco perché:</p>
</div>
<div class="paragraph">
<p>Per definire uno script si usa la seguente notazione:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">setscript[Script(<span class="hl opt">&lt;</span>ogg<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>numero<span class="hl opt">&gt;</span>)] <span class="hl opt">=      &amp;</span>CharRoutine, ogg,&#x000A;                                 <span class="hl opt">&amp;</span>CharRoutine, ogg,&#x000A;                                 ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>(ricordandosi che una virgola alla fine di una riga dice al compilatore che la riga prosegue alla successiva).</p>
</div>
<div class="paragraph">
<p>Fare caso al fatto che &#8220;setscript&#8221; in realtà è un array, che prende il suo elemento iniziale dal valore di ritorno della routine <code>Script</code>, che ha <code>&lt;oggetto&gt;</code> e <code>&lt;numero&gt;</code> come argomenti.</p>
</div>
<div class="paragraph">
<p><code>Script</code> restituisce un puntatore all&#8217;interno del grande array &#8220;setscript&#8221; dove il <code>&lt;numero&gt;</code> di passi di uno script per <code>&lt;oggetto&gt;</code> si trovano.
Un singolo script può avere fino a 32 passi.
Un passo in uno script è composto da una routine ed un oggetto&#8201;&#8212;&#8201;sono entrambi necessari anche se la routine non richiede un oggetto. (Si usa l&#8217;oggetto <code>nothing</code> (0); vedere la routine <code>CharWait</code> in <code>HUGOLIB.H</code> per le informazioni).</p>
</div>
<div class="paragraph">
<p>La consuetudine in <code>HUGOLIB.H</code> vuole che le routine di script del personaggio abbiano il prefisso &#8220;Char&#8221;, sebbene questo non sia obbligatorio.
Al momento le routine fornite comprendono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CharMove</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Muovi]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(richiede un oggetto direzione)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CharWait</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Attendi]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(si usa l&#8217;oggetto nothing)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CharGet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Prendi]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(richiede un oggetto prendibile)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CharDrop</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Lascia]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(richiede un oggetto in possesso del personaggio)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>così come la routine speciale</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LoopScript</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[RipetiScript]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(si usa l&#8217;oggetto nothing)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>che indica uno script che verrà eseguito in continuazione. (È compito del programmatore assicurarsi che la posizione finale di un personaggio o di un oggetto sia adatta a ricominciare con lo script se <code>LoopScript</code> viene usato.
Vale a dire che se lo script è composto da una complessa serie di direzioni, il personaggio deve sempre ritornare allo stesso punto di partenza.)</p>
</div>
<div class="paragraph">
<p>La sequenza di routine ed oggetti di ogni script è memorizzata nell&#8217;array <code>setscript</code>.</p>
</div>
<div class="paragraph">
<p>Gli script vengono eseguiti tramite la routine <code>RunScripts</code>, simile a <code>runevents</code>, da cui differisce per il fatto che <code>runevents</code> è un comando dell&#8217;interprete mentre <code>RunScripts</code> è contenuta in <code>HUGOLIB.H</code>.</p>
</div>
<div class="paragraph">
<p>La riga</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">RunScripts</code></pre>
</div>
</div>
<div class="paragraph">
<p>eseguirà tutti gli script personaggio/oggetto attivi, un turno alla volta, liberando lo spazio usato da ognuno una volta che sono terminati.</p>
</div>
<div class="paragraph">
<p>Quello che segue è uno script di esempio per un personaggio di nome &#8220;Ned&#8221;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">setscript[Script(ned, <span class="hl num">4</span>)] <span class="hl opt">= &amp;</span>CharMove, s_obj,&#x000A;                     <span class="hl opt">&amp;</span>CharGet, palladicannone,&#x000A;                     <span class="hl opt">&amp;</span>CharMove, n_obj,&#x000A;                     <span class="hl opt">&amp;</span>CharWait, <span class="hl num">0</span>,&#x000A;                     <span class="hl opt">&amp;</span>CharDrop, palladicannone</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ned andrà a sud, raccoglierà l&#8217;oggetto <code>palladicannone</code>, la porterà con sé a nord, attenderà un turno e lascerà la <code>palladicannone</code>. (Le routine di script per i personaggi fornite dalla libreria sono relativamente elementari; ad esempio, <code>CharGet</code> assume che l&#8217;oggetto specificato sia presente quando il personaggio cerca di prenderlo).</p>
</div>
<div class="paragraph">
<p>Altre routine di gestione script in <code>HUGOLIB.H</code> comprendono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CancelScript(ogg)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per terminare immediatamente l&#8217;esecuzione dello script per <code>&lt;ogg&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PauseScript(ogg)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ferma temporaneamente l&#8217;esecuzione dello script per <code>&lt;ogg&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ResumeScript(ogg)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riprende l&#8217;esecuzione di uno script fermato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SkipScript(ogg)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">salta lo script per <code>&lt;ogg&gt;</code> per la successiva esecuzione di <code>RunScripts</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La routine <code>RunScripts</code> controlla anche le proprietà <code>before</code> e <code>after</code>.
Continua con l&#8217;azione predefinita&#8201;&#8212;&#8201;la routine di azione del personaggio specificata nello script&#8201;&#8212;&#8201;se trova un valore <em>false</em>.</p>
</div>
<div class="paragraph">
<p>Per ignorare una routine di azione predefinata per un personaggio si include una proprietà <code>before</code> per l&#8217;oggetto del personaggio usando la forma seguente:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">before&#x000A;{&#x000A;    actor      CharRoutine&#x000A;    {&#x000A;        ...&#x000A;    }&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>CharRoutine</code> è <code>CharWait</code>, <code>CharMove</code>, <code>CharGet</code>, <code>CharDrop</code>, ecc.</p>
</div>
</div>
<div class="sect2">
<h3 id="_una_nota_sulla_globale_event_flag"><a class="anchor" href="#_una_nota_sulla_globale_event_flag"></a>6.3. Una nota sulla globale event_flag</h3>
<div class="paragraph">
<p>Le routine della libreria&#8201;&#8212;&#8201;in particolare le routine verbo <code>DoWait&#8230;&#8203;</code>&#8201;&#8212;&#8201;si aspettano che la variabile globale <code>event_flag</code> venga impostata con un valore non falso se qualcosa accade (in un evento o uno script) così che al giocatore venga notificato e venga data l&#8217;opportunita si smettere si aspettare.
Ad esempio le routine di script dei personaggi in <code>HUGOLIB.H</code> impostano <code>event_flag</code> ogni volta che un personaggio fa qualcosa nella stessa locazione del giocatore.</p>
</div>
<div class="paragraph">
<p>Se si usa <code>HUGOLIB.H</code> deve essere seguita la regola di impostare <code>event_flag</code> dopo ogni evento significativo.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grammatica_e_parsing"><a class="anchor" href="#_grammatica_e_parsing"></a>7. GRAMMATICA E PARSING</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definizione_della_grammatica"><a class="anchor" href="#_definizione_della_grammatica"></a>7.1. Definizione della grammatica</h3>
<div class="paragraph">
<p>Ogni comando valido del giocatore deve essere specificato.
Più precisamente ogni uso di un particolare verbo deve essere dettagliato per intero nel codice sorgente.</p>
</div>
<div class="paragraph">
<p>Le definizioni della grammatica devono essere inserite sempre all&#8217;inizio del codice, prima di ogni oggetto o codice da eseguire.
In pratica se diversi file addizionali di grammatica devono essere inclusi, o una nuova grammatica deve essere definita esplicitamente nel codice sorgente, deve essere fatto prima dell&#8217;inclusione dei file che contengono del codice da eseguire, o prima della definizione di ogni routine, oggetto, ecc.</p>
</div>
<div class="paragraph">
<p>La sintassi da usare è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">[x]<span class="hl kwa">verb</span> <span class="hl str">&quot;&lt;verbo1&gt;&quot;</span> [, <span class="hl str">&quot;&lt;verbo2&gt;&quot;</span>,      <span class="hl str">&quot;&lt;verbo3&gt;&quot;</span>,...]&#x000A;    <span class="hl opt">* &lt;</span>specificazione      di sintassi <span class="hl num">1</span><span class="hl opt">&gt; &lt;</span>RoutineVerbo1<span class="hl opt">&gt;</span>&#x000A;    <span class="hl opt">*      &lt;</span>specificazione di sintassi <span class="hl num">2</span><span class="hl opt">&gt; &lt;</span>RoutineVerbo2<span class="hl opt">&gt;</span>&#x000A;    ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bene, che vuol dire?
Ecco alcuni esempi tratti dal file di grammatica della libreria <code>VERBLIB.G</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;get&quot;</span>&#x000A;         <span class="hl opt">*</span>                                           DoVague&#x000A;    <span class="hl opt">*</span>      <span class="hl str">&quot;up&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;out&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;off&quot;</span>                          DoExit&#x000A;    <span class="hl opt">*</span> <span class="hl str">&quot;outof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;offof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;off&quot;</span>      <span class="hl kwa">object</span>         DoExit&#x000A;    <span class="hl opt">*</span> <span class="hl str">&quot;in&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;on&quot;</span>      <span class="hl kwa">object</span>                          DoEnter&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multinotheld</span> <span class="hl str">&quot;from&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;off&quot;</span>      <span class="hl kwa">parent</span>     DoGet&#x000A;    <span class="hl opt">*</span>      <span class="hl kwa">multinotheld</span> <span class="hl str">&quot;offof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;outof&quot;</span> <span class="hl kwa">parent</span>  DoGet&#x000A;    <span class="hl opt">*</span>      <span class="hl kwa">multinotheld</span>                              DoGet&#x000A;&#x000A;<span class="hl kwa">verb</span> <span class="hl str">&quot;take&quot;</span>&#x000A;         <span class="hl opt">*</span>                                           DoVague&#x000A;    <span class="hl opt">*</span> <span class="hl str">&quot;off&quot;</span>      <span class="hl kwa">multiheld</span>                           DoTakeOff&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multiheld</span>      <span class="hl str">&quot;off&quot;</span>                           DoTakeOff&#x000A;    <span class="hl opt">*</span>      <span class="hl kwa">multinotheld</span>                              DoGet&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multinotheld</span> <span class="hl str">&quot;from&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;off&quot;</span>      <span class="hl kwa">parent</span>     DoGet&#x000A;    <span class="hl opt">*</span>      <span class="hl kwa">multinotheld</span> <span class="hl str">&quot;offof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;outof&quot;</span> <span class="hl kwa">parent</span>  DoGet&#x000A;&#x000A;<span class="hl kwa">xverb</span> <span class="hl str">&quot;save&quot;</span>&#x000A;         <span class="hl opt">*</span>                 DoSave&#x000A;    <span class="hl opt">*</span> <span class="hl str">&quot;game&quot;</span>          DoSave&#x000A;&#x000A;<span class="hl kwa">verb</span> <span class="hl str">&quot;read&quot;</span>, <span class="hl str">&quot;peruse&quot;</span>&#x000A;         <span class="hl opt">*</span>                   DoVague&#x000A;    <span class="hl opt">*</span> readable          DoRead&#x000A;&#x000A;<span class="hl kwa">verb</span> <span class="hl str">&quot;unlock&quot;</span>&#x000A;         <span class="hl opt">*</span>                           DoVague&#x000A;    <span class="hl opt">*</span>      lockable                  DoUnLock&#x000A;    <span class="hl opt">*</span> lockable <span class="hl str">&quot;with&quot;</span> <span class="hl kwa">held</span>      DoUnLock</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ogni intestazione &#8216;verb&#8217; o &#8216;xverb&#8217; comincia con una nuova definizione di un verbo.
Un &#8216;xverb&#8217; è un qualificatore speciale che indica che l&#8217;interprete non deve chiamare la routine <code>Main</code> dopo aver completato con successo l&#8217;azione.
Un &#8216;xverb&#8217; viene di solito usato con i verbi non di azione, o di utilità come il salvataggio, il ripristino, l&#8217;uscita dal gioco, o il ricominciare da capo.</p>
</div>
<div class="paragraph">
<p>Successivamente nell&#8217;intestazione sono indicati uno o più nomi del verbo.
Ogni nome specificato userà la grammatica seguente allo stesso modo.<br>
Questo è il motivo per il quale &#8220;get&#8221; e &#8220;take&#8221; negli esempi precedenti sono definiti separatamente, invece di</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;get&quot;</span>, <span class="hl str">&quot;take&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In questo modo i comandi</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get up</p>
</div>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>take off hat</p>
</div>
</div>
</div>
<div class="paragraph">
<p>sono consentiti, mentre</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>take up</p>
</div>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get off hat</p>
</div>
</div>
</div>
<div class="paragraph">
<p>non hanno senso.</p>
</div>
<div class="paragraph">
<p>Ogni riga che comincia con l&#8217;asterisco (&#8216;*&#8217;) è un uso valido del verbo che si sta defininendo. (Ogni input del giocatore deve cominciare con un verbo.
Le eccezioni, dove un comando è diretto ad un oggetto come in</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Ned, get the ball</p>
</div>
</div>
</div>
<div class="paragraph">
<p>verranno dettagliate in seguito).</p>
</div>
<div class="paragraph">
<p>Fino a due oggetti ed un qualunque numero di parole del dizionario possono essere usate per creare una riga di sintassi.
Gli oggetti devono essere separati ad almeno una parola del dizionario.</p>
</div>
<div class="paragraph">
<p>Specificazioni di oggetto valide sono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qualunque oggetto visibile (l&#8217;oggetto diretto)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xobject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;oggetto indiretto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>attribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qualunque oggetto visibile che ha l&#8217;attributo <code>&lt;attribute&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qualunque <code>xobject</code> che è il padre dell&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>held</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qualunque oggetto in possesso del giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>notheld</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un oggetto non in possesso del giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multi</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oggetti visibili multipli</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multiheld</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oggetti multipli in possesso del giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>multinotheld</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">oggetti multipli non posseduti dal giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>number</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un numero intero positivo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>word</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qualunque parola del dizionario</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">una stringa tra virgolette</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(NomeRoutine)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un nome di routine, tra parentesi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(nomeogg)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un nome di oggetto, tra parentesi</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(Se viene specificato un numero nella sintassi della grammatica, questo viene passato alla routine verbo nell&#8217;oggetto <code>global</code>.
Se viene specificata una stringa, questa viene passata nella variabile dell&#8217;interprete <code>parse$</code>, che può essere trasformata in un array di stringhe usando la funzione &#8216;string&#8217;).</p>
</div>
<div class="paragraph">
<p>Le parole del dizionario che possono essere usate in maniera intercambiabile vanno separate da una barra (&#8216;/&#8217;).</p>
</div>
<div class="paragraph">
<p>Due o più parole del dizionario digitate in sequenza devono essere specificate separatamente.
Cioè se la riga in input è:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>take hat out of suitcase</p>
</div>
</div>
</div>
<div class="paragraph">
<p>la riga di sintassi</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">*</span> <span class="hl kwa">object</span> <span class="hl str">&quot;out&quot;</span> <span class="hl str">&quot;of&quot;</span> container</code></pre>
</div>
</div>
<div class="paragraph">
<p>corrisponderà, mentre</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">*</span> <span class="hl kwa">object</span> <span class="hl str">&quot;out of&quot;</span> container</code></pre>
</div>
</div>
<div class="paragraph">
<p>non verrà mai riconosciuta, visto che l&#8217;interprete tratta in automatico &#8220;out&#8221; e &#8220;of&#8221; come due parole separate; il parser non troverà mai una corrispondenza per &#8220;out of&#8221;.</p>
</div>
<div class="paragraph">
<p>Per quel che riguarda l&#8217;indicazione degli oggetti nella riga di sintassi: Una volta che l&#8217;oggetto diretto è stato trovato, l&#8217;oggetto rimanente sulla riga di input verrà memorizzato come <code>xobject</code>.
In pratica nell&#8217;esempio precendente, un oggetto valido sulla riga di input con l&#8217;attributo <code>container</code> verrà considerato l&#8217;oggetto indiretto dalla routine verbo.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Un punto importante da ricordare quando si mischiano parole del dizionario ed oggetti in una riga di sintassi è che, a meno che sia stato indirizzato diversamente, il parser può confondere una combinazione parola-oggetto con un nome di oggetto non valido.
Considerate questo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;pick&quot;</span>&#x000A;    <span class="hl opt">*</span>      <span class="hl kwa">object</span>      DoGet&#x000A;    <span class="hl opt">*</span>      <span class="hl str">&quot;up&quot;</span> <span class="hl kwa">object</span> DoGet</code></pre>
</div>
</div>
<div class="paragraph">
<p>Questa definizione avrà come risultato qualcosa tipo</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;pick up box
You haven&#8217;t seen any "up box", nor are you likely to in
the near future even if such a thing exists.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>(partendo dal presupposto che &#8220;up&#8221; sia stato definito da qualche altra parte come parte di un altro nome di oggetto, come in <code>OBJLIB.H</code>), visto che il processore processa la sintassi</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">*</span> <span class="hl kwa">object</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e determina che un nome di oggetto non valido viene usato; non arriva mai a</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">*</span> <span class="hl str">&quot;up&quot;</span> <span class="hl kwa">object</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La definizione corretta del verbo deve essere ordinata come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;pick&quot;</span>&#x000A;    <span class="hl opt">*</span> <span class="hl str">&quot;up&quot;</span> <span class="hl kwa">object</span>      DoGet&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">object</span>           DoGet</code></pre>
</div>
</div>
<div class="paragraph">
<p>così che &#8220;pick &lt;oggetto&gt;&#8221; e &#8220;pick up    &lt;oggetto&gt;&#8221; sono comandi validi.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Per definire una nuova condizione grammaticale che abbia la precedenza rispetto ad una già esistente&#8201;&#8212;&#8201;come in <code>VERBLIB.G</code>&#8201;&#8212;&#8201;basta definire la nuova condizione prima (ad esempio prima di includere <code>VERBLIB.G</code>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Come regola generale, a meno che si abbia la necessità di anticipare il normale processo della grammatica della libreria, la nuova grammatica va inserita dopo l&#8217;inclusione dei file della libreria. (La ragione di questo è che la grammatica della libreria è stata messa punto per gestire situazioni come quelle esposte più sopra).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Un oggetto singolo può essere specificato come l&#8217;unico oggetto valido per una particolare sintassi:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;sfrega&quot;</span>&#x000A;    <span class="hl opt">*</span>      (lampada_magica) DoSfregaLampadaMagica</code></pre>
</div>
</div>
<div class="paragraph">
<p>che produrrà un errore &#8220;You can&#8217;t do that with&#8230;&#8203;&#8221; per ogni oggetto diverso dall&#8217;oggetto <code>lampada_magica</code>.</p>
</div>
<div class="paragraph">
<p>Usare un nome di routine per specificare un oggetto è leggermente più complicato: l&#8217;interpete chiama la routine indicata passandole l&#8217;oggetto specificato nell&#8217;input come argomento; se la routine restituisce <em>true</em> allora l&#8217;oggetto è valido, altrimenti un errore di interpretazione deve essere stampato dalla routine.
Se due nomi di routine vengono usati in una determinata sintassi, come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl opt">*</span> (PrimaRoutine) <span class="hl str">&quot;con&quot;</span>    (SecondaRoutine)</code></pre>
</div>
</div>
<div class="paragraph">
<p>allora <code>PrimaRoutine</code> viene usata per la validazione di <code>object</code> e <code>SecondaRoutine</code> per la validazione di <code>xobject</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_il_parser"><a class="anchor" href="#_il_parser"></a>7.2. Il parser</h3>
<div class="paragraph">
<p>Subito dopo che una riga in input è stata ricevuta, l&#8217;interprete chiama il parser, ed il primo passo consiste nell&#8217;identificare tutte le parole non valide, cioè le parole che non sono nella tabella del dizionario.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nella riga di input è consentito inserire una parola o frase non compresa nel dizionario a patto che venga racchiusa tra virgolette (&#8220;&#8288;&#8221;).
Se il comando viene interpretato correttamente, questa stringa viene passata a <code>parse$</code>.
Non è possibile avere più di una parola o frase non compresa nel dizionario (anche se le frasi addizionali vengono racchiuse tra virgolette).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il passo successivo consiste nel suddividere la riga in parole singole.
Le parole sono separate da spazi e simboli di punteggiatura (inclusi &#8220;!&#8221; e &#8220;?&#8221;) che vengono rimossi.
Tutti i caratteri della riga di input vengono convertiti in minuscolo.</p>
</div>
<div class="paragraph">
<p>Successivamente si tratta di processare i tre tipi di parole speciali che possono essere definiti nel codice sorgente.</p>
</div>
<div class="paragraph">
<p>I <strong>REMOVAL</strong> [rimuovibili] sono i più semplici.
Sono semplicemente parole che vengono automaticamente rimosse dalla riga in input, e sono fondamentalmente limitati a parole come &#8220;a&#8221; e &#8220;the&#8221;, che renderebbero l&#8217;esame della grammatica più complicato e difficile.</p>
</div>
<div class="paragraph">
<p>La sintassi per la definizione di un removal è:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">removal <span class="hl str">&quot;&lt;parola1&gt;&quot;</span>[, <span class="hl str">&quot;&lt;parola2&gt;&quot;</span>,      <span class="hl str">&quot;&lt;parola3&gt;&quot;</span>,...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">removal <span class="hl str">&quot;a&quot;</span>, <span class="hl str">&quot;an&quot;</span>, <span class="hl str">&quot;the&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Il <strong>PUNCTUATION</strong> [punteggiatura] è simile al removal, solo che specifica la rimozione di caratteri singoli invece di intere parole:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">punctuation    <span class="hl str">&quot;&lt;carattere1&gt;[&lt;carattere2&gt;...]&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">punctuation <span class="hl str">&quot;$%&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>I <strong>SYNONYM</strong> [sinonimi] sono più complicati.
Sono parole che non verranno mai trovate nella riga di input interpretata; sono sostituiti dalla parola specificata per la quale sono sinonimi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">synonym <span class="hl str">&quot;&lt;sinonimo&gt;&quot;</span> <span class="hl kwa">for</span> <span class="hl str">&quot;&lt;parola&gt;&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">synonym <span class="hl str">&quot;myself&quot;</span> <span class="hl kwa">for</span> <span class="hl str">&quot;me&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;esempio precedente sostituisce tutte le ricorrenze di &#8220;myself&#8221; nella riga di input con &#8220;me&#8221;.
L&#8217;uso dei sinonimi non deve essere molto esteso, visto che esiste la possibilità, particolarmente nel caso dei nomi di oggetti e degli aggettivi, di specificare come sinonimi parole che vengono già trattate come distinte.</p>
</div>
<div class="paragraph">
<p>I <strong>COMPOUND</strong> [compositi] sono l&#8217;ultimo tipo di parole speciali, specificati con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">compound <span class="hl str">&quot;&lt;parola1&gt;&quot;</span>,    <span class="hl str">&quot;&lt;parola2&gt;&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">compound <span class="hl str">&quot;out&quot;</span>, <span class="hl str">&quot;of&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>così che la riga di input</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get hat out of suitcase</p>
</div>
</div>
</div>
<div class="paragraph">
<p>venga interpretata come</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get hat outof suitcase</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A seconda della progettazione delle tabelle di grammatica per alcune sintassi, l&#8217;uso dei compound può rendere la definizione della grammatica più semplice, così che usando il compound precedente,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;get&quot;</span>&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multinotheld</span>      <span class="hl str">&quot;outof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;offof&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;from&quot;</span> <span class="hl kwa">parent</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>è possibile, e preferibile a</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">verb</span> <span class="hl str">&quot;get&quot;</span>&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multinotheld</span>      <span class="hl str">&quot;out&quot;</span><span class="hl opt">/</span><span class="hl str">&quot;off&quot;</span> <span class="hl str">&quot;of&quot;</span> <span class="hl kwa">parent</span>&#x000A;    <span class="hl opt">*</span> <span class="hl kwa">multinotheld</span>      <span class="hl str">&quot;from&quot;</span> <span class="hl kwa">parent</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Quando il parser ha terminato di processare la riga di input, il risultato è un array definito (da Hugo Engine) in maniera speciale chiamato <code>word</code>, il cui numero di elementi validi è contenuto nella variabile globale <code>words</code>.</p>
</div>
<div class="paragraph">
<p>Perciò in</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get the hat from the table</p>
</div>
</div>
</div>
<div class="paragraph">
<p>il parser&#8201;&#8212;&#8201;usando i removal definiti in <code>HUGOLIB.H</code>&#8201;&#8212;&#8201;produce i seguenti risultati:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">word</span>[<span class="hl num">1</span>] <span class="hl opt">=</span> <span class="hl str">&quot;get&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">2</span>] <span class="hl opt">=</span> <span class="hl str">&quot;hat&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">3</span>] <span class="hl opt">=</span> <span class="hl str">&quot;from&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">4</span>] <span class="hl opt">=</span> <span class="hl str">&quot;table&quot;</span>&#x000A;&#x000A;words <span class="hl opt">=</span> <span class="hl num">4</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le righe di comandi multipli sono consentite, purché ogni comando venga separato da un punto (&#8220;.&#8221;).</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get hat. go n. go e.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>diventa</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">word</span>[<span class="hl num">1</span>] <span class="hl opt">=</span> <span class="hl str">&quot;get&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">2</span>] <span class="hl opt">=</span> <span class="hl str">&quot;hat&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">3</span>] <span class="hl opt">=</span> <span class="hl str">&quot;&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">4</span>] <span class="hl opt">=</span> <span class="hl str">&quot;go&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">5</span>] <span class="hl opt">=</span> <span class="hl str">&quot;n&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">6</span>] <span class="hl opt">=</span> <span class="hl str">&quot;&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">7</span>] <span class="hl opt">=</span> <span class="hl str">&quot;go&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">8</span>] <span class="hl opt">=</span> <span class="hl str">&quot;e&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">9</span>] <span class="hl opt">=</span> <span class="hl str">&quot;&quot;</span>&#x000A;&#x000A;words <span class="hl opt">=</span> <span class="hl num">9</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>(Controllate la routine <code>Parse</code> in <code>HUGOLIB.H</code> per un esempio di come</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>get hat then go n</p>
</div>
</div>
</div>
<div class="paragraph">
<p>viene tradotto in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">word</span>[<span class="hl num">1</span>] <span class="hl opt">=</span> <span class="hl str">&quot;get&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">2</span>] <span class="hl opt">=</span> <span class="hl str">&quot;hat&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">3</span>] <span class="hl opt">=</span> <span class="hl str">&quot;&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">4</span>] <span class="hl opt">=</span> <span class="hl str">&quot;go&quot;</span>&#x000A;<span class="hl kwa">word</span>[<span class="hl num">5</span>] <span class="hl opt">=</span> <span class="hl str">&quot;n&quot;</span>)</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>È consentito un massimo di trentadue parole.
Il punto viene in ogni caso convertito nella voce di dizionario <code>null</code> (<code>""</code>, indirizzo = 0), che segnala all&#8217;interprete che l&#8217;analisi del comando corrente termina qui.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>le routine di parsing e della grammatica riconoscono anche diverse parole di sistema, ognuna nel formato &#8220;~parola&#8221;.
Queste sono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~and</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riferendosi a: oggetti multipli specifici</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riferendosi a: oggetti multipli in generale</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~any</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riferendosi a: uno qualunque in una lista di oggetti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~except</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riferendosi a: un oggetto da escludere</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~oops</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per correggere un errore nella riga di input precedente</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Per consentire ad una riga di input di accedere ad una di queste parole di sistema, bisogna definire un sinonimo come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">synonym <span class="hl str">&quot;and&quot;</span> <span class="hl kwa">for</span> <span class="hl str">&quot;~and&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>La libreria definisce diversi di questi sinonimi.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_routine_di_congiunzione"><a class="anchor" href="#_routine_di_congiunzione"></a>8. ROUTINE DI CONGIUNZIONE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Visto che, per dirla semplice, l&#8217;interprete non conosce cose tipo attributi, proprietà ed oggetti se non nel senso tecnico, sono state fornite una serie di routine che servono a facilitare la comunicazione tra l&#8217;interprete ed il programma.</p>
</div>
<div class="paragraph">
<p>Insieme a queste routine di congiunzione ci sono una serie di variabili globali e proprietà che sono predefinite dal compilatore ed a cui accede l&#8217;interprete.
Queste sono:</p>
</div>
<div class="paragraph">
<p><strong>GLOBALI:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;oggetto diretto di un verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xobject</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;oggetto indiretto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>self</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;oggetto che si riferisce a se stesso</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>words</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">numero totale di parole</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>player</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;oggetto giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>location</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">la posizione del giocatore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>verbroutine</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;indirizzo della routine verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endflag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">se non è <em>false</em> (0) chiama <code>EndGame</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>prompt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">per la riga di input</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>objects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">numero totale di oggetti</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>system_status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dopo determinate operazioni</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>PROPRIETÀ:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nome dell&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>before</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">routine pre verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>after</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">routine post verbo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>noun</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nome(i) con cui riferirsi all&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>adjective</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aggettivo(i) con cui riferirsi all&#8217;oggetto</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>article</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"a", "an", "the", "some", ecc.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>(Insieme agli alias <code>nouns</code> e <code>adjectives</code> per <code>noun</code> e <code>adjective</code> definiti dalla libreria).</p>
</div>
<div class="paragraph">
<p>Le routine di congiunzione non sono necessarie.
L&#8217;interprete possiede delle routine di default già pronte, sebbene queste potrebbero essere non molto utili per la maggior parte dei programmatori.
Per questo <code>HUGOLIB.H</code> contiene le routine seguenti che implementano tutte le funzionalità della libreria.
Se si vuole usare una routine differente al posto di quella fornita, la routine deve essere sostituita usando <code>replace</code>.</p>
</div>
<div class="sect2">
<h3 id="_parse"><a class="anchor" href="#_parse"></a>8.1. Parse</h3>
<div class="paragraph">
<p>La routine <code>Parse</code>, se esiste, viene chiamata dal parser dell&#8217;interprete.
Qui il programma può modificare la riga di input prima che venga controllata la grammatica.
Quello che accade è:</p>
</div>
<div class="paragraph">
<p>1. La riga di input è suddivisa in parole (dall&#8217;interprete).<br>
2. La routine <code>Parse</code>, se esiste, viene chiamata.<br>
3. Il controllo ritorna all&#8217;interprete per l&#8217;esame della grammatica.</p>
</div>
<div class="paragraph">
<p>Ad esempio, la routine <code>Parse</code> in <code>HUGOLIB.H</code> si occupa di cose come i pronomi (&#8220;he&#8221;, &#8220;she&#8221;, &#8220;it&#8221;, &#8220;them&#8221;) e la ripetizione dell&#8217;ultimo comando valido (con &#8220;again&#8221; o &#8220;g&#8221;).</p>
</div>
<div class="paragraph">
<p>La restituzione di <em>true</em> da parte della routine <code>Parse</code> comporta una nuova chiamata al parser dell&#8217;interprete; se si restituisce <em>false</em> l&#8217;elaborazione prosegue normalmente.
Questa cosa è utile nel caso la routine <code>Parse</code> abbia cambiato la riga di input in maniera sostanziale, richiedendo una riconfigurazione delle parole già suddivise.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Visto che la routine <code>Parse</code> della libreria è piuttosto grande, è stata fornita una routine <code>PreParse</code>&#8201;&#8212;&#8201;che nella libreria è stata definita vuota&#8201;&#8212;&#8201;che può essere sostituita più facilmente per un parsing addizionale.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parseerror"><a class="anchor" href="#_parseerror"></a>8.2. ParseError</h3>
<div class="paragraph">
<p>La routine <code>ParseError</code> viene chiamata tutte le volte che un comando non è valido. <code>ParseError</code> viene chiamata nella forma</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">ParseError(<span class="hl opt">&lt;</span>numeroerrore<span class="hl opt">&gt;</span>,    <span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;oggetto&gt;</code> è il numero dell&#8217;oggetto (se presente) dell&#8217;oggetto coinvolto nell&#8217;errore.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>L&#8217;interprete imposta anche una variabile speciale chiamata &#8216;parse$&#8217;, usabile solo in un&#8217;istruzione <code>print</code> (o insieme a &#8216;string&#8217;), che rappresenta il componente illegale di una riga di input, che sia il verbo, un nome di oggetto, un nome parziale di oggetto, od ogni altra combinazione di parole.
Ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">print</span> <span class="hl str">&quot;La parola illegale era: &quot;</span>; <span class="hl kwa">parse$</span>;    <span class="hl str">&quot;.&quot;</span></code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le risposte di default fornite dalla routine di errore del parser dell&#8217;interprete sono:</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-right valign-top">NUMERO ERRORE</th>
<th class="tableblock halign-left valign-top">RISPOSTA</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"What?"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You can&#8217;t use the word &lt;parse$&gt;."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Better start with a verb."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You can&#8217;t &lt;parse$&gt; multiple objects."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Can&#8217;t do that."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You haven&#8217;t seen any &lt;parse$&gt;, nor are you likely to in the near future even if such a thing exists."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"That doesn&#8217;t make any sense."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You can&#8217;t use multiple objects like that."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Which &lt;parse$&gt; do you mean,&#8230;&#8203;?"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"Nothing to &lt;parse$&gt;."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You haven&#8217;t seen anything like that."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You don&#8217;t see that."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You can&#8217;t do that with the &lt;parse$&gt;."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You&#8217;ll have to be a little more specific."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You don&#8217;t see that there."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You don&#8217;t have that."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You&#8217;ll have to make a mistake first."</code></p></td>
</tr>
<tr>
<td class="tableblock halign-right valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>"You can only correct one word at a time."</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La routine <code>ParseError</code> in <code>HUGOLIB.H</code> fornisce risposte su misura che tengono conto di cose come, ad esempio, il giocatore è in prima o seconda persona, un oggetto è un personaggio o meno, e se è maschio o femmina.</p>
</div>
<div class="paragraph">
<p>Se la routine <code>ParseError</code> non fornisce una risposta per un particolare <code>&lt;numeroerrore&gt;</code> deve restituire <em>false</em>.
La restituzione di <em>false</em> è un segnale che indica all&#8217;interprete di continuare con il messaggio predefinito.
La restituizione di 2 indica che bisogna reinterpretare l&#8217;intera riga (utile nel caso in cui una particolare sintassi sia stata intercettata come un errore, cambiata, e debba essere reinterpretata).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Se si vogliono usare dei messaggi di errore personalizzati per le routine di parsing dell&#8217;utente, bisogna sostiture (<code>replace</code>) la routine <code>CustomError</code> con una nuova routine (chiamata con gli stessi parametri di <code>ParseError</code>), assicurandosi che <code>&lt;numeroerrore&gt;</code> sia maggiore od uguale a 100.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_endgame"><a class="anchor" href="#_endgame"></a>8.3. EndGame</h3>
<div class="paragraph">
<p>La routine <code>EndGame</code> viene chiamata immediatamente tutte le volte che la variabile globale <code>EndFlag</code> è diversa da 0, senza curarsi del fatto che la funzione corrente sia o meno terminata.</p>
</div>
<div class="paragraph">
<p>La routine <code>EndGame</code> di <code>HUGOLIB.H</code> reagisce in maniera differente a seconda di come sia stata impostata <code>endflag</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>endflag</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RISULTATO</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il giocatore vince</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Il giocatore muore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(<code>3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altra fine non fornita di default dalla routine <code>PrintEndGame</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Restituire <em>false</em> da <code>EndGame</code> comporta il termine del gioco; un valore non falso ricomincia da capo.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Per modificare solo il messaggio visualizzato alla fine del gioco (default: &#8220;<strong>* YOU&#8217;VE WON THE GAME! </strong><strong>&#8221; e &#8220;<strong></strong> YOU ARE    DEAD </strong>*&#8221;) bisogna sostituire la routine <code>PrintEndGame</code>.
Oltre che ad essere non falsi i vari valori di <code>endflag</code> non hanno significato, tranne per <code>PrintEndGame.</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_findobject"><a class="anchor" href="#_findobject"></a>8.4. FindObject</h3>
<div class="paragraph">
<p>La routine si occupa di controllare tutte le proprietà necessarie, gli attributi e la gerarchia degli oggetti per determinare se un particolare oggetto è disponibile o meno.
Ad esempio il <em>child</em> [figlio] di un oggetto <em>parent</em> [padre] potrebbe essere disponibile se il padre è un <em>platform</em> [piattaforma], ma non disponibile se il <em>parent</em> è un <em>container</em> [contenitore] (e chiuso)&#8201;&#8212;&#8201;sebbene internamente la gerarchia degli oggetti sia la stessa.</p>
</div>
<div class="paragraph">
<p><code>FindObject</code> viene chiamata con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">FindObject(<span class="hl opt">&lt;</span>oggetto<span class="hl opt">&gt;</span>,    <span class="hl opt">&lt;</span>locazione<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;oggetto&gt;</code> è l&#8217;oggetto in questione e <code>&lt;locazione&gt;</code> è l&#8217;oggetto dove la disponibilità deve essere controllata. (Di solito <code>&lt;locazione&gt;</code> è una stanza, a meno che un <em>parent</em> differente sia stato specificato nella riga di input).</p>
</div>
<div class="paragraph">
<p><code>FindObject</code> restituisce <em>true</em> (1) se l&#8217;oggetto è disponibile, <em>false</em> (0) altrimenti.
Restituisce 2 se l&#8217;oggetto è visibile, ma non raggiungibile fisicamente.</p>
</div>
<div class="paragraph">
<p>La routine <code>FindObject</code> in <code>HUGOLIB.H</code> considera non solo la posizione di <code>&lt;oggetto&gt;</code> nell&#8217;albero degli oggetti, ma controlla anche gli attributi del <em>parent</em> per vedere se è aperto o chiuso.
Inoltre controlla la proprietà <code>found_in</code> [trovato_in], nel caso in cui <code>&lt;oggetto&gt;</code> sia assegnato a locazioni multiple invece di un determinato <em>parent</em>, e poi controlla la proprietà <code>in_scope</code> [a_portata] dell&#8217;oggetto (se esiste).</p>
</div>
<div class="paragraph">
<p>Infine il comportamento predefinito di <code>FindObject</code> richiede che il giocatore abbia incontrato l&#8217;oggetto per renderlo valido in un&#8217;azione, deve avere l&#8217;attributo <code>known</code> [conosciuto] impostato.
Per evitarlo bisogna sostituire la routine <code>ObjectIsKnown</code> con una routine che restituisce un valore <em>true</em> incondizionatamente.</p>
</div>
<div class="paragraph">
<p>Esiste un caso speciale in cui l&#8217;interprete si aspetta che la routine <code>FindObject</code> sia utile: ed è quando la routine viene chiamata con <code>&lt;locazione&gt;</code> uguale a 0.
Questo avviene tutte le volte che l&#8217;interprete ha bisogno di sapere se un oggetto è disponibile&#8201;&#8212;&#8201;ignorando le regole che normalemente governano la disponibilità degli oggetti&#8201;&#8212;&#8201;come quando un&#8217;istruzione grammaticale &#8216;anything&#8217; [qualunque cosa] viene incontrata, o quando l&#8217;interprete ha bisogno di distinguere tra due o più oggetti apparentemente identici.</p>
</div>
<div class="paragraph">
<p>(Inoltre <code>FindObject</code> può essere chiamata dall&#8217;interprete con <code>&lt;oggetto&gt; `e `&lt;locazione&gt;</code> entrambi a 0 per ripristinare una distinzione di oggetti operata dalla libreria).</p>
</div>
</div>
<div class="sect2">
<h3 id="_speakto"><a class="anchor" href="#_speakto"></a>8.5. SpeakTo</h3>
<div class="paragraph">
<p>La routine <code>SpeakTo</code> viene chiamata tutte le volte che una riga di input comincia con un nome di un oggetto valido invece di un verbo.
In questo modo il giocatore può indirizzare i comandi ai personaggi (di solito) nel gioco.
Ad esempio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Professor Plum, drop the lead pipe</code></pre>
</div>
</div>
<div class="paragraph">
<p>È compito della routine <code>SpeakTo</code> interpretare correttamente l&#8217;istruzione.</p>
</div>
<div class="paragraph">
<p><code>SpeakTo</code> viene chiamata con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">SpeakTo(<span class="hl opt">&lt;</span>personaggio<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove <code>&lt;personaggio&gt;</code> nell&#8217;esempio precedente dovrebbe essere l&#8217;oggetto <code>Professor Plum</code>.</p>
</div>
<div class="paragraph">
<p>Le variabili globali <code>object</code>, <code>xobject</code> e <code>verbroutine</code> vengono impostate normalmente.
Nell&#8217;esempio precedente i valori sarebbero</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span>      leadpipe&#x000A;<span class="hl kwa">xobject</span>     nothing&#x000A;verbroutine      <span class="hl opt">&amp;</span>DoDrop</code></pre>
</div>
</div>
<div class="paragraph">
<p>quando <code>SpeakTo</code> viene chiamata.</p>
</div>
<div class="paragraph">
<p>La routine <code>SpeakTo</code> di <code>HUGOLIB.H</code> fornisce un&#8217;interpretazione base delle domande, così che</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Professor Plum, what about the lead    pipe?</p>
</div>
</div>
</div>
<div class="paragraph">
<p>viene indirizzata alla routine verbo appropriata, come se il giocatore avesse scritto:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>ask Professor Plum about the lead pipe</p>
</div>
</div>
</div>
<div class="paragraph">
<p>I comandi imperativi, come</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>Colonel Mustard, stand up</p>
</div>
</div>
</div>
<div class="paragraph">
<p>vengono prima indirizzati alla proprietà <code>order_response</code> dell&#8217;oggetto personaggio in questione.
A questo punto è compito di <code>&lt;personaggio&gt;.order_response</code> analizzare <code>verbroutine</code> (così come <code>object</code> e <code>xobject</code> se necessario) per vedere se la richiesta è valida.
Se non è prevista nessuna risposta, <code>order_response</code> deve restituire <em>false</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">order_response&#x000A;{&#x000A;    <span class="hl kwa">if</span> verbroutine <span class="hl opt">= &amp;</span>DoGet&#x000A;        <span class="hl str">&quot;Vorrei, ma la mia      schiena mi fa troppo male.&quot;</span>&#x000A;    <span class="hl kwa">else</span>&#x000A;        <span class="hl kwa">return false</span>&#x000A;}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_perform"><a class="anchor" href="#_perform"></a>8.6. Perform</h3>
<div class="paragraph">
<p>La routine <code>Perform</code> è quella che viene chiamata dall&#8217;interprete per eseguire la <code>verbroutine</code> appropriata, con gli oggetti diretti e indiritti forniti.
È compito di <code>Perform</code> eseguire i controlli alle routine <code>before</code> per determinare se l&#8217;esecuzione corrisponde a <code>verbroutine</code>.</p>
</div>
<div class="paragraph">
<p><code>Perform</code> viene chiamata con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&lt;</span>verbroutine<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span><span class="hl kwa">object</span><span class="hl opt">&gt;</span>,      <span class="hl opt">&lt;</span><span class="hl kwa">xobject</span><span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>accoda<span class="hl opt">&gt;</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>I primi tre argomenti sono il verbo (sempre), l&#8217;oggetto (se fornito) e l&#8217;oggetto indiretto, cioè l'`xobject` (se fornito).
Il parametro <code>&lt;accoda&gt;</code> è 0 a meno che la routine verbo debba essere chiamata più di una volta per oggetti multipli. (Come caso speciale <code>&lt;accoda&gt;</code> è -1 se <code>object</code> o <code>xobject</code> sono un numero fornito in input come una o più cifre, in modo da indicare a <code>Perform</code> di non effettuare le normali chiamate alle routine <code>before/after</code>).</p>
</div>
<div class="paragraph">
<p>Ad esempio i vari comandi del giocatore potrebbero (approssimativamente, a seconda delle routine verbo e degli oggetti) generare le chiamate:</p>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;i</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&amp;</span>doInventory, <span class="hl num">0</span>, <span class="hl num">0</span>,      <span class="hl num">0</span>)</code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;get key</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&amp;</span>DoGet, key_object, <span class="hl num">0</span>, <span class="hl num">0</span>)</code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;put the key on the table</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&amp;</span>DoPutIn, key_object, table_object, <span class="hl num">0</span>)</code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;turn the dial to 127</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&amp;</span>DoTurn, dial, <span class="hl num">127</span>, <span class="hl opt">-</span><span class="hl num">1</span>)</code></pre>
</div>
</div>
<div class="exampleblock gametranscript">
<div class="content">
<div class="paragraph">
<p>&gt;get key and banana</p>
</div>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">Perform(<span class="hl opt">&amp;</span>DoGet, key_object, <span class="hl num">0</span>, <span class="hl num">1</span>)&#x000A;Perform(<span class="hl opt">&amp;</span>DoGet, banana, <span class="hl num">0</span>, <span class="hl num">2</span>)</code></pre>
</div>
</div>
<div class="paragraph">
<p>(Se non esiste una routine <code>Perform</code>, l&#8217;interprete esegue la chiamata di default a <code>player.before</code>, <code>location.before</code>, <code>xobject.before</code> e <code>object.before</code>, infine <code>verbroutine</code> se nessuno di questi restituisce <em>true</em>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_il_ciclo_del_gioco"><a class="anchor" href="#_il_ciclo_del_gioco"></a>9. IL CICLO DEL GIOCO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Questo è il modello che segue <strong>Hugo Engine</strong> (l&#8217;interprete) durante l&#8217;esecuzione del programma. (Vengono menzionate anche le chiamate alle routine <code>before</code> e a <code>verbroutine</code> da parte di <code>Perform</code> in <code>HUGOLIB.H</code>.
Sebbene non facenti parte necessariamente del ciclo di gioco&#8201;&#8212;&#8201;visto che possono o meno essere incluse in un programma&#8201;&#8212;&#8201;vengono menzionate perché sono relative ad ogni programma Hugo che faccia uso della libreria standard di Hugo).</p>
</div>
<div class="paragraph">
<p>(<code>INIT</code>: la routine <code>Init</code> viene chiamata solo quando il programma viene eseguito la prima volta, o quando viene dato un comando &#8216;restart&#8217; [ricomincia]).</p>
</div>
<div class="paragraph">
<p><code>MAIN</code>: all&#8217;inizio del ciclo di gioco l&#8217;interprete chiama la routine <code>Main</code>.
La routine dovrebbe&#8201;&#8212;&#8201;come nei programmi di esempio forniti&#8201;&#8212;&#8201;prendersi cura dell&#8217;avanzamento del contatore dei turni, eseguire il comando <code>runevents</code> e chiamare le routine della libreria come <code>RunScripts</code> e <code>PrintStatusLine</code>.</p>
</div>
<div class="paragraph">
<p><code>INPUT</code>: l&#8217;input da tastiera viene ricevuto.</p>
</div>
<div class="paragraph">
<p><code>PARSING</code>: viene controllata la validità della riga di input, vengono controllati i sinonimi ed altre parole speciali, e viene chiamata (se presente) la routine <code>Parse</code> dell&#8217;utente.</p>
</div>
<div class="paragraph">
<p><code>GRAMMAR MATCHING</code>: l&#8217;interprete cerca di far corrispondere la riga di input con un verbo ed una sintassi validi nella tavola della grammatica.
Se non viene trovata nessuna corrispondenza l&#8217;interprete torna ad <code>INPUT</code>.<br>
Altrimenti se viene trovata una corrispondenza si ha almeno l&#8217;impostazione della variabile globale <code>verbroutine</code>, così come le eventuali <code>object</code> e <code>xobject</code>.</p>
</div>
<div class="paragraph">
<p><code>BEFORE ROUTINES</code> (chiamate da <code>Perform</code> in <code>HUGOLIB.H</code>):</p>
</div>
<div class="paragraph">
<p>se degli oggetti sono stati specificati nella riga di input, le loro routine before vengono controllate nel seguente ordine, per ciascun oggetto:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>player.before</code></p>
</li>
<li>
<p><code>location.before</code></p>
</li>
<li>
<p><code>xobject.before</code> (se appropriato)</p>
</li>
<li>
<p><code>object.before</code> (se appropriato)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Se una qualunque di queste routine restituisce <em>true</em>, l&#8217;interprete salta la routine verbo.</p>
</div>
<div class="paragraph">
<p><code>VERB ROUTINE</code> (chiamata da <code>Perform</code> in <code>HUGOLIB.H</code>):<br>
se nessuna routine <code>before</code> restituisce <em>true</em> la routine verbo viene eseguita.</p>
</div>
<div class="paragraph">
<p>Se un&#8217;azione viene completata con successo, la routine verbo deve restituire <em>true</em>.
Un valore di ritorno <em>false</em> annulla gli eventuali comandi rimanenti sulla riga di input.</p>
</div>
<div class="paragraph">
<p><code>Perform</code> non esegue nessuna proprietà <code>after</code> per <code>object</code> o <code>xobject</code>; questo è compito della routine verbo.
Esegue sia <code>player.after</code> che <code>location.after</code> se la routine verbo restituisce <em>true</em>.</p>
</div>
<div class="paragraph">
<p>(Il controllo ritorna dalla routine <code>Perform</code> della libreria all&#8217;interprete)</p>
</div>
<div class="paragraph">
<p>Quando ha finito l&#8217;interprete ritorna a <code>MAIN</code>, chiamando la routine <code>Main</code> solo se l&#8217;ultimo verbo verificato non era un <code>xverb</code>.</p>
</div>
<div class="paragraph">
<p>Impostare la variabile globale <code>endflag</code> in qualunque punto ad un valore diverso da zero comporta il termine del ciclo di gioco e l&#8217;esecuzione della routine <code>EndGame</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Le informazioni di annullamento richiamate da &#8216;undo&#8217; vengono salvate ad ogni turno solo durante la routine <code>Main</code> (compreso qualunque comando o funzione richiamati al suo interno, come gli eventi, le micce ed i demoni, o gli script dei personaggi) e le routine verbo (a meno che il verbo sia un <code>xverb</code>).
È perciò raccomandato che nessun&#8217;altra routine cambi un dato di gioco significativo, visto che questo non sarebbe recuperabile da &#8216;undo&#8217;.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funzionalità_avanzate"><a class="anchor" href="#_funzionalità_avanzate"></a>10. FUNZIONALITÀ AVANZATE</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_loggetto_display"><a class="anchor" href="#_loggetto_display"></a>10.1. L&#8217;oggetto Display</h3>
<div class="paragraph">
<p>L&#8217;interprete fornisce un accesso alle seguenti proprietà di sola lettura (sebbene i nomi siano definiti in <code>HUGOLIB.H</code>):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>screenwidth</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">la larghezza dello schermo, in caratteri</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>screenheight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;altezza dello schermo, in caratteri</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>linelength</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">la larghezza della finestra di testo corrente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>windowlines</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">l&#8217;altezza della finestra di testo corrente</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cursor_column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">posizione orizzontale e verticale del cursore nella</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>cursor_row</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">finestra di testo corrente</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>La libreria di Hugo definisce anche la proprietà leggibile/scrivibile:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>statusline_height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altezza dell&#8217;ultima riga di stato stampata</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Per consentire all&#8217;interprete di identificare correttamente l&#8217;oggetto <code>display</code>, viene selezionato l&#8217;oggetto (se presente) con il nome &#8220;(display)&#8221;, cioè un oggetto che è definito come</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">object</span> display&#x000A;{&#x000A;&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>senza nessun nome indicato.
Questo è il modo in cui la libreria definisce l&#8217;oggetto <code>display</code>, così che le varie proprietà dell&#8217;oggetto <code>display</code> siano leggibili come in <code>display.screenheight</code>, <code>display.cursor_column</code>, ecc.</p>
</div>
</div>
<div class="sect2">
<h3 id="_finestre"><a class="anchor" href="#_finestre"></a>10.2. Finestre</h3>
<div class="paragraph">
<p>È possibile creare una finestra all&#8217;interno dello schermo per l&#8217;output del testo.
La posizione del cursore, il ritorno a capo delle righe, ecc., vengono tarati ai limiti della finestra corrente.
La posizione del cursore ed i limiti della finestra vengono sempre calcolati sulla dimensione dei caratteri a larghezza fissa.
Le varie sintassi dell&#8217;istruzione &#8216;window&#8217; sono:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>window 0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ripristina la visualizzazione a tutto schermo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>window n</code><br>
<code>{&#8230;&#8203;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crea una finestra di <code>n</code> righe dimensionandola come l&#8217;intero schermo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>window l, t, r, b {&#8230;&#8203;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crea una finestra con angolo in alto a sinistra (<code>l,t</code>) ed un angolo in basso a destra (<code>r, b</code>), con queste coordinate indicate in coordinate di caratteri dell&#8217;intero schermo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>window `<br>
`{&#8230;&#8203;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ridisegna l&#8217;ultima finestra definita</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Ognuna di queste sintassi, tranne &#8220;window 0&#8221;, è seguita da un blocco di codice durante il quale, normalmente, il testo viene inviato alla finestra.</p>
</div>
<div class="paragraph">
<p>La finestra (i suoi limiti) esiste per la durata del blocco &#8220;{&#8230;&#8203;}&#8221;.
Quando finisce la sommità della finestra di testo principale viene ridefinita come se cominciasse immediatamente sotto l&#8217;ultima finestra disegnata.
Per cancellare la registrazione di qualunque finestra e ripristinare la finestra di testo principale allo schermo intero, si usa &#8220;window 0&#8221;.</p>
</div>
<div class="paragraph">
<p>Il file di libreria per la gestione delle finestre si chiama <code>WINDOW.H</code> e definisce una classe finestra chiamata <code>window_class</code> con le proprietà associate, così che una finestra possa essere creata con:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">window_class <span class="hl opt">&lt;</span>nome finestra<span class="hl opt">&gt;</span> <span class="hl str">&quot;titolo&quot;</span>&#x000A;{&#x000A;    win_position        <span class="hl opt">&lt;</span>colonna schermo<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>riga schermo<span class="hl opt">&gt;</span>&#x000A;    win_size            <span class="hl opt">&lt;</span>colonne<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>righe<span class="hl opt">&gt;</span>&#x000A;&#x000A;    win_textcolor  <span class="hl opt">&lt;</span>colore del testo<span class="hl opt">&gt;</span>&#x000A;    win_backcolor  <span class="hl opt">&lt;</span>colore dello      sfondo<span class="hl opt">&gt;</span>&#x000A;    win_titlecolor <span class="hl opt">&lt;</span>colore del      testo del titolo<span class="hl opt">&gt;</span>&#x000A;    win_titleback       <span class="hl opt">&lt;</span>colore dello sfondo del titolo<span class="hl opt">&gt;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La <code>window_class</code> incorpora anche le routine proprietà <code>win_init</code>, <code>win_clear</code> e <code>win_end</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Può essere importante tenere a mente che le misure come <code>display.screenwidth</code> possono cambiare durante l&#8217;esecuzione, in particolar modo in un ambiente con un&#8217;interfaccia grafica a finestre che consente il ridimensionamento della finestra del programma Hugo.<br>
Per questa ragione è prudente controllare <code>display.&lt;proprietà&gt;</code> ogni volta che una finestra deve essere disegnata, invece di basare le coordinate su, ad esempio, un insieme di limiti calcolati durante l&#8217;inizializzazione del programma.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_leggere_e_scrivere_i_file"><a class="anchor" href="#_leggere_e_scrivere_i_file"></a>10.3. Leggere e scrivere i file</h3>
<div class="paragraph">
<p>Ci possono essere delle occasioni in cui sia utile memorizzare dei dati in un file per una lettura successiva.
Il modo più semplice per farlo richiede</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl kwa">save</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>e</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl kwa">restore</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>dove le funzioni &#8216;save&#8217; e &#8216;restore&#8217; restituiscono il valore <em>true</em> a <code>x</code> se hanno avuto successo, o il valore <em>false</em> se per qualche ragione sono andate in errore.
In ogni caso, tutto l&#8217;insieme dei dati di gioco&#8201;&#8212;&#8201;comprese le posizioni degli oggetti, i valori delle variabili, gli array, gli attributi, ecc.&#8201;&#8212;&#8201;vengono salvati o ripristinati.</p>
</div>
<div class="paragraph">
<p>Altre volte può essere preferibile salvare solo determinati valori.<br>
Ad esempio, un determinato gioco può consentire al giocatore di creare alcune caratteristiche del personaggio o altri &#8220;dati da ricordare&#8221; che possono essere ripristinati nello stesso gioco od in altri giochi.</p>
</div>
<div class="paragraph">
<p>Per fare questo si usano le operazioni &#8216;writefile&#8217; e &#8216;readfile&#8217;.</p>
</div>
<div class="paragraph">
<p>La struttura</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">writefile</span> <span class="hl opt">&lt;</span>nomefile<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>aprirà, all&#8217;inizio del blocco <code>writefile</code>, il file <code>&lt;nomefile&gt;</code> per la scrittura e posizionerà <code>&lt;nomefile&gt;</code> all&#8217;inizio del file (vuoto). (Se il file esiste verrà pulito/cancellato).
Alla fine del blocco il file verrà nuovamente chiuso.</p>
</div>
<div class="paragraph">
<p>All&#8217;interno di un blocco <code>writefile</code> si scrivono i valori usando</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">writeval</span> <span class="hl opt">&lt;</span>valore1<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>valore2<span class="hl opt">&gt;</span>,    ...]</code></pre>
</div>
</div>
<div class="paragraph">
<p>dove uno o più valori possono essere specificati.</p>
</div>
<div class="paragraph">
<p>Per leggere il file si usa la struttura</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">readfile</span> <span class="hl opt">&lt;</span>nomefile<span class="hl opt">&gt;</span>&#x000A;{&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>che conterrà le assegnazioni</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">x <span class="hl opt">=</span> <span class="hl kwa">readval</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>per ogni valore che deve essere letto, con <code>x</code> che rappresenta una variabile, o una proprietà, o un altro valore scrivibile.</p>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> conta, test&#x000A;&#x000A;conta <span class="hl opt">=</span> <span class="hl num">10</span>&#x000A;<span class="hl kwa">writefile</span> <span class="hl str">&quot;filetest&quot;</span>&#x000A;{&#x000A;    <span class="hl kwa">writeval</span> count, <span class="hl str">&quot;telefono&quot;</span>, <span class="hl num">10</span>&#x000A;    test <span class="hl opt">=</span> FILE_CHECK&#x000A;         <span class="hl kwa">writeval</span> test&#x000A;}&#x000A;<span class="hl kwa">if</span> test <span class="hl opt">~=</span> FILE_CHECK <span class="hl slc">! c&#39;è stato un errore</span>&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Errore      durante la scrittura.&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>scriverà la variabile <code>conta</code>, la voce di dizionario &#8220;telefono&#8221; ed il valore <code>10</code> in &#8220;filetest&#8221;.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">local</span> a, b, c, test&#x000A;&#x000A;<span class="hl kwa">readfile</span> <span class="hl str">&quot;filetest&quot;</span>&#x000A;{&#x000A;    a <span class="hl opt">=</span> <span class="hl kwa">readval</span>&#x000A;    b <span class="hl opt">=</span> <span class="hl kwa">readval</span>&#x000A;    c <span class="hl opt">=</span> <span class="hl kwa">readval</span>&#x000A;    test <span class="hl opt">=</span> <span class="hl kwa">readval</span>&#x000A;}&#x000A;<span class="hl kwa">if</span> test <span class="hl opt">~=</span> FILE_CHECK <span class="hl slc">! c&#39;è stato un errore</span>&#x000A;{&#x000A;    <span class="hl kwa">print</span> <span class="hl str">&quot;Errore durante la lettura.&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Se il blocco <code>readfile</code> viene eseguito con successo, <code>a</code> sarà uguale al precedente valore di <code>conta</code>, <code>b</code> conterrà &#8220;telefono&#8221; e <code>c</code> sarà uguale a <code>10</code>.</p>
</div>
<div class="paragraph">
<p>La costante <code>FILE_CHECK</code>, definita in <code>HUGOLIB.H</code>, è utile perché <code>writefile</code> e <code>readfile</code> non forniscono nessun valore di ritorno esplicito per indicare un errore. <code>FILE_CHECK</code> è una sequenza di due byte univoca che può essere usata per verificare la correttezza delle operazioni.</p>
</div>
<div class="paragraph">
<p>Nel blocco <code>writefile</code>, se il blocco termina prematuramente a causa di un errore, la variabile <code>test</code> non viene impostata a <code>FILE_CHECK</code>.
L&#8217;istruzione &#8216;if&#8217; che segue il blocco verifica proprio questo.</p>
</div>
<div class="paragraph">
<p>Nel blocco <code>readfile</code>, <code>test</code> viene impostata a <code>FILE_CHECK</code> sono se la sequenza di funzioni <code>readval</code> trova il numero corretto di valori in &#8220;filetest&#8221;.
Se ce ne sono troppi o troppo pochi, o se un errore causa un termine prematuro del blocco, <code>test</code> sarà uguale ad un valore diverso da <code>FILE_CHECK</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_risorse"><a class="anchor" href="#_risorse"></a>11. RISORSE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;interprete consente ad un programma Hugo di accedere a dei dati esterni (chiamati risorse) compilati in un file formattato in maniera speciale chiamato <em>resourcefile</em> [file delle risorse].
Un <em>resourcefile</em> viene creato usando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">resource <span class="hl str">&quot;&lt;filerisorse&gt;&quot;</span>&#x000A;{&#x000A;    <span class="hl str">&quot;&lt;risorsa1&gt;&quot;</span>&#x000A;    <span class="hl str">&quot;&lt;risorsa2&gt;&quot;</span>&#x000A;    ...&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il nome <code>&lt;filerisorse&gt;</code> deve essere di 8 caratteri (o meno) alfanumerici che vengono automaticamente convertiti in maiuscolo. (La ragione è quella di massimizzare la portabilità attraverso le differenti piattaforme ed i differenti sistemi di nomenclatura dei file&#8201;&#8212;&#8201;sfortunatamente non tutti seguono le stesse convenzioni, così questa restrizione vuole ridurre la nomenclatura dei file al minimo comun denominatore).</p>
</div>
<div class="paragraph">
<p>Attualmente la versione v2.5 supporta i file grafici JPEG, i campionamenti audio RIFF/WAV, e i moduli musicali MOD/S3M/XM come risorse.</p>
</div>
<div class="paragraph">
<p>Ad esempio, quello che segue è un file di risorse immaginario compilato su una piattaforma Windows 95/NT:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">resource <span class="hl str">&quot;gameres1&quot;</span>&#x000A;{&#x000A;    <span class="hl str">&quot;c:\hugo\graphics\logo.jpg&quot;</span>&#x000A;    <span class="hl str">&quot;h:\data\scenic panorama.jpg&quot;</span>&#x000A;    <span class="hl str">&quot;h:\data</span><span class="hl esc">\b</span><span class="hl str">ackground.jpg&quot;</span>&#x000A;    <span class="hl str">&quot;c:\music</span><span class="hl esc">\i</span><span class="hl str">ntro_theme.s3m&quot;</span>&#x000A;    <span class="hl str">&quot;c:\music\theme2.xm&quot;</span>&#x000A;    <span class="hl str">&quot;c:\sounds\sample1.wav&quot;</span>&#x000A;    <span class="hl str">&quot;c:\sounds\sample2.wav&quot;</span>&#x000A;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Non importa che la nomenclatura all&#8217;interno della definizione della risorsa non sia portabile.
Nel precedente &#8220;gameres1&#8221;, ad esempio, i nomi dei file sono specifici di Windows 95/NT, visto che è dove i file originali sono posizionati.
Le risorse, comunque, vengono accedute solo per mezzo del nome del file come voci nell&#8217;indice del file delle risorse.
Perciò, dopo che &#8220;gameres1&#8221; è stato creato, ci si riferisce alle tre immagini come &#8220;logo&#8221;, &#8220;scenic panorama&#8221; e &#8220;background&#8221; all&#8217;interno del file delle risorse &#8220;gameres1&#8221;.
(Notate come qualunque indicazione di disco/percorso o estensione di file siano stati rimossi e non inclusi nell&#8217;indice.
Come risultato due risorse con lo stesso nome, ma con percorsi o estensioni differenti non possono essere inclusi nello stesso file delle risorse).</p>
</div>
<div class="paragraph">
<p>A causa della relativa non portabilità dei <em>resourcefile</em> (più il tempo aggiuntivo richiesto su macchine lente dall&#8217;indicizzazione ed il consolidamento di centinaia di kilobyte di dati ponteziali), si raccomanda di compilare le risorse da file sorgenti separati del resto del gioco Hugo.</p>
</div>
<div class="paragraph">
<p>L&#8217;estensione della libreria <code>RESOURCE.H</code> fornisce delle routine utili alla gestione delle risorse in un programma Hugo.</p>
</div>
<div class="paragraph">
<p>Definisce inoltre i seguenti valori potenziali per <code>system_status</code>, che può essere controllata dopo un&#8217;operazione sulle risorse.
Se <code>system_status</code> ha un valore diverso da zero (indicante lo stato normale), può contenere uno dei seguenti valori:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>-1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STAT_UNAVAILABLE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>101</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STAT_NOFILE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>102</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STAT_NORESOURCE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>103</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STAT_LOADERROR</code></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_immagini"><a class="anchor" href="#_immagini"></a>11.1. Immagini</h3>
<div class="paragraph">
<p>Un&#8217;immagine memorizzata in un <em>resourcefile</em> viene visualizzata mediante:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">picture</span> <span class="hl str">&quot;&lt;resourcefile&gt;&quot;</span>, <span class="hl str">&quot;&lt;immagine&gt;&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Ad esempio,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">picture</span> <span class="hl str">&quot;gameres1&quot;</span>, <span class="hl str">&quot;logo&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>(È possibile inserire il percorso diretto di un&#8217;immagine come in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">picture</span> <span class="hl str">&quot;c:\hugo\graphics\logo.jpg&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>ma visto che l&#8217;indicazione percorso/nomefile è specifica di un sistema operativo questa notazione deve essere usata solo per i test.
Se l&#8217;immagine indicata non viene trovata nel resourcefile specificato, l&#8217;interprete cercherà di leggere l&#8217;immagine come un file nel percorso di ricerca corrente).</p>
</div>
<div class="paragraph">
<p>L&#8217;immagine verrà visualizzata nella finestra di testo corrente.
Se l&#8217;immagine è più piccola della finestra verrà centrata.
Se è più larga, verrà ristretta per farla entrare.
Se la versione di Hugo Engine che si sta usando non è abilitata alla grafica, allora &#8216;picture&#8217; non avrà effetto.</p>
</div>
<div class="paragraph">
<p>Se l&#8217;immagine non viene trovata o se un errore non bloccante viene incontrato durante la lettura, l&#8217;esecuzione dell&#8217;interprete prosegue normalemente.</p>
</div>
<div class="paragraph">
<p><code>RESOURCE.H</code> fornisce un paio di routine per la gestione della grafica:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">LoadPicture(<span class="hl str">&quot;resourcefile&quot;</span>, <span class="hl str">&quot;immagine&quot;</span>)&#x000A;LoadPicture(<span class="hl str">&quot;immagine&quot;</span>)``&#x000A;&#x000A;PictureInText(<span class="hl str">&quot;file&quot;</span>, <span class="hl str">&quot;immagine&quot;</span>, larghezza, altezza, preserva)&#x000A;PictureInText(<span class="hl str">&quot;immagine&quot;</span>, larghezza, altezza, preserva)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sostanzialmente <code>LoadPicture</code> è un <em>wrapper</em> per l&#8217;istruzione &#8216;picture&#8217; che fornisce il servizio addizionale del controllo di <code>display.hasgraphics</code> per verificare che sia disponibile uno schermo grafico.</p>
</div>
<div class="paragraph">
<p><code>PictureInText</code> è leggermente più complicata.
Consente ad un&#8217;immagine di essere visualizzata nel normale flusso del testo della finestra principale.
Gli argomenti <code>&lt;larghezza&gt;</code> e <code>&lt;altezza&gt;</code> forniscono le dimensioni in caratteri a larghezza fissa dell&#8217;area dello schermo. (Visto che gli schermi differiscono nelle dimensioni dei caratteri, si raccomanda di calcolarle basandosi su <code>display.screenwidth</code> e <code>display.screenheight</code> invece di passare dei valori assoluti).
Il parametro <code>&lt;preserva&gt;</code>, se fornito, assicura che una o più righe all&#8217;inizio dello schermo vengano protette dallo scrolling (si evita che scorrano fuori dallo schermo).</p>
</div>
<div class="paragraph">
<p>(Sia <code>LoadPicture</code> che <code>PictureInText</code> possono essere chiamate solo con l&#8217;indicazione dell&#8217;immagine, senza indicare il <em>resourcefile</em>.
In questo caso <code>RESOURCE.H</code> cerca di trovare la risorsa nell&#8217;ultimo <em>resourcefile</em> usato, memorizzato nella variabile globale <code>last_resource_file</code>.
Vista la potenziale imprecizione di questo metodo, si raccomanda di specificare sempre il nome del <em>resourcefile</em>).</p>
</div>
</div>
<div class="sect2">
<h3 id="_suono_e_musica"><a class="anchor" href="#_suono_e_musica"></a>11.2. Suono e musica</h3>
<div class="paragraph">
<p>I suoni e la musica vengono riprodotti usando le istruzioni Hugo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">sound</span> [<span class="hl kwa">repeat</span>] <span class="hl opt">&lt;</span>resourcefile<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>risorsa<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>vol<span class="hl opt">&gt;</span>]&#x000A;<span class="hl kwa">music</span> [<span class="hl kwa">repeat</span>] <span class="hl opt">&lt;</span>resourcefile<span class="hl opt">&gt;</span>, <span class="hl opt">&lt;</span>risorsa<span class="hl opt">&gt;</span>[, <span class="hl opt">&lt;</span>vol<span class="hl opt">&gt;</span>]</code></pre>
</div>
</div>
<div class="paragraph">
<p>La parola chiave <code>repeat</code> è opzionale; se fornita si forza l&#8217;interprete a ripetere in continuazione la riproduzione della risorsa suono/musica fino ad una notifica successiva (cioè fino a che non viene fermata o quando viene riprodotta un&#8217;altra risorsa suono/musica).
L&#8217;argomento <code>&lt;vol&gt;</code> è opzionale.
Se fornito indica una percentuale di volume (da 0 a 100) per la riproduzione.</p>
</div>
<div class="paragraph">
<p>Il suono o la musica che si stanno riproducendo possono essere interrotti usando:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo"><span class="hl kwa">sound</span> <span class="hl num">0</span>&#x000A;<span class="hl kwa">music</span> <span class="hl num">0</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>RESOURCE.H</code> fornisce un paio di funzioni <em>wrapper</em> per la gestione delle risorse audio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">PlaySound(resourcefile, campione, ciclo, forza)&#x000A;PlayMusic(resourcefile, canzone, ciclo, forza)</code></pre>
</div>
</div>
<div class="paragraph">
<p>In entrambi i casi se <code>&lt;ciclo&gt;</code> è <em>true</em> ha lo stesso effetto di usare <code>repeat</code> nelle istruzioni &#8216;sound&#8217; e &#8216;music&#8217;.
Se <code>&lt;forza&gt;</code> è <em>true</em>, il campione o la musica ripartono anche se quel campione o quella musica sono già in riproduzione (altrimenti le chiamate a <code>PlaySound</code> o <code>PlayMusic</code> non hanno effetti sostanziali).</p>
</div>
<div class="paragraph">
<p>Per fermare la riproduzione di un campione o di una musica attraverso l&#8217;interfaccia della libreria si usa:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight" lang="hugo"><code class="language-hugo" data-lang="hugo">PlaySound(SOUND_STOP)&#x000A;PlayMusic(MUSIC_STOP)</code></pre>
</div>
</div>
<div class="paragraph">
<p>(dove <code>SOUND_STOP</code> e <code>MUSIC_STOP</code> sono costanti definite in <code>RESOURCE.H</code>).</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1<br>
</div>
</div>
</body>
</html>